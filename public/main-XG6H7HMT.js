var PV=Object.defineProperty,kV=Object.defineProperties;var OV=Object.getOwnPropertyDescriptors;var Hd=Object.getOwnPropertySymbols,NV=Object.getPrototypeOf,GC=Object.prototype.hasOwnProperty,WC=Object.prototype.propertyIsEnumerable,FV=Reflect.get;var HC=(n,e,t)=>e in n?PV(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})GC.call(e,t)&&HC(n,t,e[t]);if(Hd)for(var t of Hd(e))WC.call(e,t)&&HC(n,t,e[t]);return n},ae=(n,e)=>kV(n,OV(e));var Dy=(n,e)=>{var t={};for(var r in n)GC.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Hd)for(var r of Hd(n))e.indexOf(r)<0&&WC.call(n,r)&&(t[r]=n[r]);return t};var so=(n,e,t)=>FV(NV(n),t,e);var S=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function Ry(n,e){return Object.is(n,e)}var Tt=null,Gd=!1,My=1,Wn=Symbol("SIGNAL");function Ae(n){let e=Tt;return Tt=n,e}function Py(){return Tt}var ml={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function gl(n){if(Gd)throw new Error("");if(Tt===null)return;Tt.consumerOnSignalRead(n);let e=Tt.nextProducerIndex++;if(Yd(Tt),e<Tt.producerNode.length&&Tt.producerNode[e]!==n&&pl(Tt)){let t=Tt.producerNode[e];Kd(t,Tt.producerIndexOfThis[e])}Tt.producerNode[e]!==n&&(Tt.producerNode[e]=n,Tt.producerIndexOfThis[e]=pl(Tt)?KC(n,Tt,e):0),Tt.producerLastReadVersion[e]=n.version}function QC(){My++}function ky(n){if(!(pl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===My)){if(!n.producerMustRecompute(n)&&!Ly(n)){xy(n);return}n.producerRecomputeValue(n),xy(n)}}function Oy(n){if(n.liveConsumerNode===void 0)return;let e=Gd;Gd=!0;try{for(let t of n.liveConsumerNode)t.dirty||LV(t)}finally{Gd=e}}function Ny(){return Tt?.consumerAllowSignalWrites!==!1}function LV(n){n.dirty=!0,Oy(n),n.consumerMarkedDirty?.(n)}function xy(n){n.dirty=!1,n.lastCleanEpoch=My}function Qd(n){return n&&(n.nextProducerIndex=0),Ae(n)}function Fy(n,e){if(Ae(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(pl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Kd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ly(n){Yd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(ky(t),r!==t.version))return!0}return!1}function Vy(n){if(Yd(n),pl(n))for(let e=0;e<n.producerNode.length;e++)Kd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function KC(n,e,t){if(YC(n),n.liveConsumerNode.length===0&&ZC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=KC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Kd(n,e){if(YC(n),n.liveConsumerNode.length===1&&ZC(n))for(let r=0;r<n.producerNode.length;r++)Kd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Yd(i),i.producerIndexOfThis[r]=e}}function pl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function YC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ZC(n){return n.producerNode!==void 0}function jy(n,e){let t=Object.create(VV);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(ky(t),gl(t),t.value===Wd)throw t.error;return t.value};return r[Wn]=t,r}var Sy=Symbol("UNSET"),Ay=Symbol("COMPUTING"),Wd=Symbol("ERRORED"),VV=ae(B({},ml),{value:Sy,dirty:!0,error:null,equal:Ry,kind:"computed",producerMustRecompute(n){return n.value===Sy||n.value===Ay},producerRecomputeValue(n){if(n.value===Ay)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Ay;let t=Qd(n),r,i=!1;try{r=n.computation(),Ae(null),i=e!==Sy&&e!==Wd&&r!==Wd&&n.equal(e,r)}catch(o){r=Wd,n.error=o}finally{Fy(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function jV(){throw new Error}var JC=jV;function XC(n){JC(n)}function By(n){JC=n}var BV=null;function Uy(n,e){let t=Object.create(Zd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(gl(t),t.value);return r[Wn]=t,r}function yl(n,e){Ny()||XC(n),n.equal(n.value,e)||(n.value=e,UV(n))}function $y(n,e){Ny()||XC(n),yl(n,e(n.value))}var Zd=ae(B({},ml),{equal:Ry,value:void 0,kind:"signal"});function UV(n){n.version++,QC(),Oy(n),BV?.()}function zy(n){let e=Ae(null);try{return n()}finally{Ae(e)}}var qy;function vl(){return qy}function fi(n){let e=qy;return qy=n,e}var Jd=Symbol("NotFound");function ye(n){return typeof n=="function"}function ha(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Xd=ha(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ts(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){e=o instanceof Xd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{eD(o)}catch(s){e=e??[],s instanceof Xd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)eD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ts(t,e)}remove(e){let{_finalizers:t}=this;t&&ts(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var Hy=Ne.EMPTY;function eh(n){return n instanceof Ne||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function eD(n){ye(n)?n():n.unsubscribe()}var lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fa={setTimeout(n,e,...t){let{delegate:r}=fa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=fa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function th(n){fa.setTimeout(()=>{let{onUnhandledError:e}=lr;if(e)e(n);else throw n})}function _l(){}var tD=Gy("C",void 0,void 0);function nD(n){return Gy("E",void 0,n)}function rD(n){return Gy("N",n,void 0)}function Gy(n,e,t){return{kind:n,value:e,error:t}}var ns=null;function pa(n){if(lr.useDeprecatedSynchronousErrorHandling){let e=!ns;if(e&&(ns={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ns;if(ns=null,t)throw r}}else n()}function iD(n){lr.useDeprecatedSynchronousErrorHandling&&ns&&(ns.errorThrown=!0,ns.error=n)}var rs=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,eh(e)&&e.add(this)):this.destination=WV}static create(e,t,r){return new ma(e,t,r)}next(e){this.isStopped?Qy(rD(e),this):this._next(e)}error(e){this.isStopped?Qy(nD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qy(tD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HV=Function.prototype.bind;function Wy(n,e){return HV.call(n,e)}var Ky=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){nh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){nh(r)}else nh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){nh(t)}}},ma=class extends rs{constructor(e,t,r){super();let i;if(ye(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&lr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wy(e.next,o),error:e.error&&Wy(e.error,o),complete:e.complete&&Wy(e.complete,o)}):i=e}this.destination=new Ky(i)}};function nh(n){lr.useDeprecatedSynchronousErrorHandling?iD(n):th(n)}function GV(n){throw n}function Qy(n,e){let{onStoppedNotification:t}=lr;t&&fa.setTimeout(()=>t(n,e))}var WV={closed:!0,next:_l,error:GV,complete:_l};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function On(n){return n}function Yy(...n){return Zy(n)}function Zy(n){return n.length===0?On:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=KV(t)?t:new ma(t,r,i);return pa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=oD(r),new r((i,o)=>{let s=new ma({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[pi](){return this}pipe(...t){return Zy(t)(this)}toPromise(t){return t=oD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function oD(n){var e;return(e=n??lr.Promise)!==null&&e!==void 0?e:Promise}function QV(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}function KV(n){return n&&n instanceof rs||QV(n)&&eh(n)}function Jy(n){return ye(n?.lift)}function xe(n){return e=>{if(Jy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(n,e,t,r,i){return new Xy(n,e,t,r,i)}var Xy=class extends rs{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ga(){return xe((n,e)=>{let t=null;n._refCount++;let r=Ie(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ya=class extends ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return ga()(this)}};var va={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame,{delegate:r}=va;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);let i=e(o=>{t=void 0,n(o)});return new Ne(()=>t?.(i))},requestAnimationFrame(...n){let{delegate:e}=va;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){let{delegate:e}=va;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var sD=ha(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=(()=>{class n extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new rh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new sD}next(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hy:(this.currentObservers=null,o.push(t),new Ne(()=>{this.currentObservers=null,ts(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ce;return t.source=this,t}}return n.create=(e,t)=>new rh(e,t),n})(),rh=class extends me{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Hy}};var et=class extends me{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ev={now(){return(ev.delegate||Date).now()},delegate:void 0};var ih=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var El={setInterval(n,e,...t){let{delegate:r}=El;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=El;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ao=class extends ih{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return El.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&El.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ts(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _a=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};_a.now=ev.now;var co=class extends _a{constructor(e,t=_a.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var lo=new co(ao),tv=lo;var oh=class extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var sh=class extends co{};var wl=new sh(oh);var ah=class extends ao{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return r!==null&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=va.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);let{actions:o}=e;t!=null&&t===e._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(va.cancelAnimationFrame(t),e._scheduled=void 0)}};var ch=class extends co{flush(e){this._active=!0;let t;e?t=e.id:(t=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}};var lh=new ch(ah);var Kt=new ce(n=>n.complete());function uh(n){return n&&ye(n.schedule)}function nv(n){return n[n.length-1]}function dh(n){return ye(nv(n))?n.pop():void 0}function xr(n){return uh(nv(n))?n.pop():void 0}function aD(n,e){return typeof nv(n)=="number"?n.pop():e}var rv=function(n,e){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},rv(n,e)};function gt(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rv(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var A=function(){return A=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},A.apply(this,arguments)};function Ct(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Nn(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function ur(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(d){u=[6,d],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function cD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function is(n){return this instanceof is?(this.v=n,this):new is(n)}function lD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(y){return Promise.resolve(y).then(m,f)}}function a(m,y){r[m]&&(i[m]=function(_){return new Promise(function(w,b){o.push([m,_,w,b])>1||c(m,_)})},y&&(i[m]=y(i[m])))}function c(m,y){try{u(r[m](y))}catch(_){p(o[0][3],_)}}function u(m){m.value instanceof is?Promise.resolve(m.value.v).then(d,f):p(o[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function p(m,y){m(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function uD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof cD=="function"?cD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var hh=n=>n&&typeof n.length=="number"&&typeof n!="function";function fh(n){return ye(n?.then)}function ph(n){return ye(n[pi])}function mh(n){return Symbol.asyncIterator&&ye(n?.[Symbol.asyncIterator])}function gh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yh=YV();function vh(n){return ye(n?.[yh])}function _h(n){return lD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield is(t.read());if(i)return yield is(void 0);yield yield is(r)}}finally{t.releaseLock()}})}function Eh(n){return ye(n?.getReader)}function it(n){if(n instanceof ce)return n;if(n!=null){if(ph(n))return ZV(n);if(hh(n))return JV(n);if(fh(n))return XV(n);if(mh(n))return dD(n);if(vh(n))return e2(n);if(Eh(n))return t2(n)}throw gh(n)}function ZV(n){return new ce(e=>{let t=n[pi]();if(ye(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function JV(n){return new ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function XV(n){return new ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,th)})}function e2(n){return new ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function dD(n){return new ce(e=>{n2(n,e).catch(t=>e.error(t))})}function t2(n){return dD(_h(n))}function n2(n,e){var t,r,i,o;return Nn(this,void 0,void 0,function*(){try{for(t=uD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function vn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return xe((t,r)=>{t.subscribe(Ie(r,i=>vn(r,n,()=>r.next(i),e),()=>vn(r,n,()=>r.complete(),e),i=>vn(r,n,()=>r.error(i),e)))})}function uo(n,e=0){return xe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function hD(n,e){return it(n).pipe(uo(e),Rr(e))}function fD(n,e){return it(n).pipe(uo(e),Rr(e))}function pD(n,e){return new ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function mD(n,e){return new ce(t=>{let r;return vn(t,e,()=>{r=n[yh](),vn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}function wh(n,e){if(!n)throw new Error("Iterable cannot be null");return new ce(t=>{vn(t,e,()=>{let r=n[Symbol.asyncIterator]();vn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function gD(n,e){return wh(_h(n),e)}function yD(n,e){if(n!=null){if(ph(n))return hD(n,e);if(hh(n))return pD(n,e);if(fh(n))return fD(n,e);if(mh(n))return wh(n,e);if(vh(n))return mD(n,e);if(Eh(n))return gD(n,e)}throw gh(n)}function Ee(n,e){return e?yD(n,e):it(n)}function W(...n){let e=xr(n);return Ee(n,e)}function mi(n,e){let t=ye(n)?n:()=>n,r=i=>i.error(t());return new ce(e?i=>e.schedule(r,0,i):r)}function bh(n){return!!n&&(n instanceof ce||ye(n.lift)&&ye(n.subscribe))}var gi=ha(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vD(n){return n instanceof Date&&!isNaN(n)}function ne(n,e){return xe((t,r)=>{let i=0;t.subscribe(Ie(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:r2}=Array;function i2(n,e){return r2(e)?n(...e):n(e)}function Ih(n){return ne(e=>i2(n,e))}var{isArray:o2}=Array,{getPrototypeOf:s2,prototype:a2,keys:c2}=Object;function Th(n){if(n.length===1){let e=n[0];if(o2(e))return{args:e,keys:null};if(l2(e)){let t=c2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function l2(n){return n&&typeof n=="object"&&s2(n)===a2}function Ch(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function bl(...n){let e=xr(n),t=dh(n),{args:r,keys:i}=Th(n);if(r.length===0)return Ee([],e);let o=new ce(u2(r,e,i?s=>Ch(i,s):On));return t?o.pipe(Ih(t)):o}function u2(n,e,t=On){return r=>{_D(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)_D(e,()=>{let u=Ee(n[c],e),d=!1;u.subscribe(Ie(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _D(n,e,t){n?vn(t,n,e):e()}function ED(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,f=!1,p=()=>{f&&!c.length&&!u&&e.complete()},m=_=>u<r?y(_):c.push(_),y=_=>{o&&e.next(_),u++;let w=!1;it(t(_,d++)).subscribe(Ie(e,b=>{i?.(b),o?m(b):e.next(b)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){let b=c.shift();s?vn(e,s,()=>y(b)):y(b)}p()}catch(b){e.error(b)}}))};return n.subscribe(Ie(e,m,()=>{f=!0,p()})),()=>{a?.()}}function yt(n,e,t=1/0){return ye(e)?yt((r,i)=>ne((o,s)=>e(r,o,i,s))(it(n(r,i))),t):(typeof e=="number"&&(t=e),xe((r,i)=>ED(r,i,n,t)))}function ho(n=1/0){return yt(On,n)}function wD(){return ho(1)}function Ea(...n){return wD()(Ee(n,xr(n)))}function Dh(n){return new ce(e=>{it(n()).subscribe(e)})}function iv(...n){let e=dh(n),{args:t,keys:r}=Th(n),i=new ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let f=!1;it(t[d]).subscribe(Ie(o,p=>{f||(f=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!f)&&(u||o.next(r?Ch(r,a):a),o.complete())}))}});return e?i.pipe(Ih(e)):i}function Sh(n=0,e,t=tv){let r=-1;return e!=null&&(uh(e)?t=e:r=e),new ce(i=>{let o=vD(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ov(n=0,e=lo){return n<0&&(n=0),Sh(n,n,e)}function Il(...n){let e=xr(n),t=aD(n,1/0),r=n;return r.length?r.length===1?it(r[0]):ho(t)(Ee(r,e)):Kt}function Yt(n,e){return xe((t,r)=>{let i=0;t.subscribe(Ie(r,o=>n.call(e,o,i++)&&r.next(o)))})}function bD(n){return xe((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(Ie(t,u=>{r=!0,i=u,o||it(n(u)).subscribe(o=Ie(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function Ah(n,e=lo){return bD(()=>Sh(n,e))}function he(n){return xe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ie(t,void 0,void 0,s=>{o=it(n(s,he(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ID(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Ie(s,d=>{let f=u++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function yi(n,e){return ye(e)?yt(n,e,1):yt(n,1)}function fo(n){return xe((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _n(n){return n<=0?()=>Kt:xe((e,t)=>{let r=0;e.subscribe(Ie(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function xh(n=d2){return xe((e,t)=>{let r=!1;e.subscribe(Ie(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function d2(){return new gi}function os(n){return xe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function vi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Yt((i,o)=>n(i,o,r)):On,_n(1),t?fo(e):xh(()=>new gi))}function wa(n){return n<=0?()=>Kt:xe((e,t)=>{let r=[];e.subscribe(Ie(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sv(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Yt((i,o)=>n(i,o,r)):On,wa(1),t?fo(e):xh(()=>new gi))}function av(n,e){return xe(ID(n,e,arguments.length>=2,!0))}function _i(...n){let e=xr(n);return xe((t,r)=>{(e?Ea(n,t,e):Ea(n,t)).subscribe(r)})}function ot(n,e){return xe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ie(r,c=>{i?.unsubscribe();let u=0,d=o++;it(n(c,d)).subscribe(i=Ie(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ei(n){return xe((e,t)=>{it(n).subscribe(Ie(t,()=>t.complete(),_l)),!t.closed&&e.subscribe(t)})}function Se(n,e,t){let r=ye(n)||e||t?{next:n,error:e,complete:t}:n;return r?xe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ie(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):On}var hS="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(df(e,t)),this.code=e}};function df(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var fS=Symbol("InputSignalNode#UNSET"),h2=ae(B({},Zd),{transformFn:void 0,applyValueToInputSignal(n,e){yl(n,e)}});function pS(n,e){let t=Object.create(h2);t.value=n,t.transformFn=e?.transform;function r(){if(gl(t),t.value===fS){let i=null;throw new $(-950,i)}return t.value}return r[Wn]=t,r}function Pl(n){return{toString:n}.toString()}var Rh="__parameters__";function f2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function mS(n,e,t){return Pl(()=>{let r=f2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let f=c.hasOwnProperty(Rh)?c[Rh]:Object.defineProperty(c,Rh,{value:[]})[Rh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var wv=globalThis;function Xe(n){for(let e in n)if(n[e]===Xe)return e;throw Error("Could not find renamed property on target object.")}function p2(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(wn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function TD(n,e){return n?e?`${n} ${e}`:n:e||""}var m2=Xe({__forward_ref__:Xe});function Ti(n){return n.__forward_ref__=Ti,n.toString=function(){return wn(this())},n}function an(n){return gS(n)?n():n}function gS(n){return typeof n=="function"&&n.hasOwnProperty(m2)&&n.__forward_ref__===Ti}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function jt(n){return{providers:n.providers||[],imports:n.imports||[]}}function hf(n){return CD(n,vS)||CD(n,_S)}function yS(n){return hf(n)!==null}function CD(n,e){return n.hasOwnProperty(e)?n[e]:null}function g2(n){let e=n&&(n[vS]||n[_S]);return e||null}function DD(n){return n&&(n.hasOwnProperty(SD)||n.hasOwnProperty(y2))?n[SD]:null}var vS=Xe({\u0275prov:Xe}),SD=Xe({\u0275inj:Xe}),_S=Xe({ngInjectableDef:Xe}),y2=Xe({ngInjectorDef:Xe}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ES(n){return n&&!!n.\u0275providers}var v2=Xe({\u0275cmp:Xe}),_2=Xe({\u0275dir:Xe}),E2=Xe({\u0275pipe:Xe}),w2=Xe({\u0275mod:Xe}),Vh=Xe({\u0275fac:Xe}),Sl=Xe({__NG_ELEMENT_ID__:Xe}),AD=Xe({__NG_ENV_ID__:Xe});function Aa(n){return typeof n=="string"?n:n==null?"":String(n)}function b2(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Aa(n)}function wS(n,e){throw new $(-200,n)}function f_(n,e){throw new $(-201,!1)}var Te=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Te||{}),bv;function bS(){return bv}function En(n){let e=bv;return bv=n,e}function IS(n,e,t){let r=hf(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Te.Optional)return null;if(e!==void 0)return e;f_(n,"Injector")}var I2={},ss=I2,Iv="__NG_DI_FLAG__",jh=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Jd:ss,r)}},Bh="ngTempTokenPath",T2="ngTokenPath",C2=/\n/gm,D2="\u0275",xD="__source";function S2(n,e=Te.Default){if(vl()===void 0)throw new $(-203,!1);if(vl()===null)return IS(n,void 0,e);{let t=vl(),r;return t instanceof jh?r=t.injector:r=t,r.get(n,e&Te.Optional?null:void 0,e)}}function J(n,e=Te.Default){return(bS()||S2)(an(n),e)}function O(n,e=Te.Default){return J(n,ff(e))}function ff(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Tv(n){let e=[];for(let t=0;t<n.length;t++){let r=an(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=Te.Default;for(let s=0;s<r.length;s++){let a=r[s],c=A2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function TS(n,e){return n[Iv]=e,n.prototype[Iv]=e,n}function A2(n){return n[Iv]}function x2(n,e,t,r){let i=n[Bh];throw e[xD]&&i.unshift(e[xD]),n.message=R2(`
`+n.message,i,t,r),n[T2]=i,n[Bh]=null,n}function R2(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==D2?n.slice(2):n;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(C2,`
  `)}`}var mt=TS(mS("Optional"),8);var CS=TS(mS("SkipSelf"),4);function cs(n,e){let t=n.hasOwnProperty(Vh);return t?n[Vh]:null}function p_(n,e){n.forEach(t=>Array.isArray(t)?p_(t,e):e(t))}function DS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Uh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function M2(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function P2(n,e,t){let r=kl(n,e);return r>=0?n[r|1]=t:(r=~r,M2(n,r,e,t)),r}function cv(n,e){let t=kl(n,e);if(t>=0)return n[t|1]}function kl(n,e){return k2(n,e,1)}function k2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ls={},Qn=[],xa=new Q(""),SS=new Q("",-1),AS=new Q(""),$h=class{get(e,t=ss){if(t===ss){let r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return t}};function xS(n,e){let t=n[w2]||null;if(!t&&e===!0)throw new Error(`Type ${wn(n)} does not have '\u0275mod' property.`);return t}function go(n){return n[v2]||null}function O2(n){return n[_2]||null}function N2(n){return n[E2]||null}function Fn(n){return{\u0275providers:n}}function m_(...n){return{\u0275providers:RS(!0,n),\u0275fromNgModule:!0}}function RS(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return p_(e,s=>{let a=s;Cv(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&MS(i,o),t}function MS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];g_(i,o=>{e(o,r)})}}function Cv(n,e,t,r){if(n=an(n),!n)return!1;let i=null,o=DD(n),s=!o&&go(n);if(!o&&!s){let c=n.ngModule;if(o=DD(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Cv(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{p_(o.imports,d=>{Cv(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&MS(u,e)}if(!a){let u=cs(i)||(()=>new i);e({provide:i,useFactory:u,deps:Qn},i),e({provide:AS,useValue:i,multi:!0},i),e({provide:xa,useValue:()=>J(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;g_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function g_(n,e){for(let t of n)ES(t)&&(t=t.\u0275providers),Array.isArray(t)?g_(t,e):e(t)}var F2=Xe({provide:String,useValue:Xe});function PS(n){return n!==null&&typeof n=="object"&&F2 in n}function L2(n){return!!(n&&n.useExisting)}function V2(n){return!!(n&&n.useFactory)}function Ra(n){return typeof n=="function"}function j2(n){return!!n.useClass}var pf=new Q(""),kh={},RD={},lv;function mf(){return lv===void 0&&(lv=new $h),lv}var Dt=class{},Al=class extends Dt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Sv(e,s=>this.processProvider(s)),this.records.set(SS,ba(void 0,this)),i.has("environment")&&this.records.set(Dt,ba(void 0,this));let o=this.records.get(pf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(AS,Qn,Te.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Jd:ss,r)}destroy(){Cl(this),this._destroyed=!0;let e=Ae(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(e)}}onDestroy(e){return Cl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cl(this);let t=fi(this),r=En(void 0),i;try{return e()}finally{fi(t),En(r)}}get(e,t=ss,r=Te.Default){if(Cl(this),e.hasOwnProperty(AD))return e[AD](this);r=ff(r);let i,o=fi(this),s=En(void 0);try{if(!(r&Te.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=q2(e)&&hf(e);u&&this.injectableDefInScope(u)?c=ba(Dv(e),kh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Te.Self?mf():this.parent;return t=r&Te.Optional&&t===ss?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Bh]=a[Bh]||[]).unshift(wn(e)),o)throw a;return x2(a,e,"R3InjectorError",this.source)}else throw a}finally{En(s),fi(o)}}resolveInjectorInitializers(){let e=Ae(null),t=fi(this),r=En(void 0),i;try{let o=this.get(xa,Qn,Te.Self);for(let s of o)s()}finally{fi(t),En(r),Ae(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=an(e);let t=Ra(e)?e:an(e&&e.provide),r=U2(e);if(!Ra(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ba(void 0,kh,!0),i.factory=()=>Tv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ae(null);try{return t.value===RD?wS(wn(e)):t.value===kh&&(t.value=RD,t.value=t.factory()),typeof t.value=="object"&&t.value&&z2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ae(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=an(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Dv(n){let e=hf(n),t=e!==null?e.factory:cs(n);if(t!==null)return t;if(n instanceof Q)throw new $(204,!1);if(n instanceof Function)return B2(n);throw new $(204,!1)}function B2(n){if(n.length>0)throw new $(204,!1);let t=g2(n);return t!==null?()=>t.factory(n):()=>new n}function U2(n){if(PS(n))return ba(void 0,n.useValue);{let e=kS(n);return ba(e,kh)}}function kS(n,e,t){let r;if(Ra(n)){let i=an(n);return cs(i)||Dv(i)}else if(PS(n))r=()=>an(n.useValue);else if(V2(n))r=()=>n.useFactory(...Tv(n.deps||[]));else if(L2(n))r=()=>J(an(n.useExisting));else{let i=an(n&&(n.useClass||n.provide));if($2(n))r=()=>new i(...Tv(n.deps));else return cs(i)||Dv(i)}return r}function Cl(n){if(n.destroyed)throw new $(205,!1)}function ba(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $2(n){return!!n.deps}function z2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function q2(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function Sv(n,e){for(let t of n)Array.isArray(t)?Sv(t,e):t&&ES(t)?Sv(t.\u0275providers,e):e(t)}function Ot(n,e){let t;n instanceof Al?(Cl(n),t=n):t=new jh(n);let r,i=fi(t),o=En(void 0);try{return e()}finally{fi(i),En(o)}}function OS(){return bS()!==void 0||vl()!=null}function gf(n){if(!OS())throw new $(-203,!1)}function H2(n){return typeof n=="function"}var Ci=0,Pe=1,ve=2,cn=3,hr=4,pr=5,zh=6,qh=7,bn=8,Ma=9,wi=10,vt=11,xl=12,MD=13,Va=14,Pr=15,Pa=16,Ia=17,ka=18,yf=19,NS=20,po=21,uv=22,Hh=23,Kn=24,Da=25,ln=26,FS=1;var us=7,Gh=8,Wh=9,Yn=10;function mo(n){return Array.isArray(n)&&typeof n[FS]=="object"}function Di(n){return Array.isArray(n)&&n[FS]===!0}function y_(n){return(n.flags&4)!==0}function ja(n){return n.componentOffset>-1}function vf(n){return(n.flags&1)===1}function kr(n){return!!n.template}function Qh(n){return(n[ve]&512)!==0}function Ol(n){return(n[ve]&256)===256}var Av=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function LS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zn=(()=>{let n=()=>VS;return n.ngInherit=!0,n})();function VS(n){return n.type.prototype.ngOnChanges&&(n.setInput=W2),G2}function G2(){let n=BS(this),e=n?.current;if(e){let t=n.previous;if(t===ls)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function W2(n,e,t,r,i){let o=this.declaredInputs[r],s=BS(n)||Q2(n,{previous:ls,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Av(u&&u.currentValue,t,c===ls),LS(n,e,i,t)}var jS="__ngSimpleChanges__";function BS(n){return n[jS]||null}function Q2(n,e){return n[jS]=e}var PD=null;var Ye=function(n,e=null,t){PD?.(n,e,t)},K2="svg",Y2="math";function Or(n){for(;Array.isArray(n);)n=n[Ci];return n}function US(n,e){return Or(e[n])}function jr(n,e){return Or(e[n.index])}function $S(n,e){return n.data[e]}function _f(n,e){return n[e]}function Nr(n,e){let t=e[n];return mo(t)?t:t[Ci]}function v_(n){return(n[ve]&128)===128}function Z2(n){return Di(n[cn])}function Oa(n,e){return e==null?null:n[e]}function zS(n){n[Ia]=0}function qS(n){n[ve]&1024||(n[ve]|=1024,v_(n)&&Nl(n))}function J2(n,e){for(;n>0;)e=e[Va],n--;return e}function Ef(n){return!!(n[ve]&9216||n[Kn]?.dirty)}function xv(n){n[wi].changeDetectionScheduler?.notify(8),n[ve]&64&&(n[ve]|=1024),Ef(n)&&Nl(n)}function Nl(n){n[wi].changeDetectionScheduler?.notify(0);let e=ds(n);for(;e!==null&&!(e[ve]&8192||(e[ve]|=8192,!v_(e)));)e=ds(e)}function HS(n,e){if(Ol(n))throw new $(911,!1);n[po]===null&&(n[po]=[]),n[po].push(e)}function X2(n,e){if(n[po]===null)return;let t=n[po].indexOf(e);t!==-1&&n[po].splice(t,1)}function ds(n){let e=n[cn];return Di(e)?e[cn]:e}function ej(n){return n[qh]??=[]}function tj(n){return n.cleanup??=[]}var Ce={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Rv=!1;function nj(){return Ce.lFrame.elementDepthCount}function rj(){Ce.lFrame.elementDepthCount++}function ij(){Ce.lFrame.elementDepthCount--}function __(){return Ce.bindingsEnabled}function oj(){return Ce.skipHydrationRootTNode!==null}function sj(n){return Ce.skipHydrationRootTNode===n}function aj(){Ce.skipHydrationRootTNode=null}function Fe(){return Ce.lFrame.lView}function Zt(){return Ce.lFrame.tView}function Le(n){return Ce.lFrame.contextLView=n,n[bn]}function Ve(n){return Ce.lFrame.contextLView=null,n}function un(){let n=GS();for(;n!==null&&n.type===64;)n=n.parent;return n}function GS(){return Ce.lFrame.currentTNode}function cj(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ys(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function E_(){return Ce.lFrame.isParent}function WS(){Ce.lFrame.isParent=!1}function lj(){return Ce.lFrame.contextLView}function QS(){return Rv}function kD(n){let e=Rv;return Rv=n,e}function Fl(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function uj(){return Ce.lFrame.bindingIndex}function dj(n){return Ce.lFrame.bindingIndex=n}function wf(){return Ce.lFrame.bindingIndex++}function KS(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hj(){return Ce.lFrame.inI18n}function fj(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mv(e)}function pj(){return Ce.lFrame.currentDirectiveIndex}function Mv(n){Ce.lFrame.currentDirectiveIndex=n}function mj(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function YS(n){Ce.lFrame.currentQueryIndex=n}function gj(n){let e=n[Pe];return e.type===2?e.declTNode:e.type===1?n[pr]:null}function ZS(n,e,t){if(t&Te.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&Te.Host);)if(i=gj(o),i===null||(o=o[Va],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=JS();return r.currentTNode=e,r.lView=n,!0}function w_(n){let e=JS(),t=n[Pe];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JS(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?XS(n):e}function XS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function eA(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var tA=eA;function b_(){let n=eA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function yj(n){return(Ce.lFrame.contextLView=J2(n,Ce.lFrame.contextLView))[bn]}function vs(){return Ce.lFrame.selectedIndex}function hs(n){Ce.lFrame.selectedIndex=n}function I_(){let n=Ce.lFrame;return $S(n.tView,n.selectedIndex)}function vj(){return Ce.lFrame.currentNamespace}var nA=!0;function bf(){return nA}function If(n){nA=n}function _j(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=VS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function T_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Oh(n,e,t){rA(n,e,3,t)}function Nh(n,e,t,r){(n[ve]&3)===t&&rA(n,e,t,r)}function dv(n,e){let t=n[ve];(t&3)===e&&(t&=16383,t+=1,n[ve]=t)}function rA(n,e,t,r){let i=r!==void 0?n[Ia]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ia]+=65536),(a<o||o==-1)&&(Ej(n,t,e,c),n[Ia]=(n[Ia]&4294901760)+c+2),c++}function OD(n,e){Ye(4,n,e);let t=Ae(null);try{e.call(n)}finally{Ae(t),Ye(5,n,e)}}function Ej(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ve]>>14<n[Ia]>>16&&(n[ve]&3)===e&&(n[ve]+=16384,OD(a,o)):OD(a,o)}var Sa=-1,fs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function wj(n){return(n.flags&8)!==0}function bj(n){return(n.flags&16)!==0}function Ij(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Tj(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function iA(n){return n===3||n===4||n===6}function Tj(n){return n.charCodeAt(0)===64}function Na(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ND(n,t,i,null,e[++r]):ND(n,t,i,null,null))}}return n}function ND(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}var hv={},Pv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ff(r);let i=this.injector.get(e,hv,r);return i!==hv||t===hv?i:this.parentInjector.get(e,t,r)}};function oA(n){return n!==Sa}function Kh(n){return n&32767}function Cj(n){return n>>16}function Yh(n,e){let t=Cj(n),r=e;for(;t>0;)r=r[Va],t--;return r}var kv=!0;function Zh(n){let e=kv;return kv=n,e}var Dj=256,sA=Dj-1,aA=5,Sj=0,Mr={};function Aj(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sl)&&(r=t[Sl]),r==null&&(r=t[Sl]=Sj++);let i=r&sA,o=1<<i;e.data[n+(i>>aA)]|=o}function Jh(n,e){let t=cA(n,e);if(t!==-1)return t;let r=e[Pe];r.firstCreatePass&&(n.injectorIndex=e.length,fv(r.data,n),fv(e,null),fv(r.blueprint,null));let i=C_(n,e),o=n.injectorIndex;if(oA(i)){let s=Kh(i),a=Yh(i,e),c=a[Pe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function fv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cA(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function C_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=fA(i),r===null)return Sa;if(t++,i=i[Va],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Sa}function Ov(n,e,t){Aj(n,e,t)}function xj(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(iA(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function lA(n,e,t){if(t&Te.Optional||n!==void 0)return n;f_(e,"NodeInjector")}function uA(n,e,t,r){if(t&Te.Optional&&r===void 0&&(r=null),(t&(Te.Self|Te.Host))===0){let i=n[Ma],o=En(void 0);try{return i?i.get(e,r,t&Te.Optional):IS(e,r,t&Te.Optional)}finally{En(o)}}return lA(r,e,t)}function dA(n,e,t,r=Te.Default,i){if(n!==null){if(e[ve]&2048&&!(r&Te.Self)){let s=Oj(n,e,t,r,Mr);if(s!==Mr)return s}let o=hA(n,e,t,r,Mr);if(o!==Mr)return o}return uA(e,t,r,i)}function hA(n,e,t,r,i){let o=Pj(t);if(typeof o=="function"){if(!ZS(e,n,r))return r&Te.Host?lA(i,t,r):uA(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&Te.Optional))f_(t);else return s}finally{tA()}}else if(typeof o=="number"){let s=null,a=cA(n,e),c=Sa,u=r&Te.Host?e[Pr][pr]:null;for((a===-1||r&Te.SkipSelf)&&(c=a===-1?C_(n,e):e[a+8],c===Sa||!LD(r,!1)?a=-1:(s=e[Pe],a=Kh(c),e=Yh(c,e)));a!==-1;){let d=e[Pe];if(FD(o,a,d.data)){let f=Rj(a,e,t,s,r,u);if(f!==Mr)return f}c=e[a+8],c!==Sa&&LD(r,e[Pe].data[a+8]===u)&&FD(o,a,e)?(s=d,a=Kh(c),e=Yh(c,e)):a=-1}}return i}function Rj(n,e,t,r,i,o){let s=e[Pe],a=s.data[n+8],c=r==null?ja(a)&&kv:r!=s&&(a.type&3)!==0,u=i&Te.Host&&o===a,d=Mj(a,s,t,c,u);return d!==null?Xh(e,s,d,a):Mr}function Mj(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,f=r?a:a+d,p=i?a+d:u;for(let m=f;m<p;m++){let y=s[m];if(m<c&&t===y||m>=c&&y.type===t)return m}if(i){let m=s[c];if(m&&kr(m)&&m.type===t)return c}return null}function Xh(n,e,t,r){let i=n[t],o=e.data;if(i instanceof fs){let s=i;s.resolving&&wS(b2(o[t]));let a=Zh(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?En(s.injectImpl):null,d=ZS(n,r,Te.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&_j(t,o[t],e)}finally{u!==null&&En(u),Zh(a),s.resolving=!1,tA()}}return i}function Pj(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Sl)?n[Sl]:void 0;return typeof e=="number"?e>=0?e&sA:kj:e}function FD(n,e,t){let r=1<<n;return!!(t[e+(n>>aA)]&r)}function LD(n,e){return!(n&Te.Self)&&!(n&Te.Host&&e)}var as=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return dA(this._tNode,this._lView,e,ff(r),t)}};function kj(){return new as(un(),Fe())}function Ba(n){return Pl(()=>{let e=n.prototype.constructor,t=e[Vh]||Nv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Vh]||Nv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nv(n){return gS(n)?()=>{let e=Nv(an(n));return e&&e()}:cs(n)}function Oj(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ve]&2048&&!Qh(s);){let a=hA(o,s,t,r|Te.Self,Mr);if(a!==Mr)return a;let c=o.parent;if(!c){let u=s[NS];if(u){let d=u.get(t,Mr,r);if(d!==Mr)return d}c=fA(s),s=s[Va]}o=c}return i}function fA(n){let e=n[Pe],t=e.type;return t===2?e.declTNode:t===1?n[pr]:null}function D_(n){return xj(un(),n)}function VD(n,e=null,t=null,r){let i=pA(n,e,t,r);return i.resolveInjectorInitializers(),i}function pA(n,e=null,t=null,r,i=new Set){let o=[t||Qn,m_(n)];return r=r||(typeof n=="object"?void 0:wn(n)),new Al(o,e||mf(),r||null,i)}var We=class n{static THROW_IF_NOT_FOUND=ss;static NULL=new $h;static create(e,t){if(Array.isArray(e))return VD({name:""},t,e,"");{let r=e.name??"";return VD({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>J(SS)});static __NG_ELEMENT_ID__=-1};var Nj=new Q("");Nj.__NG_ELEMENT_ID__=n=>{let e=un();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&Te.Optional)return null;throw new $(204,!1)};var mA=!1,Ua=(()=>{class n{static __NG_ELEMENT_ID__=Fj;static __NG_ENV_ID__=t=>t}return n})(),Fv=class extends Ua{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return HS(this._lView,e),()=>X2(this._lView,e)}};function Fj(){return new Fv(Fe())}var ps=class{},S_=new Q("",{providedIn:"root",factory:()=>!1});var gA=new Q(""),yA=new Q(""),Si=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new et(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Tf=(()=>{class n{internalPendingTasks=O(Si);scheduler=O(ps);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return S(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Lv=class extends me{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,OS()&&(this.destroyRef=O(Ua,{optional:!0})??void 0,this.pendingTasks=O(Si,{optional:!0})??void 0)}emit(e){let t=Ae(null);try{super.next(e)}finally{Ae(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},fe=Lv;function ef(...n){}function vA(n){let e,t;function r(){n=ef;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function jD(n){return queueMicrotask(()=>n()),()=>{n=ef}}var A_="isAngularZone",tf=A_+"_ID",Lj=0,_e=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=mA}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Bj(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(A_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Vj,ef,ef);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Vj={};function x_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jj(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vA(()=>{n.callbackScheduled=!1,Vv(n),n.isCheckStableRunning=!0,x_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vv(n)}function Bj(n){let e=()=>{jj(n)},t=Lj++;n._inner=n._inner.fork({name:"angular",properties:{[A_]:!0,[tf]:t,[tf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Uj(c))return r.invokeTask(o,s,a,c);try{return BD(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),UD(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return BD(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!$j(c)&&e(),UD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vv(n),x_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function BD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UD(n){n._nesting--,x_(n)}var jv=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Uj(n){return _A(n,"__ignore_ng_zone__")}function $j(n){return _A(n,"__scheduler_tick__")}function _A(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Fr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zj=new Q("",{providedIn:"root",factory:()=>{let n=O(_e),e=O(Fr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function $D(n,e){return pS(n,e)}function qj(n){return pS(fS,n)}var EA=($D.required=qj,$D);function Hj(){return Cf(un(),Fe())}function Cf(n,e){return new Nt(jr(n,e))}var Nt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Hj}return n})();function Gj(n){return typeof n=="function"&&n[Wn]!==void 0}function Br(n,e){let t=Uy(n,e?.equal),r=t[Wn];return t.set=i=>yl(r,i),t.update=i=>$y(r,i),t.asReadonly=Wj.bind(t),t}function Wj(){let n=this[Wn];if(n.readonlyFn===void 0){let e=()=>this();e[Wn]=n,n.readonlyFn=e}return n.readonlyFn}function wA(n){return Gj(n)&&typeof n.set=="function"}function bA(n){return(n.flags&128)===128}var IA=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(IA||{}),TA=new Map,Qj=0;function Kj(){return Qj++}function Yj(n){TA.set(n[yf],n)}function Bv(n){TA.delete(n[yf])}var zD="__ngContext__";function $a(n,e){mo(e)?(n[zD]=e[yf],Yj(e)):n[zD]=e}function CA(n){return SA(n[xl])}function DA(n){return SA(n[hr])}function SA(n){for(;n!==null&&!Di(n);)n=n[hr];return n}var Uv;function AA(n){Uv=n}function Zj(){if(Uv!==void 0)return Uv;if(typeof document<"u")return document;throw new $(210,!1)}var Ll=new Q("",{providedIn:"root",factory:()=>Jj}),Jj="ng",R_=new Q(""),mr=new Q("",{providedIn:"platform",factory:()=>"unknown"});var M_=new Q(""),P_=new Q("",{providedIn:"root",factory:()=>Zj().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xj="h",eB="b";var xA=!1,tB=new Q("",{providedIn:"root",factory:()=>xA});var k_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(k_||{}),za=new Q(""),qD=new Set;function qa(n){qD.has(n)||(qD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var RA=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=nB}return n})();function nB(){return new RA(Fe(),un())}var Ta=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ta||{}),MA=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),rB=[Ta.EarlyRead,Ta.Write,Ta.MixedReadWrite,Ta.Read],iB=(()=>{class n{ngZone=O(_e);scheduler=O(ps);errorHandler=O(Fr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(za,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ye(16),this.executing=!0;for(let r of rB)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ye(17)}register(t){let{view:r}=t;r!==void 0?((r[Da]??=[]).push(t),Nl(r),r[ve]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(k_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),$v=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Da];e&&(this.view[Da]=e.filter(t=>t!==this))}};function Ha(n,e){!e?.injector&&gf(Ha);let t=e?.injector??O(We);return qa("NgAfterNextRender"),sB(n,t,e,!0)}function oB(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function sB(n,e,t,r){let i=e.get(MA);i.impl??=e.get(iB);let o=e.get(za,null,{optional:!0}),s=t?.phase??Ta.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Ua):null,c=e.get(RA,null,{optional:!0}),u=new $v(i.impl,oB(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var aB=()=>null;function PA(n,e,t=!1){return aB(n,e,t)}function kA(n,e){let t=n.contentQueries;if(t!==null){let r=Ae(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];YS(o),a.contentQueries(2,e[s],s)}}}finally{Ae(r)}}}function zv(n,e,t){YS(0);let r=Ae(null);try{e(n,t)}finally{Ae(r)}}function O_(n,e,t){if(y_(e)){let r=Ae(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ae(r)}}}var Lr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Lr||{});var Mh;function cB(){if(Mh===void 0&&(Mh=null,wv.trustedTypes))try{Mh=wv.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Mh}function HD(n){return cB()?.createScriptURL(n)||n}var nf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hS})`}};function Vl(n){return n instanceof nf?n.changingThisBreaksApplicationSecurity:n}function N_(n,e){let t=lB(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hS})`)}return t===e}function lB(n){return n instanceof nf&&n.getTypeName()||null}var uB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function OA(n){return n=String(n),n.match(uB)?n:"unsafe:"+n}var Df=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Df||{});function dB(n){let e=FA();return e?e.sanitize(Df.URL,n)||"":N_(n,"URL")?Vl(n):OA(Aa(n))}function hB(n){let e=FA();if(e)return HD(e.sanitize(Df.RESOURCE_URL,n)||"");if(N_(n,"ResourceURL"))return HD(Vl(n));throw new $(904,!1)}function fB(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?hB:dB}function NA(n,e,t){return fB(e,t)(n)}function FA(){let n=Fe();return n&&n[wi].sanitizer}var pB=/^>|^->|<!--|-->|--!>|<!-$/g,mB=/(<|>)/g,gB="\u200B$1\u200B";function yB(n){return n.replace(pB,e=>e.replace(mB,gB))}function LA(n){return n.ownerDocument}function VA(n){return n instanceof Function?n():n}function vB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var jA="ng-template";function _B(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(F_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function F_(n){return n.type===4&&n.value!==jA}function EB(n,e,t){let r=n.type===4&&!t?jA:n.value;return e===r}function wB(n,e,t){let r=4,i=n.attrs,o=i!==null?TB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!dr(r)&&!dr(c))return!1;if(s&&dr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!EB(n,c,t)||c===""&&e.length===1){if(dr(r))return!1;s=!0}}else if(r&8){if(i===null||!_B(n,i,c,t)){if(dr(r))return!1;s=!0}}else{let u=e[++a],d=bB(c,i,F_(n),t);if(d===-1){if(dr(r))return!1;s=!0;continue}if(u!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(dr(r))return!1;s=!0}}}}return dr(r)||s}function dr(n){return(n&1)===0}function bB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return CB(e,n)}function IB(n,e,t=!1){for(let r=0;r<e.length;r++)if(wB(n,e[r],t))return!0;return!1}function TB(n){for(let e=0;e<n.length;e++){let t=n[e];if(iA(t))return e}return n.length}function CB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function GD(n,e){return n?":not("+e.trim()+")":e}function DB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!dr(s)&&(e+=GD(o,i),i=""),r=s,o=o||!dr(r);t++}return i!==""&&(e+=GD(o,i)),e}function SB(n){return n.map(DB).join(",")}function AB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!dr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Ur={};function xB(n,e){return n.createText(e)}function RB(n,e,t){n.setValue(e,t)}function MB(n,e){return n.createComment(yB(e))}function BA(n,e,t){return n.createElement(e,t)}function rf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function UA(n,e,t){n.appendChild(e,t)}function WD(n,e,t,r,i){r!==null?rf(n,e,t,r,i):UA(n,e,t)}function PB(n,e,t){n.removeChild(null,e,t)}function kB(n,e,t){n.setAttribute(e,"style",t)}function OB(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $A(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ij(n,e,r),i!==null&&OB(n,e,i),o!==null&&kB(n,e,o)}function L_(n,e,t,r,i,o,s,a,c,u,d){let f=ln+r,p=f+i,m=NB(f,p),y=typeof u=="function"?u():u;return m[Pe]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function NB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ur);return t}function FB(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=L_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function V_(n,e,t,r,i,o,s,a,c,u,d){let f=e.blueprint.slice();return f[Ci]=i,f[ve]=r|4|128|8|64|1024,(u!==null||n&&n[ve]&2048)&&(f[ve]|=2048),zS(f),f[cn]=f[Va]=n,f[bn]=t,f[wi]=s||n&&n[wi],f[vt]=a||n&&n[vt],f[Ma]=c||n&&n[Ma]||null,f[pr]=o,f[yf]=Kj(),f[zh]=d,f[NS]=u,f[Pr]=e.type==2?n[Pr]:f,f}function LB(n,e,t){let r=jr(e,n),i=FB(t),o=n[wi].rendererFactory,s=j_(n,V_(n,i,null,zA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function zA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function qA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function j_(n,e){return n[xl]?n[MD][hr]=e:n[xl]=e,n[MD]=e,e}function H(n=1){HA(Zt(),Fe(),vs()+n,!1)}function HA(n,e,t,r){if(!r)if((e[ve]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Oh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Nh(e,o,0,t)}hs(t)}var Sf=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Sf||{});function qv(n,e,t,r){let i=Ae(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Sf.SignalBased)!==0&&(c=e[o][Wn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):LS(e,c,o,r)}finally{Ae(i)}}function GA(n,e,t,r,i){let o=vs(),s=r&2;try{hs(-1),s&&e.length>ln&&HA(n,e,ln,!1),Ye(s?2:0,i),t(r,i)}finally{hs(o),Ye(s?3:1,i)}}function Af(n,e,t){zB(n,e,t),(t.flags&64)===64&&qB(n,e,t)}function B_(n,e,t=jr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function VB(n,e,t,r){let o=r.get(tB,xA)||t===Lr.ShadowDom,s=n.selectRootElement(e,o);return jB(s),s}function jB(n){BB(n)}var BB=()=>null;function UB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function WA(n,e,t,r,i,o,s,a){if(!a&&$_(e,n,t,r,i)){ja(e)&&$B(t,e.index);return}if(e.type&3){let c=jr(e,t);r=UB(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function $B(n,e){let t=Nr(e,n);t[ve]&16||(t[ve]|=64)}function zB(n,e,t){let r=t.directiveStart,i=t.directiveEnd;ja(t)&&LB(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Jh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Xh(e,n,s,t);if($a(c,e),o!==null&&QB(e,s-r,c,a,t,o),kr(a)){let u=Nr(t.index,e);u[bn]=Xh(e,n,s,t)}}}function qB(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=pj();try{hs(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];Mv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&HB(c,u)}}finally{hs(-1),Mv(s)}}function HB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function U_(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];IB(e,o.selectors,!1)&&(r??=[],kr(o)?r.unshift(o):r.push(o))}return r}function GB(n,e,t,r,i,o){let s=jr(n,e);WB(e[vt],s,o,n.value,t,r,i)}function WB(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Aa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function QB(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];qv(r,t,c,u)}}function KB(n,e){let t=n[Ma],r=t?t.get(Fr,null):null;r&&r.handleError(e)}function $_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],f=e.data[u];qv(f,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];qv(d,u,r,i),a=!0}return a}function YB(n,e){let t=Nr(e,n),r=t[Pe];ZB(r,t);let i=t[Ci];i!==null&&t[zh]===null&&(t[zh]=PA(i,t[Ma])),Ye(18),z_(r,t,t[bn]),Ye(19,t[bn])}function ZB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function z_(n,e,t){w_(e);try{let r=n.viewQuery;r!==null&&zv(1,r,t);let i=n.template;i!==null&&GA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ka]?.finishViewCreation(n),n.staticContentQueries&&kA(n,e),n.staticViewQueries&&zv(2,n.viewQuery,t);let o=n.components;o!==null&&JB(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ve]&=-5,b_()}}function JB(n,e){for(let t=0;t<e.length;t++)YB(n,e[t])}function XB(n,e,t,r){let i=Ae(null);try{let o=e.tView,a=n[ve]&4096?4096:16,c=V_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[Pa]=u;let d=n[ka];return d!==null&&(c[ka]=d.createEmbeddedView(o)),z_(o,c,t),c}finally{Ae(i)}}function QD(n,e){return!e||e.firstChild===null||bA(n)}var eU;function q_(n,e){return eU(n,e)}var Vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vr||{});function QA(n){return(n.flags&32)===32}function Ca(n,e,t,r,i){if(r!=null){let o,s=!1;Di(r)?o=r:mo(r)&&(s=!0,r=r[Ci]);let a=Or(r);n===0&&t!==null?i==null?UA(e,t,a):rf(e,t,a,i||null,!0):n===1&&t!==null?rf(e,t,a,i||null,!0):n===2?PB(e,a,s):n===3&&e.destroyNode(a),o!=null&&hU(e,n,o,t,i)}}function tU(n,e){KA(n,e),e[Ci]=null,e[pr]=null}function nU(n,e,t,r,i,o){r[Ci]=i,r[pr]=e,Rf(n,r,t,1,i,o)}function KA(n,e){e[wi].changeDetectionScheduler?.notify(9),Rf(n,e,e[vt],2,null,null)}function rU(n){let e=n[xl];if(!e)return pv(n[Pe],n);for(;e;){let t=null;if(mo(e))t=e[xl];else{let r=e[Yn];r&&(t=r)}if(!t){for(;e&&!e[hr]&&e!==n;)mo(e)&&pv(e[Pe],e),e=e[cn];e===null&&(e=n),mo(e)&&pv(e[Pe],e),t=e&&e[hr]}e=t}}function H_(n,e){let t=n[Wh],r=t.indexOf(e);t.splice(r,1)}function YA(n,e){if(Ol(e))return;let t=e[vt];t.destroyNode&&Rf(n,e,t,3,null,null),rU(e)}function pv(n,e){if(Ol(e))return;let t=Ae(null);try{e[ve]&=-129,e[ve]|=256,e[Kn]&&Vy(e[Kn]),oU(n,e),iU(n,e),e[Pe].type===1&&e[vt].destroy();let r=e[Pa];if(r!==null&&Di(e[cn])){r!==e[cn]&&H_(r,e);let i=e[ka];i!==null&&i.detachView(n)}Bv(e)}finally{Ae(t)}}function iU(n,e){let t=n.cleanup,r=e[qh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[qh]=null);let i=e[po];if(i!==null){e[po]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Hh];if(o!==null){e[Hh]=null;for(let s of o)s.destroy()}}function oU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof fs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ye(4,a,c);try{c.call(a)}finally{Ye(5,a,c)}}else{Ye(4,i,o);try{o.call(i)}finally{Ye(5,i,o)}}}}}function sU(n,e,t){return aU(n,e.parent,t)}function aU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ci];if(ja(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Lr.None||i===Lr.Emulated)return null}return jr(r,t)}function cU(n,e,t){return uU(n,e,t)}function lU(n,e,t){return n.type&40?jr(n,t):null}var uU=lU,KD;function xf(n,e,t,r){let i=sU(n,r,e),o=e[vt],s=r.parent||e[pr],a=cU(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)WD(o,i,t[c],a,!1);else WD(o,i,t,a,!1);KD!==void 0&&KD(o,r,e,t,i)}function Dl(n,e){if(e!==null){let t=e.type;if(t&3)return jr(e,n);if(t&4)return Hv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Dl(n,r);{let i=n[e.index];return Di(i)?Hv(-1,i):Or(i)}}else{if(t&128)return Dl(n,e.next);if(t&32)return q_(e,n)()||Or(n[e.index]);{let r=ZA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ds(n[Pr]);return Dl(i,r)}else return Dl(n,e.next)}}}return null}function ZA(n,e){if(e!==null){let r=n[Pr][pr],i=e.projection;return r.projection[i]}return null}function Hv(n,e){let t=Yn+n+1;if(t<e.length){let r=e[t],i=r[Pe].firstChild;if(i!==null)return Dl(r,i)}return e[us]}function G_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&$a(Or(a),r),t.flags|=2),!QA(t))if(c&8)G_(n,e,t.child,r,i,o,!1),Ca(e,n,i,a,o);else if(c&32){let u=q_(t,r),d;for(;d=u();)Ca(e,n,i,d,o);Ca(e,n,i,a,o)}else c&16?dU(n,e,r,t,i,o):Ca(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Rf(n,e,t,r,i,o){G_(t,r,n.firstChild,e,i,o,!1)}function dU(n,e,t,r,i,o){let s=t[Pr],c=s[pr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Ca(e,n,i,d,o)}else{let u=c,d=s[cn];bA(r)&&(u.flags|=128),G_(n,e,u,d,i,o,!0)}}function hU(n,e,t,r,i){let o=t[us],s=Or(t);o!==s&&Ca(e,n,r,o,i);for(let a=Yn;a<t.length;a++){let c=t[a];Rf(c[Pe],c,n,e,r,o)}}function fU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vr.Important),n.setStyle(t,r,i,o))}}function of(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Or(o)),Di(o)&&pU(o,r);let s=t.type;if(s&8)of(n,e,t.child,r);else if(s&32){let a=q_(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ZA(e,t);if(Array.isArray(a))r.push(...a);else{let c=ds(e[Pr]);of(c[Pe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function pU(n,e){for(let t=Yn;t<n.length;t++){let r=n[t],i=r[Pe].firstChild;i!==null&&of(r[Pe],r,i,e)}n[us]!==n[Ci]&&e.push(n[us])}function JA(n){if(n[Da]!==null){for(let e of n[Da])e.impl.addSequence(e);n[Da].length=0}}var XA=[];function mU(n){return n[Kn]??gU(n)}function gU(n){let e=XA.pop()??Object.create(vU);return e.lView=n,e}function yU(n){n.lView[Kn]!==n&&(n.lView=null,XA.push(n))}var vU=ae(B({},ml),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Nl(n.lView)},consumerOnSignalRead(){this.lView[Kn]=this}});function _U(n){let e=n[Kn]??Object.create(EU);return e.lView=n,e}var EU=ae(B({},ml),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=ds(n.lView);for(;e&&!ex(e[Pe]);)e=ds(e);e&&qS(e)},consumerOnSignalRead(){this.lView[Kn]=this}});function ex(n){return n.type!==2}function tx(n){if(n[Hh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Hh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ve]&8192)}}var wU=100;function nx(n,e=!0,t=0){let i=n[wi].rendererFactory,o=!1;o||i.begin?.();try{bU(n,t)}catch(s){throw e&&KB(n,s),s}finally{o||i.end?.()}}function bU(n,e){let t=QS();try{kD(!0),Gv(n,e);let r=0;for(;Ef(n);){if(r===wU)throw new $(103,!1);r++,Gv(n,1)}}finally{kD(t)}}function IU(n,e,t,r){if(Ol(e))return;let i=e[ve],o=!1,s=!1;w_(e);let a=!0,c=null,u=null;o||(ex(n)?(u=mU(e),c=Qd(u)):Py()===null?(a=!1,u=_U(e),c=Qd(u)):e[Kn]&&(Vy(e[Kn]),e[Kn]=null));try{zS(e),dj(n.bindingStartIndex),t!==null&&GA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let m=n.preOrderCheckHooks;m!==null&&Oh(e,m,null)}else{let m=n.preOrderHooks;m!==null&&Nh(e,m,0,null),dv(e,0)}if(s||TU(e),tx(e),rx(e,0),n.contentQueries!==null&&kA(n,e),!o)if(d){let m=n.contentCheckHooks;m!==null&&Oh(e,m)}else{let m=n.contentHooks;m!==null&&Nh(e,m,1),dv(e,1)}DU(n,e);let f=n.components;f!==null&&ox(e,f,0);let p=n.viewQuery;if(p!==null&&zv(2,p,r),!o)if(d){let m=n.viewCheckHooks;m!==null&&Oh(e,m)}else{let m=n.viewHooks;m!==null&&Nh(e,m,2),dv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uv]){for(let m of e[uv])m();e[uv]=null}o||(JA(e),e[ve]&=-73)}catch(d){throw o||Nl(e),d}finally{u!==null&&(Fy(u,c),a&&yU(u)),b_()}}function rx(n,e){for(let t=CA(n);t!==null;t=DA(t))for(let r=Yn;r<t.length;r++){let i=t[r];ix(i,e)}}function TU(n){for(let e=CA(n);e!==null;e=DA(e)){if(!(e[ve]&2))continue;let t=e[Wh];for(let r=0;r<t.length;r++){let i=t[r];qS(i)}}}function CU(n,e,t){Ye(18);let r=Nr(e,n);ix(r,t),Ye(19,r[bn])}function ix(n,e){v_(n)&&Gv(n,e)}function Gv(n,e){let r=n[Pe],i=n[ve],o=n[Kn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ly(o)),s||=!1,o&&(o.dirty=!1),n[ve]&=-9217,s)IU(r,n,r.template,n[bn]);else if(i&8192){tx(n),rx(n,1);let a=r.components;a!==null&&ox(n,a,1),JA(n)}}function ox(n,e,t){for(let r=0;r<e.length;r++)CU(n,e[r],t)}function DU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)hs(~i);else{let o=i,s=t[++r],a=t[++r];fj(s,o);let c=e[o];Ye(24,c),a(2,c),Ye(25,c)}}}finally{hs(-1)}}function W_(n,e){let t=QS()?64:1088;for(n[wi].changeDetectionScheduler?.notify(e);n;){n[ve]|=t;let r=ds(n);if(Qh(n)&&!r)return n;n=r}return null}function sx(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function SU(n,e,t,r=!0){let i=e[Pe];if(AU(i,e,n,t),r){let s=Hv(t,n),a=e[vt],c=a.parentNode(n[us]);c!==null&&nU(i,n[pr],a,e,c,s)}let o=e[zh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wv(n,e){if(n.length<=Yn)return;let t=Yn+e,r=n[t];if(r){let i=r[Pa];i!==null&&i!==n&&H_(i,r),e>0&&(n[t-1][hr]=r[hr]);let o=Uh(n,Yn+e);tU(r[Pe],r);let s=o[ka];s!==null&&s.detachView(o[Pe]),r[cn]=null,r[hr]=null,r[ve]&=-129}return r}function AU(n,e,t,r){let i=Yn+r,o=t.length;r>0&&(t[i-1][hr]=e),r<o-Yn?(e[hr]=t[i],DS(t,Yn+r,e)):(t.push(e),e[hr]=null),e[cn]=t;let s=e[Pa];s!==null&&t!==s&&ax(s,e);let a=e[ka];a!==null&&a.insertView(n),xv(e),e[ve]|=128}function ax(n,e){let t=n[Wh],r=e[cn];if(mo(r))n[ve]|=2;else{let i=r[cn][Pr];e[Pr]!==i&&(n[ve]|=2)}t===null?n[Wh]=[e]:t.push(e)}var Rl=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Pe];return of(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[bn]}set context(e){this._lView[bn]=e}get destroyed(){return Ol(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[cn];if(Di(e)){let t=e[Gh],r=t?t.indexOf(this):-1;r>-1&&(Wv(e,r),Uh(t,r))}this._attachedToViewContainer=!1}YA(this._lView[Pe],this._lView)}onDestroy(e){HS(this._lView,e)}markForCheck(){W_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){xv(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,nx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Qh(this._lView),t=this._lView[Pa];t!==null&&!e&&H_(t,this._lView),KA(this._lView[Pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Qh(this._lView),r=this._lView[Pa];r!==null&&!t&&ax(r,this._lView),xv(this._lView)}};var yo=(()=>{class n{static __NG_ELEMENT_ID__=MU}return n})(),xU=yo,RU=class extends xU{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=XB(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Rl(i)}};function MU(){return cx(un(),Fe())}function cx(n,e){return n.type&4?new RU(e,n,Cf(n,e)):null}function Mf(n,e,t,r,i){let o=n.data[e];if(o===null)o=PU(n,e,t,r,i),hj()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=cj();o.injectorIndex=s===null?-1:s.injectorIndex}return ys(o,!0),o}function PU(n,e,t,r,i){let o=GS(),s=E_(),a=s?o:o&&o.parent,c=n.data[e]=OU(n,a,t,e,r,i);return kU(n,c,o,s),c}function kU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function OU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return oj()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var ase=new RegExp(`^(\\d+)*(${eB}|${Xj})*(.*)`);var NU=()=>null;function YD(n,e){return NU(n,e)}var FU=class{},lx=class{},Qv=class{resolveComponentFactory(e){throw Error(`No component factory found for ${wn(e)}.`)}},Pf=class{static NULL=new Qv},In=class{},$r=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>LU()}return n})();function LU(){let n=Fe(),e=un(),t=Nr(e.index,n);return(mo(t)?t:n)[vt]}var VU=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();function Kv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=TD(i,a);else if(o==2){let c=a,u=e[++s];r=TD(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function te(n,e=Te.Default){let t=Fe();if(t===null)return J(n,e);let r=un();return dA(r,t,an(n),e)}function ux(){let n="invalid";throw new Error(n)}function Q_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,u=null,d=BU(s);d===null?a=s:[a,c,u]=d,zU(n,e,t,a,o,c,u)}o!==null&&r!==null&&jU(t,r,o)}function jU(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function BU(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&kr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,UU(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function UU(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function $U(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function zU(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let m=r[p];!c&&kr(m)&&(c=!0,$U(n,t,p)),Ov(Jh(t,e),n,m.type)}KU(t,n.data.length,a);for(let p=0;p<a;p++){let m=r[p];m.providersResolver&&m.providersResolver(m)}let u=!1,d=!1,f=qA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let p=0;p<a;p++){let m=r[p];if(t.mergedAttrs=Na(t.mergedAttrs,m.hostAttrs),HU(n,t,e,f,m),QU(f,m,i),s!==null&&s.has(m)){let[_,w]=s.get(m);t.directiveToIndex.set(m.type,[f,_+t.directiveStart,w+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,f);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let y=m.type.prototype;!u&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}qU(n,t,o)}function qU(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))ZD(0,e,i,r),ZD(1,e,i,r),XD(e,r,!1);else{let o=t.get(i);JD(0,e,o,r),JD(1,e,o,r),XD(e,r,!0)}}}function ZD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),dx(e,o)}}function JD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),dx(e,s)}}function dx(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function XD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||F_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function HU(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=cs(i.type,!0)),s=new fs(o,kr(i),te);n.blueprint[r]=s,t[r]=s,GU(n,e,r,qA(n,t,i.hostVars,Ur),i)}function GU(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;WU(s)!=a&&s.push(a),s.push(t,r,o)}}function WU(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function QU(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function KU(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hx(n,e,t,r,i,o,s,a){let c=e.consts,u=Oa(c,s),d=Mf(e,n,2,r,u);return o&&Q_(e,t,d,Oa(c,a),i),d.mergedAttrs=Na(d.mergedAttrs,d.attrs),d.attrs!==null&&Kv(d,d.attrs,!1),d.mergedAttrs!==null&&Kv(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function fx(n,e){T_(n,e),y_(e)&&n.queries.elementEnd(e)}var sf=class extends Pf{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=go(e);return new ms(t,this.ngModule)}};function YU(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Sf.SignalBased)!==0};return i&&(o.transform=i),o})}function ZU(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function JU(n,e,t){let r=e instanceof Dt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Pv(t,r):t}function XU(n){let e=n.get(In,null);if(e===null)throw new $(407,!1);let t=n.get(VU,null),r=n.get(ps,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function e$(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return BA(e,t,t==="svg"?K2:t==="math"?Y2:null)}var ms=class extends lx{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=YU(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZU(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=SB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ye(22);let o=Ae(null);try{let s=this.componentDef,a=r?["ng-version","19.2.4"]:AB(this.componentDef.selectors[0]),c=L_(0,null,null,1,0,null,null,null,null,[a],null),u=JU(s,i||this.ngModule,e),d=XU(u),f=d.rendererFactory.createRenderer(null,s),p=r?VB(f,r,s.encapsulation,u):e$(s,f),m=V_(null,c,null,512|zA(s),null,null,d,f,u,null,PA(p,u,!0));m[ln]=p,w_(m);let y=null;try{let _=hx(ln,c,m,"#host",()=>[this.componentDef],!0,0);p&&($A(f,p,_),$a(p,m)),Af(c,m,_),O_(c,_,m),fx(c,_),t!==void 0&&t$(_,this.ngContentSelectors,t),y=Nr(_.index,m),m[bn]=y[bn],z_(c,m,null)}catch(_){throw y!==null&&Bv(y),Bv(m),_}finally{Ye(23),b_()}return new Yv(this.componentType,m)}finally{Ae(o)}}},Yv=class extends FU{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=$S(t[Pe],ln),this.location=Cf(this._tNode,t),this.instance=Nr(this._tNode.index,t)[bn],this.hostView=this.changeDetectorRef=new Rl(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=$_(r,i[Pe],i,e,t);this.previousInputValues.set(e,t);let s=Nr(r.index,i);W_(s,1)}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function t$(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ai=(()=>{class n{static __NG_ELEMENT_ID__=n$}return n})();function n$(){let n=un();return i$(n,Fe())}var r$=Ai,px=class extends r${_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){let e=C_(this._hostTNode,this._hostLView);if(oA(e)){let t=Yh(e,this._hostLView),r=Kh(e),i=t[Pe].data[r+8];return new as(i,t)}else return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=eS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=YD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,QD(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!H2(e),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new ms(go(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?u:this.parentInjector).get(Dt,null);_&&(o=_)}let d=go(c.componentType??{}),f=YD(this._lContainer,d?.id??null),p=f?.firstChild??null,m=c.create(u,i,p,o);return this.insertImpl(m.hostView,a,QD(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Z2(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[cn],u=new px(c,c[pr],c[cn]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return SU(s,i,o,r),e.attachToViewContainerRef(),DS(mv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=eS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Wv(this._lContainer,t);r&&(Uh(mv(this._lContainer),t),YA(r[Pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Wv(this._lContainer,t);return r&&Uh(mv(this._lContainer),t)!=null?new Rl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eS(n){return n[Gh]}function mv(n){return n[Gh]||(n[Gh]=[])}function i$(n,e){let t,r=e[n.index];return Di(r)?t=r:(t=sx(r,e,null,n),e[n.index]=t,j_(e,t)),s$(t,e,n,r),new px(t,n,e)}function o$(n,e){let t=n[vt],r=t.createComment(""),i=jr(e,n),o=t.parentNode(i);return rf(t,o,r,t.nextSibling(i),!1),r}var s$=l$,a$=()=>!1;function c$(n,e,t){return a$(n,e,t)}function l$(n,e,t,r){if(n[us])return;let i;t.type&8?i=Or(r):i=o$(e,t),n[us]=i}var Fa=class{},K_=class{};var Zv=class extends Fa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=xS(e);this._bootstrapComponents=VA(o.bootstrap),this._r3Injector=pA(e,t,[{provide:Fa,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jv=class extends K_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zv(this.moduleType,e,[])}};var af=class extends Fa{injector;componentFactoryResolver=new sf(this);instance=null;constructor(e){super();let t=new Al([...e.providers,{provide:Fa,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver}],e.parent||mf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kf(n,e,t=null){return new af({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var u$=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=RS(!1,t.type),i=r.length>0?kf([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(J(Dt))})}return n})();function ct(n){return Pl(()=>{let e=mx(n),t=ae(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===IA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(u$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Lr.Emulated,styles:n.styles||Qn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&qa("NgStandalone"),gx(t);let r=n.dependencies;return t.directiveDefs=tS(r,!1),t.pipeDefs=tS(r,!0),t.id=m$(t),t})}function d$(n){return go(n)||O2(n)}function h$(n){return n!==null}function Bt(n){return Pl(()=>({type:n.type,bootstrap:n.bootstrap||Qn,declarations:n.declarations||Qn,imports:n.imports||Qn,exports:n.exports||Qn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function f$(n,e){if(n==null)return ls;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Sf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function p$(n){if(n==null)return ls;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function tt(n){return Pl(()=>{let e=mx(n);return gx(e),e})}function jl(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function mx(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ls,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Qn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f$(n.inputs,e),outputs:p$(n.outputs),debugInfo:null}}function gx(n){n.features?.forEach(e=>e(n))}function tS(n,e){if(!n)return null;let t=e?N2:d$;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(h$)}function m$(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function g$(n){return Object.getPrototypeOf(n.prototype).constructor}function gr(n){let e=g$(n.type),t=!0,r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=gv(n.inputs),s.declaredInputs=gv(n.declaredInputs),s.outputs=gv(n.outputs);let a=i.hostBindings;a&&w$(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&_$(n,c),u&&E$(n,u),y$(n,i),p2(n.outputs,i.outputs),kr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===gr&&(t=!1)}}e=Object.getPrototypeOf(e)}v$(r)}function y$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function v$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Na(i.hostAttrs,t=Na(t,i.hostAttrs))}}function gv(n){return n===ls?{}:n===Qn?[]:n}function _$(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function E$(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function w$(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function yx(n){return Y_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function b$(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Y_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Of(n,e,t){return n[e]=t}function I$(n,e){return n[e]}function bi(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Z_(n,e,t,r){let i=bi(n,e,t);return bi(n,e+1,r)||i}function T$(n,e,t,r,i){let o=Z_(n,e,t,r);return bi(n,e+2,i)||o}function C$(n,e,t,r,i,o,s,a,c){let u=e.consts,d=Mf(e,n,4,s||null,a||null);__()&&Q_(e,t,d,Oa(u,c),U_),d.mergedAttrs=Na(d.mergedAttrs,d.attrs),T_(e,d);let f=d.tView=L_(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function D$(n,e,t,r,i,o,s,a,c,u){let d=t+ln,f=e.firstCreatePass?C$(d,e,n,r,i,o,s,a,c):e.data[d];ys(f,!1);let p=S$(e,n,f,t);bf()&&xf(e,n,p,f),$a(p,n);let m=sx(p,n,p,f);return n[d]=m,j_(n,m),c$(m,f,n),vf(f)&&Af(e,n,f),c!=null&&B_(n,f,u),f}function pe(n,e,t,r,i,o,s,a){let c=Fe(),u=Zt(),d=Oa(u.consts,o);return D$(c,u,n,e,t,r,i,d,s,a),pe}var S$=A$;function A$(n,e,t,r){return If(!0),e[vt].createComment("")}var J_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var vx=new Q("");var x$=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Xv})}return n})(),Xv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function vo(n){return!!n&&typeof n.then=="function"}function X_(n){return!!n&&typeof n.subscribe=="function"}var Nf=new Q("");var _x=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(Nf,{optional:!0})??[];injector=O(We);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ot(this.injector,i);if(vo(o))t.push(o);else if(X_(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bl=new Q("");function R$(){By(()=>{throw new $(600,!1)})}function M$(n){return n.isBoundToModule}var P$=10;var fr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(zj);afterRenderManager=O(MA);zonelessEnabled=O(S_);rootEffectScheduler=O(x$);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new me;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Si).hasPendingTasks.pipe(ne(t=>!t));constructor(){O(za,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(Dt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){Ye(10);let i=t instanceof lx;if(!this._injector.get(_x).done){let p="";throw new $(405,p)}let s;i?s=t:s=this._injector.get(Pf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=M$(s)?void 0:this._injector.get(Fa),c=r||s.selector,u=s.create(We.NULL,[],c,a),d=u.location.nativeElement,f=u.injector.get(vx,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Fh(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),Ye(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(k_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ae(t),this.afterTick.next(),Ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(In,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<P$;)Ye(14),this.synchronizeOnce(),Ye(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)k$(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ef(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Fh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Bl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Fh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function k$(n,e,t,r){if(!t&&!Ef(n))return;nx(n,e,t&&!r?0:1)}function xi(n,e,t,r){let i=Fe(),o=wf();if(bi(i,o,e)){let s=Zt(),a=I_();GB(a,i,n,e,t,r)}return xi}function O$(n,e,t,r){return bi(n,wf(),t)?e+Aa(t)+r:Ur}function N$(n,e,t,r,i,o){let s=uj(),a=Z_(n,s,t,i);return KS(2),a?e+Aa(t)+r+Aa(i)+o:Ur}function Ph(n,e){return n<<17|e<<2}function gs(n){return n>>17&32767}function F$(n){return(n&2)==2}function L$(n,e){return n&131071|e<<17}function e_(n){return n|2}function La(n){return(n&131068)>>2}function yv(n,e){return n&-131069|e<<2}function V$(n){return(n&1)===1}function t_(n){return n|1}function j$(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gs(s),c=La(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||kl(f,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let p=gs(n[a+1]);n[r+1]=Ph(p,a),p!==0&&(n[p+1]=yv(n[p+1],r)),n[a+1]=L$(n[a+1],r)}else n[r+1]=Ph(a,0),a!==0&&(n[a+1]=yv(n[a+1],r)),a=r;else n[r+1]=Ph(c,0),a===0?a=r:n[c+1]=yv(n[c+1],r),c=r;u&&(n[r+1]=e_(n[r+1])),nS(n,d,r,!0),nS(n,d,r,!1),B$(e,d,n,r,o),s=Ph(a,c),o?e.classBindings=s:e.styleBindings=s}function B$(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&kl(o,e)>=0&&(t[r+1]=t_(t[r+1]))}function nS(n,e,t,r){let i=n[t+1],o=e===null,s=r?gs(i):La(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];U$(c,e)&&(a=!0,n[s+1]=r?t_(u):e_(u)),s=r?gs(u):La(u)}a&&(n[t+1]=r?e_(i):t_(i))}function U$(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?kl(n,e)>=0:!1}function X(n,e,t){let r=Fe(),i=wf();if(bi(r,i,e)){let o=Zt(),s=I_();WA(o,s,r,n,e,r[vt],t,!1)}return X}function rS(n,e,t,r,i){$_(e,n,t,i?"class":"style",r)}function _o(n,e,t){return Ex(n,e,t,!1),_o}function Tn(n,e){return Ex(n,e,null,!0),Tn}function Ex(n,e,t,r){let i=Fe(),o=Zt(),s=KS(2);if(o.firstUpdatePass&&z$(o,n,s,r),e!==Ur&&bi(i,s,e)){let a=o.data[vs()];Q$(o,a,i,i[vt],n,i[s+1]=K$(e,t),r,s)}}function $$(n,e){return e>=n.expandoStartIndex}function z$(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[vs()],s=$$(n,t);Y$(o,r)&&e===null&&!s&&(e=!1),e=q$(i,o,e,r),j$(i,o,e,t,s,r)}}function q$(n,e,t,r){let i=mj(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vv(null,n,e,t,r),t=Ml(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vv(i,n,e,t,r),o===null){let c=H$(n,e,r);c!==void 0&&Array.isArray(c)&&(c=vv(null,n,e,c[1],r),c=Ml(c,e.attrs,r),G$(n,e,r,c))}else o=W$(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function H$(n,e,t){let r=t?e.classBindings:e.styleBindings;if(La(r)!==0)return n[gs(r)]}function G$(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[gs(i)]=r}function W$(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Ml(r,s,t)}return Ml(r,e.attrs,t)}function vv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Ml(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Ml(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),P2(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Q$(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=V$(u)?iS(c,e,t,i,La(u),s):void 0;if(!cf(d)){cf(o)||F$(u)&&(o=iS(c,null,t,i,a,s));let f=US(vs(),t);fU(r,s,f,i,o)}}function iS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,p=t[i+1];p===Ur&&(p=f?Qn:void 0);let m=f?cv(p,r):d===r?p:void 0;if(u&&!cf(m)&&(m=cv(c,r)),cf(m)&&(a=m,s))return a;let y=n[i+1];i=s?gs(y):La(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=cv(c,r))}return a}function cf(n){return n!==void 0}function K$(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=wn(Vl(n)))),n}function Y$(n,e){return(n.flags&(e?8:16))!==0}function N(n,e,t,r){let i=Fe(),o=Zt(),s=ln+n,a=i[vt],c=o.firstCreatePass?hx(s,o,i,e,U_,__(),t,r):o.data[s],u=Z$(o,i,c,a,e,n);i[s]=u;let d=vf(c);return ys(c,!0),$A(a,u,c),!QA(c)&&bf()&&xf(o,i,u,c),(nj()===0||d)&&$a(u,i),rj(),d&&(Af(o,i,c),O_(o,c,i)),r!==null&&B_(i,c),N}function L(){let n=un();E_()?WS():(n=n.parent,ys(n,!1));let e=n;sj(e)&&aj(),ij();let t=Zt();return t.firstCreatePass&&fx(t,e),e.classesWithoutHost!=null&&wj(e)&&rS(t,e,Fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bj(e)&&rS(t,e,Fe(),e.stylesWithoutHost,!1),L}function st(n,e,t,r){return N(n,e,t,r),L(),st}var Z$=(n,e,t,r,i,o)=>(If(!0),BA(r,i,vj()));function J$(n,e,t,r,i){let o=e.consts,s=Oa(o,r),a=Mf(e,n,8,"ng-container",s);s!==null&&Kv(a,s,!0);let c=Oa(o,i);return __()&&Q_(e,t,a,c,U_),a.mergedAttrs=Na(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Ga(n,e,t){let r=Fe(),i=Zt(),o=n+ln,s=i.firstCreatePass?J$(o,i,r,e,t):i.data[o];ys(s,!0);let a=X$(i,r,s,n);return r[o]=a,bf()&&xf(i,r,a,s),$a(a,r),vf(s)&&(Af(i,r,s),O_(i,s,r)),t!=null&&B_(r,s),Ga}function Wa(){let n=un(),e=Zt();return E_()?WS():(n=n.parent,ys(n,!1)),e.firstCreatePass&&(T_(e,n),y_(n)&&e.queries.elementEnd(n)),Wa}var X$=(n,e,t,r)=>(If(!0),MB(e[vt],""));function St(){return Fe()}var lf="en-US";var ez=lf;function tz(n){typeof n=="string"&&(ez=n.toLowerCase().replace(/_/g,"-"))}function oS(n,e,t,r){return function i(o){if(o===Function)return r;let s=ja(n)?Nr(n.index,e):e;W_(s,5);let a=sS(e,t,r,o),c=i.__ngNextListenerFn__;for(;c;)a=sS(e,t,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function sS(n,e,t,r){let i=Ae(null);try{return Ye(6,e,t),t(r)!==!1}catch(o){return nz(n,o),!1}finally{Ye(7,e,t),Ae(i)}}function nz(n,e){let t=n[Ma],r=t?t.get(Fr,null):null;r&&r.handleError(e)}function aS(n,e,t,r,i,o,s,a,c){let u=t[r],f=e.data[r].outputs[i],m=u[f].subscribe(s),y=a.length;a.push(s,m),c&&c.push(o,n.index,y,-(y+1))}var rz=(n,e,t)=>{};function de(n,e,t,r){let i=Fe(),o=Zt(),s=un();return wx(o,i,i[vt],s,n,e,r),de}function iz(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[qh],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function wx(n,e,t,r,i,o,s){let a=vf(r),u=n.firstCreatePass?tj(n):null,d=e[bn],f=ej(e),p=!0;if(r.type&3||s){let m=jr(r,e),y=s?s(m):m,_=f.length,w=s?k=>s(Or(k[r.index])):r.index,b=null;if(!s&&a&&(b=iz(n,e,i,r.index)),b!==null){let k=b.__ngLastListenerFn__||b;k.__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,p=!1}else{o=oS(r,e,d,o),rz(y,i,o);let k=t.listen(y,i,o);f.push(o,k),u&&u.push(i,w,_,_+1)}}else o=oS(r,e,d,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let _=0;_<y.length;_+=2){let w=y[_],b=y[_+1];aS(r,n,e,w,b,i,o,f,u)}if(m&&m.length)for(let _ of m)aS(r,n,e,_,i,i,o,f,u)}}function oe(n=1){return yj(n)}function oz(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function bx(n){let e=lj();return _f(e,ln+n)}function z(n,e=""){let t=Fe(),r=Zt(),i=n+ln,o=r.firstCreatePass?Mf(r,i,1,e,null):r.data[i],s=sz(r,t,o,e,n);t[i]=s,bf()&&xf(r,t,s,o),ys(o,!1)}var sz=(n,e,t,r,i)=>(If(!0),xB(e[vt],r));function _t(n){return yr("",n,""),_t}function yr(n,e,t){let r=Fe(),i=O$(r,n,e,t);return i!==Ur&&Ix(r,vs(),i),yr}function eE(n,e,t,r,i){let o=Fe(),s=N$(o,n,e,t,r,i);return s!==Ur&&Ix(o,vs(),s),eE}function Ix(n,e,t){let r=US(e,n);RB(n[vt],r,t)}function _s(n,e,t){wA(e)&&(e=e());let r=Fe(),i=wf();if(bi(r,i,e)){let o=Zt(),s=I_();WA(o,s,r,n,e,r[vt],t,!1)}return _s}function Qa(n,e){let t=wA(n);return t&&n.set(e),t}function Es(n,e){let t=Fe(),r=Zt(),i=un();return wx(r,t,t[vt],i,n,e),Es}function az(n,e,t){let r=Zt();if(r.firstCreatePass){let i=kr(n);n_(t,r.data,r.blueprint,i,!0),n_(e,r.data,r.blueprint,i,!1)}}function n_(n,e,t,r,i){if(n=an(n),Array.isArray(n))for(let o=0;o<n.length;o++)n_(n[o],e,t,r,i);else{let o=Zt(),s=Fe(),a=un(),c=Ra(n)?n:an(n.provide),u=kS(n),d=a.providerIndexes&1048575,f=a.directiveStart,p=a.providerIndexes>>20;if(Ra(n)||!n.multi){let m=new fs(u,i,te),y=Ev(c,e,i?d:d+p,f);y===-1?(Ov(Jh(a,s),o,c),_v(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{let m=Ev(c,e,d+p,f),y=Ev(c,e,d,d+p),_=m>=0&&t[m],w=y>=0&&t[y];if(i&&!w||!i&&!_){Ov(Jh(a,s),o,c);let b=uz(i?lz:cz,t.length,i,r,u);!i&&w&&(t[y].providerFactory=b),_v(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),s.push(b)}else{let b=Tx(t[i?y:m],u,!i&&r);_v(o,n,m>-1?m:y,b)}!i&&r&&w&&t[y].componentProviders++}}}function _v(n,e,t,r){let i=Ra(e),o=j2(e);if(i||o){let c=(o?an(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function Tx(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ev(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function cz(n,e,t,r){return r_(this.multi,[])}function lz(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Xh(t,t[Pe],this.providerFactory.index,r);o=a.slice(0,s),r_(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],r_(i,o);return o}function r_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function uz(n,e,t,r,i){let o=new fs(n,t,te);return o.multi=[],o.index=e,o.componentProviders=0,Tx(o,i,r&&!t),o}function Jn(n,e=[]){return t=>{t.providersResolver=(r,i)=>az(r,i?i(n):n,e)}}function tE(n,e,t){let r=Fl()+n,i=Fe();return i[r]===Ur?Of(i,r,t?e.call(t):e()):I$(i,r)}function Eo(n,e,t,r){return Cx(Fe(),Fl(),n,e,t,r)}function nE(n,e){let t=n[e];return t===Ur?void 0:t}function Cx(n,e,t,r,i,o){let s=e+t;return bi(n,s,i)?Of(n,s+1,o?r.call(o,i):r(i)):nE(n,s+1)}function dz(n,e,t,r,i,o,s){let a=e+t;return Z_(n,a,i,o)?Of(n,a+2,s?r.call(s,i,o):r(i,o)):nE(n,a+2)}function hz(n,e,t,r,i,o,s,a){let c=e+t;return T$(n,c,i,o,s)?Of(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):nE(n,c+3)}function Ul(n,e){let t=Zt(),r,i=n+ln;t.firstCreatePass?(r=fz(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=cs(r.type,!0)),s,a=En(te);try{let c=Zh(!1),u=o();return Zh(c),oz(t,Fe(),i,u),u}finally{En(a)}}function fz(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Dx(n,e,t){let r=n+ln,i=Fe(),o=_f(i,r);return rE(i,r)?Cx(i,Fl(),e,o.transform,t,o):o.transform(t)}function Sx(n,e,t,r){let i=n+ln,o=Fe(),s=_f(o,i);return rE(o,i)?dz(o,Fl(),e,s.transform,t,r,s):s.transform(t,r)}function Ax(n,e,t,r,i){let o=n+ln,s=Fe(),a=_f(s,o);return rE(s,o)?hz(s,Fl(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function rE(n,e){return n[Pe].data[e].pure}function xx(n,e){return cx(n,e)}var Ii=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},$l=new Ii("19.2.4"),i_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ff=(()=>{class n{compileModuleSync(t){return new Jv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=xS(t),o=VA(i.declarations).reduce((s,a)=>{let c=go(a);return c&&s.push(new ms(c)),s},[]);return new i_(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pz=(()=>{class n{zone=O(_e);changeDetectionScheduler=O(ps);applicationRef=O(fr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mz({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new _e(ae(B({},gz()),{scheduleInRootZone:t})),[{provide:_e,useFactory:n},{provide:xa,multi:!0,useFactory:()=>{let r=O(pz,{optional:!0});return()=>r.initialize()}},{provide:xa,multi:!0,useFactory:()=>{let r=O(yz);return()=>{r.initialize()}}},e===!0?{provide:gA,useValue:!0}:[],{provide:yA,useValue:t??mA}]}function gz(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yz=(()=>{class n{subscription=new Ne;initialized=!1;zone=O(_e);pendingTasks=O(Si);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vz=(()=>{class n{appRef=O(fr);taskService=O(Si);ngZone=O(_e);zonelessEnabled=O(S_);tracing=O(za,{optional:!0});disableScheduling=O(gA,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(yA,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?jD:vA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _z(){return typeof $localize<"u"&&$localize.locale||lf}var iE=new Q("",{providedIn:"root",factory:()=>O(iE,Te.Optional|Te.SkipSelf)||_z()});var o_=new Q(""),Ez=new Q("");function Tl(n){return!n.moduleRef}function wz(n){let e=Tl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(_e);return t.run(()=>{Tl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Fr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Tl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(o_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(o_);s.add(o),n.moduleRef.onDestroy(()=>{Fh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Iz(r,t,()=>{let o=e.get(_x);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(iE,lf);if(tz(s||lf),!e.get(Ez,!0))return Tl(n)?e.get(fr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Tl(n)){let c=e.get(fr);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return bz(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function bz(n,e){let t=n.injector.get(fr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function Iz(n,e,t){try{let r=t();return vo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Lh=null;function Tz(n=[],e){return We.create({name:e,providers:[{provide:pf,useValue:"platform"},{provide:o_,useValue:new Set([()=>Lh=null])},...n]})}function Cz(n=[]){if(Lh)return Lh;let e=Tz(n);return Lh=e,R$(),Dz(e),e}function Dz(n){let e=n.get(R_,null);Ot(n,()=>{e?.forEach(t=>t())})}function oE(){return!1}var Cn=(()=>{class n{static __NG_ELEMENT_ID__=Sz}return n})();function Sz(n){return Az(un(),Fe(),(n&16)===16)}function Az(n,e,t){if(ja(n)&&!t){let r=Nr(n.index,e);return new Rl(r,r)}else if(n.type&175){let r=e[Pr];return new Rl(r,e)}return null}var s_=class{constructor(){}supports(e){return yx(e)}create(e){return new a_(e)}},xz=(n,e)=>e,a_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||xz}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<cS(r,i,o)?t:r,a=cS(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){let m=p<o.length?o[p]:o[p]=0,y=m+p;d<=y&&y<u&&(o[p]=m+1)}let f=s.previousIndex;o[f]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!yx(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,b$(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new c_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new uf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new uf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},c_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},l_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},uf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new l_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var u_=class{constructor(){}supports(e){return e instanceof Map||Y_(e)}create(){return new d_}},d_=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Y_(e)))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new h_(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},h_=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function lS(){return new Lf([new s_])}var Lf=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:lS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lS()),deps:[[n,new CS,new mt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function uS(){return new sE([new u_])}var sE=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:uS});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||uS()),deps:[[n,new CS,new mt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new $(901,!1)}}return n})();function Rx(n){Ye(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=Cz(r),o=[mz({}),{provide:ps,useExisting:vz},...t||[]],s=new af({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return wz({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ye(9)}}function Dn(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function aE(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Xn(n){return zy(n)}function ws(n,e){return jy(n,e?.equal)}var dS=class{[Wn];constructor(e){this[Wn]=e}destroy(){this[Wn].destroy()}};function Mx(n,e){let t=go(n),r=e.elementInjector||mf();return new ms(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function Px(n){let e=go(n);if(!e)return null;let t=new ms(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Vx=null;function Mi(){return Vx}function jx(n){Vx??=n}var Vf=class{};var rt=new Q(""),pE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(Rz),providedIn:"platform"})}return n})(),Bx=new Q(""),Rz=(()=>{class n extends pE{_location;_history;_doc=O(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mi().getBaseHref(this._doc)}onPopState(t){let r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function mE(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function kx(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Ri(n){return n&&n[0]!=="?"?`?${n}`:n}var Pi=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(gE),providedIn:"root"})}return n})(),Ux=new Q(""),gE=(()=>{class n extends Pi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mE(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Ri(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ri(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ri(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(pE),J(Ux,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$x=(()=>{class n extends Pi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=mE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Ri(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Ri(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(pE),J(Ux,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ya=(()=>{class n{_subject=new me;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=kz(kx(Ox(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ri(r))}normalize(t){return n.stripTrailingSlash(Pz(this._basePath,Ox(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ri(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ri(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ri;static joinWithSlash=mE;static stripTrailingSlash=kx;static \u0275fac=function(r){return new(r||n)(J(Pi))};static \u0275prov=G({token:n,factory:()=>Mz(),providedIn:"root"})}return n})();function Mz(){return new Ya(J(Pi))}function Pz(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Ox(n){return n.replace(/\/index.html$/,"")}function kz(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function jf(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var cE=/\s+/,Nx=[],Za=(()=>{class n{_ngEl;_renderer;initialClasses=Nx;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(cE):Nx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(cE):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(cE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(te(Nt),te($r))};static \u0275dir=tt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var lE=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new lE(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Fx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Fx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(te(Ai),te(yo),te(Lf))};static \u0275dir=tt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Fx(n,e){n.context.$implicit=e.item}var Sn=(()=>{class n{_viewContainer;_context=new uE;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lx(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lx(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(te(Ai),te(yo))};static \u0275dir=tt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),uE=class{$implicit=null;ngIf=null};function Lx(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var zx=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Vr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(te(Nt),te(sE),te($r))};static \u0275dir=tt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})();function qx(n,e){return new $(2100,!1)}var dE=class{createSubscription(e,t){return Xn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Xn(()=>e.unsubscribe())}},hE=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},Oz=new hE,Nz=new dE,Hx=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(vo(t))return Oz;if(X_(t))return Nz;throw qx(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(te(Cn,16))};static \u0275pipe=jl({name:"async",type:n,pure:!1})}return n})();var Gx=(()=>{class n{transform(t,r,i){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw qx(n,t);return t.slice(r,i)}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=jl({name:"slice",type:n,pure:!1})}return n})();var At=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({})}return n})(),yE="browser",Fz="server";function Wx(n){return n===yE}function vE(n){return n===Fz}var Qx=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new fE(O(rt),window)})}return n})(),fE=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=Lz(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Lz(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Ka=class{};var ql=class{},Uf=class{},Hr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var EE=class{encodeKey(e){return Kx(e)}encodeValue(e){return Kx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Vz(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var jz=/%(\d[a-f0-9])/gi,Bz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Kx(n){return encodeURIComponent(n).replace(jz,(e,t)=>Bz[t]??e)}function Bf(n){return`${n}`}var wo=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new EE,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=Vz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Bf):[Bf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Bf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Bf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var wE=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Uz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Yx(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Zx(n){return typeof Blob<"u"&&n instanceof Blob}function Jx(n){return typeof FormData<"u"&&n instanceof FormData}function $z(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Xx="Content-Type",eR="Accept",rR="X-Request-URL",iR="text/plain",oR="application/json",zz=`${oR}, ${iR}, */*`,zl=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(Uz(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hr,this.context??=new wE,!this.params)this.params=new wo,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Yx(this.body)||Zx(this.body)||Jx(this.body)||$z(this.body)?this.body:this.body instanceof wo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Jx(this.body)?null:Zx(this.body)?this.body.type||null:Yx(this.body)?null:typeof this.body=="string"?iR:this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?oR:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,m)=>p.set(m,e.setHeaders[m]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((p,m)=>p.set(m,e.setParams[m]),d)),new n(t,r,s,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Ja=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ja||{}),Hl=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Hr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},bE=class n extends Hl{constructor(e={}){super(e)}type=Ja.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$f=class n extends Hl{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ja.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zf=class extends Hl{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},qz=200,Hz=204;function _E(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var IE=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof zl)o=t;else{let c;i.headers instanceof Hr?c=i.headers:c=new Hr(i.headers);let u;i.params&&(i.params instanceof wo?u=i.params:u=new wo({fromObject:i.params})),o=new zl(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=W(o).pipe(yi(c=>this.handler.handle(c)));if(t instanceof zl||i.observe==="events")return s;let a=s.pipe(Yt(c=>c instanceof $f));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new $(2806,!1);return c.body}));case"blob":return a.pipe(ne(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new $(2807,!1);return c.body}));case"text":return a.pipe(ne(c=>{if(c.body!==null&&typeof c.body!="string")throw new $(2808,!1);return c.body}));case"json":default:return a.pipe(ne(c=>c.body))}case"response":return a;default:throw new $(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new wo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_E(i,r))}post(t,r,i={}){return this.request("POST",t,_E(i,r))}put(t,r,i={}){return this.request("PUT",t,_E(i,r))}static \u0275fac=function(r){return new(r||n)(J(ql))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var Gz=new Q("");function Wz(n,e){return e(n)}function Qz(n,e,t){return(r,i)=>Ot(t,()=>e(r,o=>n(o,i)))}var TE=new Q(""),Kz=new Q(""),Yz=new Q("",{providedIn:"root",factory:()=>!0});var tR=(()=>{class n extends ql{backend;injector;chain=null;pendingTasks=O(Si);contributeToStability=O(Yz);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(TE),...this.injector.get(Kz,[])]));this.chain=r.reduceRight((i,o)=>Qz(i,o,this.injector),Wz)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(os(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(J(Uf),J(Dt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();var Zz=/^\)\]\}',?\n/,Jz=RegExp(`^${rR}:`,"m");function Xz(n){return"responseURL"in n&&n.responseURL?n.responseURL:Jz.test(n.getAllResponseHeaders())?n.getResponseHeader(rR):null}var nR=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):W(null)).pipe(ot(()=>new ce(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((_,w)=>s.setRequestHeader(_,w.join(","))),t.headers.has(eR)||s.setRequestHeader(eR,zz),!t.headers.has(Xx)){let _=t.detectContentTypeHeader();_!==null&&s.setRequestHeader(Xx,_)}if(t.responseType){let _=t.responseType.toLowerCase();s.responseType=_!=="json"?_:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let _=s.statusText||"OK",w=new Hr(s.getAllResponseHeaders()),b=Xz(s)||t.url;return c=new bE({headers:w,status:s.status,statusText:_,url:b}),c},d=()=>{let{headers:_,status:w,statusText:b,url:k}=u(),x=null;w!==Hz&&(x=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=x?qz:0);let V=w>=200&&w<300;if(t.responseType==="json"&&typeof x=="string"){let U=x;x=x.replace(Zz,"");try{x=x!==""?JSON.parse(x):null}catch(q){x=U,V&&(V=!1,x={error:q,text:x})}}V?(o.next(new $f({body:x,headers:_,status:w,statusText:b,url:k||void 0})),o.complete()):o.error(new zf({error:x,headers:_,status:w,statusText:b,url:k||void 0}))},f=_=>{let{url:w}=u(),b=new zf({error:_,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(b)},p=!1,m=_=>{p||(o.next(u()),p=!0);let w={type:Ja.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),t.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},y=_=>{let w={type:Ja.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:Ja.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(J(Ka))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),sR=new Q(""),eq="XSRF-TOKEN",tq=new Q("",{providedIn:"root",factory:()=>eq}),nq="X-XSRF-TOKEN",rq=new Q("",{providedIn:"root",factory:()=>nq}),qf=class{},iq=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jf(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(J(rt),J(mr),J(tq))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function oq(n,e){let t=n.url.toLowerCase();if(!O(sR)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(qf).getToken(),i=O(rq);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var aR=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(aR||{});function sq(n,e){return{\u0275kind:n,\u0275providers:e}}function cR(...n){let e=[IE,nR,tR,{provide:ql,useExisting:tR},{provide:Uf,useFactory:()=>O(Gz,{optional:!0})??O(nR)},{provide:TE,useValue:oq,multi:!0},{provide:sR,useValue:!0},{provide:qf,useClass:iq}];for(let t of n)e.push(...t.\u0275providers);return Fn(e)}function lR(n){return sq(aR.Interceptors,n.map(e=>({provide:TE,useValue:e,multi:!0})))}var DE=class extends Vf{supportsDOMEvents=!0},SE=class n extends DE{static makeCurrent(){jx(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=cq();return t==null?null:lq(t)}resetBaseElement(){Gl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jf(document.cookie,e)}},Gl=null;function cq(){return Gl=Gl||document.querySelector("base"),Gl?Gl.getAttribute("href"):null}function lq(n){return new URL(n,document.baseURI).pathname}var uq=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),AE=new Q(""),pR=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(AE),J(_e))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Gf=class{_doc;constructor(e){this._doc=e}manager},Hf="ng-app-id";function uR(n){for(let e of n)e.remove()}function dR(n,e){let t=e.createElement("style");return t.textContent=n,t}function dq(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Hf}="${e}"],link[${Hf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Hf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function xE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var mR=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=vE(o),dq(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,dR);r?.forEach(i=>this.addUsage(i,this.external,xE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(uR(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])uR(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,dR(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,xE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Hf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(rt),J(Ll),J(P_,8),J(mr))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),CE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ME=/%COMP%/g;var gR="%COMP%",hq=`_nghost-${gR}`,fq=`_ngcontent-${gR}`,pq=!0,mq=new Q("",{providedIn:"root",factory:()=>pq});function gq(n){return fq.replace(ME,n)}function yq(n){return hq.replace(ME,n)}function yR(n,e){return e.map(t=>t.replace(ME,n))}var Wf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=vE(a),this.defaultRenderer=new Wl(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Lr.ShadowDom&&(r=ae(B({},r),{encapsulation:Lr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Qf?i.applyToHost(t):i instanceof Ql&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Lr.Emulated:o=new Qf(c,u,r,this.appId,d,s,a,f,p);break;case Lr.ShadowDom:return new RE(c,u,t,r,s,a,this.nonce,f,p);default:o=new Ql(c,u,r,d,s,a,f,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J(pR),J(mR),J(Ll),J(mq),J(rt),J(mr),J(_e),J(P_),J(za,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Wl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(CE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(hR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=CE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=CE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(t,r,i&Vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mi().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function hR(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var RE=class extends Wl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=yR(i.id,d);for(let p of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}let f=i.getExternalStyles?.();if(f)for(let p of f){let m=xE(p,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ql=class extends Wl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?yR(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qf=class extends Ql{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=gq(d),this.hostAttr=yq(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},vq=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(rt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),fR=["alt","control","meta","shift"],_q={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Eq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wq=(()=>{class n extends Gf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),fR.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=_q[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),fR.forEach(s=>{if(s!==i){let a=Eq[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(rt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function vR(n,e){return Rx(B({rootComponent:n},bq(e)))}function bq(n){return{appProviders:[...Sq,...n?.providers??[]],platformProviders:Dq}}function Iq(){SE.makeCurrent()}function Tq(){return new Fr}function Cq(){return AA(document),document}var Dq=[{provide:mr,useValue:yE},{provide:R_,useValue:Iq,multi:!0},{provide:rt,useFactory:Cq,deps:[]}];var Sq=[{provide:pf,useValue:"root"},{provide:Fr,useFactory:Tq,deps:[]},{provide:AE,useClass:vq,multi:!0,deps:[rt]},{provide:AE,useClass:wq,multi:!0,deps:[rt]},Wf,mR,pR,{provide:In,useExisting:Wf},{provide:Ka,useClass:uq,deps:[]},[]];var _R=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(rt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var we=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(we||{}),Gr="*";function ER(n,e){return{type:we.Trigger,name:n,definitions:e,options:{}}}function PE(n,e=null){return{type:we.Animate,styles:e,timings:n}}function wR(n,e=null){return{type:we.Sequence,steps:n,options:e}}function bs(n){return{type:we.Style,styles:n,offset:null}}function kE(n,e,t=null){return{type:we.Transition,expr:n,animation:e,options:t}}var bo=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Kl=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Kf="!";function bR(n){return new $(3e3,!1)}function xq(){return new $(3100,!1)}function Rq(){return new $(3101,!1)}function Mq(n){return new $(3001,!1)}function Pq(n){return new $(3003,!1)}function kq(n){return new $(3004,!1)}function Oq(n,e){return new $(3005,!1)}function Nq(){return new $(3006,!1)}function Fq(){return new $(3007,!1)}function Lq(n,e){return new $(3008,!1)}function Vq(n){return new $(3002,!1)}function jq(n,e,t,r,i){return new $(3010,!1)}function Bq(){return new $(3011,!1)}function Uq(){return new $(3012,!1)}function $q(){return new $(3200,!1)}function zq(){return new $(3202,!1)}function qq(){return new $(3013,!1)}function Hq(n){return new $(3014,!1)}function Gq(n){return new $(3015,!1)}function Wq(n){return new $(3016,!1)}function Qq(n,e){return new $(3404,!1)}function Kq(n){return new $(3502,!1)}function Yq(n){return new $(3503,!1)}function Zq(){return new $(3300,!1)}function Jq(n){return new $(3504,!1)}function Xq(n){return new $(3301,!1)}function eH(n,e){return new $(3302,!1)}function tH(n){return new $(3303,!1)}function nH(n,e){return new $(3400,!1)}function rH(n){return new $(3401,!1)}function iH(n){return new $(3402,!1)}function oH(n,e){return new $(3505,!1)}function Io(n){switch(n.length){case 0:return new bo;case 1:return n[0];default:return new Kl(n)}}function FR(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let u=c.get("offset"),d=u==s,f=d&&a||new Map;c.forEach((p,m)=>{let y=m,_=p;if(m!=="offset")switch(y=n.normalizePropertyName(y,i),_){case Kf:_=t.get(m);break;case Gr:_=r.get(m);break;default:_=n.normalizeStyleValue(m,y,_,i);break}f.set(y,_)}),d||o.push(f),a=f,s=u}),i.length)throw Kq(i);return o}function tw(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&OE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&OE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&OE(t,"destroy",n)));break}}function OE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=nw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function nw(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Vn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function IR(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var sH=typeof document>"u"?null:document.documentElement;function rw(n){let e=n.parentNode||n.host||null;return e===sH?null:e}function aH(n){return n.substring(1,6)=="ebkit"}var Is=null,TR=!1;function cH(n){Is||(Is=lH()||{},TR=Is.style?"WebkitAppearance"in Is.style:!1);let e=!0;return Is.style&&!aH(n)&&(e=n in Is.style,!e&&TR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Is.style)),e}function lH(){return typeof document<"u"?document.body:null}function LR(n,e){for(;e;){if(e===n)return!0;e=rw(e)}return!1}function VR(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var iw=(()=>{class n{validateStyleProperty(t){return cH(t)}containsElement(t,r){return LR(t,r)}getParentElement(t){return rw(t)}query(t,r,i){return VR(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new bo(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ds=class{static NOOP=new iw},Ss=class{};var uH=1e3,jR="{{",dH="}}",BR="ng-enter",BE="ng-leave",Yf="ng-trigger",tp=".ng-trigger",CR="ng-animating",UE=".ng-animating";function ki(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$E(parseFloat(e[1]),e[2])}function $E(n,e){switch(e){case"s":return n*uH;default:return n}}function np(n,e,t){return n.hasOwnProperty("duration")?n:hH(n,e,t)}function hH(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(bR(n)),{duration:0,delay:0,easing:""};i=$E(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=$E(parseFloat(c),a[4]));let u=a[5];u&&(s=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(xq()),a=!0),o<0&&(e.push(Rq()),a=!0),a&&e.splice(c,0,bR(n))}return{duration:i,delay:o,easing:s}}function fH(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Wr(n,e,t){e.forEach((r,i)=>{let o=ow(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Cs(n,e){e.forEach((t,r)=>{let i=ow(r);n.style[i]=""})}function Yl(n){return Array.isArray(n)?n.length==1?n[0]:wR(n):n}function pH(n,e,t){let r=e.params||{},i=UR(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Mq(o))})}var zE=new RegExp(`${jR}\\s*(.+?)\\s*${dH}`,"g");function UR(n){let e=[];if(typeof n=="string"){let t;for(;t=zE.exec(n);)e.push(t[1]);zE.lastIndex=0}return e}function Jl(n,e,t){let r=`${n}`,i=r.replace(zE,(o,s)=>{let a=e[s];return a==null&&(t.push(Pq(s)),a=""),a.toString()});return i==r?n:i}var mH=/-+([a-z0-9])/g;function ow(n){return n.replace(mH,(...e)=>e[1].toUpperCase())}function gH(n,e){return n===0||e===0}function yH(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,sw(n,a)))}}return e}function Ln(n,e,t){switch(e.type){case we.Trigger:return n.visitTrigger(e,t);case we.State:return n.visitState(e,t);case we.Transition:return n.visitTransition(e,t);case we.Sequence:return n.visitSequence(e,t);case we.Group:return n.visitGroup(e,t);case we.Animate:return n.visitAnimate(e,t);case we.Keyframes:return n.visitKeyframes(e,t);case we.Style:return n.visitStyle(e,t);case we.Reference:return n.visitReference(e,t);case we.AnimateChild:return n.visitAnimateChild(e,t);case we.AnimateRef:return n.visitAnimateRef(e,t);case we.Query:return n.visitQuery(e,t);case we.Stagger:return n.visitStagger(e,t);default:throw kq(e.type)}}function sw(n,e){return window.getComputedStyle(n)[e]}var vH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),rp=class extends Ss{normalizePropertyName(e,t){return ow(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(vH.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Oq(e,r))}return s+o}};var ip="*";function _H(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>EH(r,t,e)):t.push(n),t}function EH(n,e,t){if(n[0]==":"){let c=wH(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(Gq(n)),e;let i=r[1],o=r[2],s=r[3];e.push(DR(i,s));let a=i==ip&&s==ip;o[0]=="<"&&!a&&e.push(DR(s,i))}function wH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Wq(n)),"* => *"}}var Zf=new Set(["true","1"]),Jf=new Set(["false","0"]);function DR(n,e){let t=Zf.has(n)||Jf.has(n),r=Zf.has(e)||Jf.has(e);return(i,o)=>{let s=n==ip||n==i,a=e==ip||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Zf.has(n):Jf.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Zf.has(e):Jf.has(e)),s&&a}}var $R=":self",bH=new RegExp(`s*${$R}s*,?`,"g");function zR(n,e,t,r){return new qE(n).build(e,t,r)}var SR="",qE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new HE(t);return this._resetContextStyleTimingState(i),Ln(this,Yl(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=SR,e.collectedStyles=new Map,e.collectedStyles.set(SR,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Nq()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==we.State){let c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=u}else if(a.type==we.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(Fq())}),{type:we.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{UR(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&t.errors.push(Lq(e.name,[...o.values()]))}return{type:we.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Ln(this,Yl(e.animation),t),i=_H(e.expr,t.errors);return{type:we.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ts(e.options)}}visitSequence(e,t){return{type:we.Sequence,steps:e.steps.map(r=>Ln(this,r,t)),options:Ts(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Ln(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:we.Group,steps:o,options:Ts(e.options)}}visitAnimate(e,t){let r=DH(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:bs({});if(o.type==we.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let u={};r.easing&&(u.easing=r.easing),s=bs(u)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:we.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Gr?r.push(a):t.errors.push(Vq(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(jR)>=0){o=!0;break}}}),{type:we.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(jq(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&u.set(c,{startTime:o,endTime:i}),t.options&&pH(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:we.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Bq()),r;let i=1,o=0,s=[],a=!1,c=!1,u=0,d=e.steps.map(b=>{let k=this._makeStyleAst(b,t),x=k.offset!=null?k.offset:CH(k.styles),V=0;return x!=null&&(o++,V=k.offset=x),c=c||V<0||V>1,a=a||V<u,u=V,s.push(V),k});c&&t.errors.push(Uq()),a&&t.errors.push($q());let f=e.steps.length,p=0;o>0&&o<f?t.errors.push(zq()):o==0&&(p=i/(f-1));let m=f-1,y=t.currentTime,_=t.currentAnimateTimings,w=_.duration;return d.forEach((b,k)=>{let x=p>0?k==m?1:p*k:s[k],V=x*w;t.currentTime=y+_.delay+V,_.duration=V,this._validateStyleAst(b,t),b.offset=x,r.styles.push(b)}),r}visitReference(e,t){return{type:we.Reference,animation:Ln(this,Yl(e.animation),t),options:Ts(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:we.AnimateChild,options:Ts(e.options)}}visitAnimateRef(e,t){return{type:we.AnimateRef,animation:this.visitReference(e.animation,t),options:Ts(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=IH(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Vn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Ln(this,Yl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:we.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ts(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(qq());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:np(e.timings,t.errors,!0);return{type:we.Stagger,animation:Ln(this,Yl(e.animation),t),timings:r,options:null}}};function IH(n){let e=!!n.split(/\s*,\s*/).find(t=>t==$R);return e&&(n=n.replace(bH,"")),n=n.replace(/@\*/g,tp).replace(/@\w+/g,t=>tp+"-"+t.slice(1)).replace(/:animating/g,UE),[n,e]}function TH(n){return n?B({},n):null}var HE=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function CH(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function DH(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=np(n,e).duration;return NE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=NE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=np(t,e);return NE(i.duration,i.delay,i.easing)}function Ts(n){return n?(n=B({},n),n.params&&(n.params=TH(n.params))):n={},n}function NE(n,e,t){return{duration:n,delay:e,easing:t}}function aw(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Xl=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},SH=1,AH=":enter",xH=new RegExp(AH,"g"),RH=":leave",MH=new RegExp(RH,"g");function qR(n,e,t,r,i,o=new Map,s=new Map,a,c,u=[]){return new GE().buildKeyframes(n,e,t,r,i,o,s,a,c,u)}var GE=class{buildKeyframes(e,t,r,i,o,s,a,c,u,d=[]){u=u||new Xl;let f=new WE(e,t,u,i,o,d,[]);f.options=c;let p=c.delay?ki(c.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([s],null,f.errors,c),Ln(this,r,f);let m=f.timelines.filter(y=>y.containsAnimation());if(m.length&&a.size){let y;for(let _=m.length-1;_>=0;_--){let w=m[_];if(w.element===t){y=w;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,f.errors,c)}return m.length?m.map(y=>y.buildKeyframes()):[aw(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:ki(Jl(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?ki(r.duration):null,a=r.delay!=null?ki(r.delay):null;return s!==0&&e.forEach(c=>{let u=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ln(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==we.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=op);let s=ki(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Ln(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?ki(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Ln(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Jl(r,t.params,t.errors):r;return np(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==we.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let u=c.offset||0;a.forwardTime(u*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?ki(i.delay):0;o&&(t.previousNode.type===we.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=op);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,u);o&&f.delayNextStep(o),u===t.element&&(c=f.currentTimeline),Ln(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let p=f.currentTimeline.currentTime;s=Math.max(s,p)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;Ln(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},op={},WE=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=op;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new sp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=ki(r.duration)),r.delay!=null&&(i.delay=ki(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Jl(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=op,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new QE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(xH,"."+this._enterClassName),e=e.replace(MH,"."+this._leaveClassName);let c=r!=1,u=this._driver.query(this.element,e,c);r!==0&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!o&&a.length==0&&s.push(Hq(t)),a}},sp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=SH,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Gr),this._currentKeyframe.set(t,Gr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=PH(e,this._globalTimelineStyles);for(let[a,c]of s){let u=Jl(c,o,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gr),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,f)=>{d===Kf?e.add(f):d===Gr&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return aw(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},QE=class extends sp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let u=new Map(e[0]);u.set("offset",AR(a)),o.push(u);let d=e.length-1;for(let f=1;f<=d;f++){let p=new Map(e[f]),m=p.get("offset"),y=t+m*r;p.set("offset",AR(y/s)),o.push(p)}r=s,t=0,i="",e=o}return aw(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function AR(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function PH(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,Gr)}else for(let[o,s]of i)t.set(o,s)}),t}function xR(n,e,t,r,i,o,s,a,c,u,d,f,p){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:p}}var FE={},ap=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return kH(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,u,d){let f=[],p=this.ast.options&&this.ast.options.params||FE,m=a&&a.params||FE,y=this.buildStyles(r,m,f),_=c&&c.params||FE,w=this.buildStyles(i,_,f),b=new Set,k=new Map,x=new Map,V=i==="void",U={params:HR(_,p),delay:this.ast.options?.delay},q=d?[]:qR(e,t,this.ast.animation,o,s,y,w,U,u,f),C=0;return q.forEach(E=>{C=Math.max(E.duration+E.delay,C)}),f.length?xR(t,this._triggerName,r,i,V,y,w,[],[],k,x,C,f):(q.forEach(E=>{let I=E.element,D=Vn(k,I,new Set);E.preStyleProps.forEach(M=>D.add(M));let R=Vn(x,I,new Set);E.postStyleProps.forEach(M=>R.add(M)),I!==t&&b.add(I)}),xR(t,this._triggerName,r,i,V,y,w,q,[...b.values()],k,x,C))}};function kH(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function HR(n,e){let t=B({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var KE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=HR(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Jl(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function OH(n,e,t){return new YE(n,e,t)}var YE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new KE(i.style,o,r))}),RR(this.states,"true","1"),RR(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ap(e,i,this.states))}),this.fallbackTransition=NH(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function NH(n,e,t){let r=[(s,a)=>!0],i={type:we.Sequence,steps:[],options:null},o={type:we.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new ap(n,o,e)}function RR(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var FH=new Xl,ZE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=zR(this._driver,t,r,i);if(r.length)throw Yq(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=FR(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=qR(this._driver,t,o,BR,BE,new Map,new Map,r,FH,i),s.forEach(d=>{let f=Vn(a,d.element,new Map);d.postStyleProps.forEach(p=>f.set(p,null))})):(i.push(Zq()),s=[]),i.length)throw Jq(i);a.forEach((d,f)=>{d.forEach((p,m)=>{d.set(m,this._driver.computeStyle(f,m,Gr))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),u=Io(c);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Xq(e);return t}listen(e,t,r,i){let o=nw(t,"","","");return tw(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},MR="ng-animate-queued",LH=".ng-animate-queued",LE="ng-animate-disabled",VH=".ng-animate-disabled",jH="ng-star-inserted",BH=".ng-star-inserted",UH=[],GR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$H={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vr="__ng_removed",eu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=qH(i),r){let o=e,{value:s}=o,a=Dy(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Zl="void",VE=new eu(Zl),JE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,er(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw eH(r,t);if(r==null||r.length==0)throw tH(t);if(!HH(r))throw nH(r,t);let o=Vn(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Vn(this._engine.statesByElement,e,new Map);return a.has(t)||(er(e,Yf),er(e,Yf+"-"+t),a.set(t,VE)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw rH(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new tu(this.id,t,e),a=this._engine.statesByElement.get(e);a||(er(e,Yf),er(e,Yf+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),u=new eu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=VE),!(u.value===Zl)&&c.value===u.value){if(!QH(c.params,u.params)){let _=[],w=o.matchStyles(c.value,c.params,_),b=o.matchStyles(u.value,u.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Cs(e,w),Wr(e,b)})}return}let p=Vn(this._engine.playersByElement,e,[]);p.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let m=o.matchTransition(c.value,u.value,e,u.params),y=!1;if(!m){if(!i)return;m=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:u,player:s,isFallbackTransition:y}),y||(er(e,MR),s.onStart(()=>{Xa(e,MR)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);let w=this._engine.playersByElement.get(e);if(w){let b=w.indexOf(s);b>=0&&w.splice(b,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,tp,!0);r.forEach(i=>{if(i[vr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let d=this.trigger(e,u,Zl,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,u=r.get(s)||VE,d=new eu(Zl),f=new tu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[vr];(!o||o===GR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){er(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=nw(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,tw(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},XE=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new JE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let u=r.indexOf(c);r.splice(u+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Xf(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Xf(t))return;let o=t[vr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),er(e,LE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xa(e,LE))}removeNode(e,t,r){if(Xf(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[vr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Xf(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,tp,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,UE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Io(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[vr];if(t&&t.setForRemoval){if(e[vr]=GR,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,VH,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];er(i,jH)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Io(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw iH(e)}_flushAnimations(e,t){let r=new Xl,i=[],o=new Map,s=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ee=>{d.add(ee);let ie=this.driver.query(ee,LH,!0);for(let se=0;se<ie.length;se++)d.add(ie[se])});let f=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=OR(p,this.collectedEnterElements),y=new Map,_=0;m.forEach((ee,ie)=>{let se=BR+_++;y.set(ie,se),ee.forEach(ue=>er(ue,se))});let w=[],b=new Set,k=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){let ie=this.collectedLeaveElements[ee],se=ie[vr];se&&se.setForRemoval&&(w.push(ie),b.add(ie),se.hasAnimation?this.driver.query(ie,BH,!0).forEach(ue=>b.add(ue)):k.add(ie))}let x=new Map,V=OR(p,Array.from(b));V.forEach((ee,ie)=>{let se=BE+_++;x.set(ie,se),ee.forEach(ue=>er(ue,se))}),e.push(()=>{m.forEach((ee,ie)=>{let se=y.get(ie);ee.forEach(ue=>Xa(ue,se))}),V.forEach((ee,ie)=>{let se=x.get(ie);ee.forEach(ue=>Xa(ue,se))}),w.forEach(ee=>{this.processLeaveNode(ee)})});let U=[],q=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(se=>{let ue=se.player,at=se.element;if(U.push(ue),this.collectedEnterElements.length){let ut=at[vr];if(ut&&ut.setForMove){if(ut.previousTriggersValues&&ut.previousTriggersValues.has(se.triggerName)){let li=ut.previousTriggersValues.get(se.triggerName),yn=this.statesByElement.get(se.element);if(yn&&yn.has(se.triggerName)){let ui=yn.get(se.triggerName);ui.value=li,yn.set(se.triggerName,ui)}}ue.destroy();return}}let rn=!f||!this.driver.containsElement(f,at),He=x.get(at),Ge=y.get(at),Ke=this._buildInstruction(se,r,Ge,He,rn);if(Ke.errors&&Ke.errors.length){q.push(Ke);return}if(rn){ue.onStart(()=>Cs(at,Ke.fromStyles)),ue.onDestroy(()=>Wr(at,Ke.toStyles)),i.push(ue);return}if(se.isFallbackTransition){ue.onStart(()=>Cs(at,Ke.fromStyles)),ue.onDestroy(()=>Wr(at,Ke.toStyles)),i.push(ue);return}let to=[];Ke.timelines.forEach(ut=>{ut.stretchStartingKeyframe=!0,this.disabledNodes.has(ut.element)||to.push(ut)}),Ke.timelines=to,r.append(at,Ke.timelines);let ty={instruction:Ke,player:ue,element:at};s.push(ty),Ke.queriedElements.forEach(ut=>Vn(a,ut,[]).push(ue)),Ke.preStyleProps.forEach((ut,li)=>{if(ut.size){let yn=c.get(li);yn||c.set(li,yn=new Set),ut.forEach((ui,no)=>yn.add(no))}}),Ke.postStyleProps.forEach((ut,li)=>{let yn=u.get(li);yn||u.set(li,yn=new Set),ut.forEach((ui,no)=>yn.add(no))})});if(q.length){let ee=[];q.forEach(ie=>{ee.push(oH(ie.triggerName,ie.errors))}),U.forEach(ie=>ie.destroy()),this.reportError(ee)}let C=new Map,E=new Map;s.forEach(ee=>{let ie=ee.element;r.has(ie)&&(E.set(ie,ie),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,C))}),i.forEach(ee=>{let ie=ee.element;this._getPreviousPlayers(ie,!1,ee.namespaceId,ee.triggerName,null).forEach(ue=>{Vn(C,ie,[]).push(ue),ue.destroy()})});let I=w.filter(ee=>NR(ee,c,u)),D=new Map;kR(D,this.driver,k,u,Gr).forEach(ee=>{NR(ee,c,u)&&I.push(ee)});let M=new Map;m.forEach((ee,ie)=>{kR(M,this.driver,new Set(ee),c,Kf)}),I.forEach(ee=>{let ie=D.get(ee),se=M.get(ee);D.set(ee,new Map([...ie?.entries()??[],...se?.entries()??[]]))});let T=[],pt=[],Gn={};s.forEach(ee=>{let{element:ie,player:se,instruction:ue}=ee;if(r.has(ie)){if(d.has(ie)){se.onDestroy(()=>Wr(ie,ue.toStyles)),se.disabled=!0,se.overrideTotalTime(ue.totalTime),i.push(se);return}let at=Gn;if(E.size>1){let He=ie,Ge=[];for(;He=He.parentNode;){let Ke=E.get(He);if(Ke){at=Ke;break}Ge.push(He)}Ge.forEach(Ke=>E.set(Ke,at))}let rn=this._buildAnimation(se.namespaceId,ue,C,o,M,D);if(se.setRealPlayer(rn),at===Gn)T.push(se);else{let He=this.playersByElement.get(at);He&&He.length&&(se.parentPlayer=Io(He)),i.push(se)}}else Cs(ie,ue.fromStyles),se.onDestroy(()=>Wr(ie,ue.toStyles)),pt.push(se),d.has(ie)&&i.push(se)}),pt.forEach(ee=>{let ie=o.get(ee.element);if(ie&&ie.length){let se=Io(ie);ee.setRealPlayer(se)}}),i.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<w.length;ee++){let ie=w[ee],se=ie[vr];if(Xa(ie,BE),se&&se.hasAnimation)continue;let ue=[];if(a.size){let rn=a.get(ie);rn&&rn.length&&ue.push(...rn);let He=this.driver.query(ie,UE,!0);for(let Ge=0;Ge<He.length;Ge++){let Ke=a.get(He[Ge]);Ke&&Ke.length&&ue.push(...Ke)}}let at=ue.filter(rn=>!rn.destroyed);at.length?GH(this,ie,at):this.processLeaveNode(ie)}return w.length=0,T.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();let ie=this.players.indexOf(ee);this.players.splice(ie,1)}),ee.play()}),T}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Zl;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||s.push(u)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let u=c.element,d=u!==o,f=Vn(r,u,[]);this._getPreviousPlayers(u,d,s,a,t.toState).forEach(m=>{let y=m.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),m.destroy(),f.push(m)})}Cs(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,p=t.timelines.map(y=>{let _=y.element;d.add(_);let w=_[vr];if(w&&w.removedBeforeQueried)return new bo(y.duration,y.delay);let b=_!==c,k=WH((r.get(_)||UH).map(C=>C.getRealPlayer())).filter(C=>{let E=C;return E.element?E.element===_:!1}),x=o.get(_),V=s.get(_),U=FR(this._normalizer,y.keyframes,x,V),q=this._buildPlayer(y,U,k);if(y.subTimeline&&i&&f.add(_),b){let C=new tu(e,a,_);C.setRealPlayer(q),u.push(C)}return q});u.forEach(y=>{Vn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>zH(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>er(y,CR));let m=Io(p);return m.onDestroy(()=>{d.forEach(y=>Xa(y,CR)),Wr(c,t.toStyles)}),f.forEach(y=>{Vn(i,y,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new bo(e.duration,e.delay)}},tu=class{namespaceId;triggerName;element;_player=new bo;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>tw(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Vn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function zH(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function qH(n){return n??null}function Xf(n){return n&&n.nodeType===1}function HH(n){return n=="start"||n=="done"}function PR(n,e){let t=n.style.display;return n.style.display=e??"none",t}function kR(n,e,t,r,i){let o=[];t.forEach(c=>o.push(PR(c)));let s=[];r.forEach((c,u)=>{let d=new Map;c.forEach(f=>{let p=e.computeStyle(u,f,i);d.set(f,p),(!p||p.length==0)&&(u[vr]=$H,s.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>PR(c,o[a++])),s}function OR(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let u=a.parentNode;return t.has(u)?c=u:i.has(u)?c=r:c=s(u),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function er(n,e){n.classList?.add(e)}function Xa(n,e){n.classList?.remove(e)}function GH(n,e,t){Io(t).onDone(()=>n.processLeaveNode(e))}function WH(n){let e=[];return WR(n,e),e}function WR(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Kl?WR(r.players,e):e.push(r)}}function QH(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function NR(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var ec=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new XE(e.body,t,r),this._timelineEngine=new ZE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],u=[],d=zR(this._driver,o,c,u);if(c.length)throw Qq(i,c);a=OH(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=IR(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=IR(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function KH(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=jE(e[0]),e.length>1&&(r=jE(e[e.length-1]))):e instanceof Map&&(t=jE(e)),t||r?new YH(n,t,r):null}var YH=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wr(this._element,this._initialStyles),this._endStyles&&(Wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Cs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cs(this._element,this._endStyles),this._endStyles=null),Wr(this._element,this._initialStyles),this._state=3)}}return n})();function jE(n){let e=null;return n.forEach((t,r)=>{ZH(r)&&(e=e||new Map,e.set(r,t))}),e}function ZH(n){return n==="display"||n==="position"}var cp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:sw(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},lp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return LR(e,t)}getParentElement(e){return rw(e)}query(e,t,r){return VR(e,t,r)}computeStyle(e,t,r){return sw(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let u=new Map,d=s.filter(m=>m instanceof cp);gH(r,i)&&d.forEach(m=>{m.currentSnapshot.forEach((y,_)=>u.set(_,y))});let f=fH(t).map(m=>new Map(m));f=yH(e,f,u);let p=KH(e,f);return new cp(e,f,c,p)}};var ep="@",QR="@.disabled",up=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==ep&&t==QR?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ew=class extends up{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==ep?t.charAt(1)=="."&&t==QR?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==ep){let o=JH(e),s=t.slice(1),a="";return s.charAt(0)!=ep&&([s,a]=XH(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,r,c)})}return this.delegate.listen(e,t,r,i)}};function JH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function XH(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var dp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(i);if(!d){let f=()=>u.delete(i);d=new up(r,i,this.engine,f),u.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(o,s,e,u.name,u)};return t.data.animation.forEach(a),new ew(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var t4=(()=>{class n extends ec{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(J(rt),J(Ds),J(Ss))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function n4(){return new rp}function r4(n,e,t){return new dp(n,e,t)}var KR=[{provide:Ss,useFactory:n4},{provide:ec,useClass:t4},{provide:In,useFactory:r4,deps:[Wf,ec,_e]}],jae=[{provide:Ds,useClass:iw},{provide:M_,useValue:"NoopAnimations"},...KR],i4=[{provide:Ds,useFactory:()=>new lp},{provide:M_,useFactory:()=>"BrowserAnimations"},...KR];function YR(){return qa("NgEagerAnimations"),[...i4]}var be="primary",pu=Symbol("RouteTitle"),hw=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function sc(n){return new hw(n)}function a4(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function c4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qr(n[t],e[t]))return!1;return!0}function Qr(n,e){let t=n?fw(n):void 0,r=e?fw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!sM(n[i],e[i]))return!1;return!0}function fw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function aM(n){return n.length>0?n[n.length-1]:null}function Do(n){return bh(n)?n:vo(n)?Ee(Promise.resolve(n)):W(n)}var l4={exact:lM,subset:uM},cM={exact:u4,subset:d4,ignored:()=>!0};function ZR(n,e,t){return l4[t.paths](n.root,e.root,t.matrixParams)&&cM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function u4(n,e){return Qr(n,e)}function lM(n,e,t){if(!xs(n.segments,e.segments)||!pp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!lM(n.children[r],e.children[r],t))return!1;return!0}function d4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sM(n[t],e[t]))}function uM(n,e,t){return dM(n,e,e.segments,t)}function dM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!xs(i,t)||e.hasChildren()||!pp(i,t,r))}else if(n.segments.length===t.length){if(!xs(n.segments,t)||!pp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!uM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!xs(n.segments,i)||!pp(n.segments,i,r)||!n.children[be]?!1:dM(n.children[be],e,o,r)}}function pp(n,e,t){return e.every((r,i)=>cM[t](n[i].parameters,r.parameters))}var Ni=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=sc(this.queryParams),this._queryParamMap}toString(){return p4.serialize(this)}},ze=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mp(this)}},As=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=sc(this.parameters),this._parameterMap}toString(){return fM(this)}};function h4(n,e){return xs(n,e)&&n.every((t,r)=>Qr(t.parameters,e[r].parameters))}function xs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function f4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===be&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==be&&(t=t.concat(e(i,r)))}),t}var mu=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new ac,providedIn:"root"})}return n})(),ac=class{parse(e){let t=new mw(e);return new Ni(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${nu(e.root,!0)}`,r=y4(e.queryParams),i=typeof e.fragment=="string"?`#${m4(e.fragment)}`:"";return`${t}${r}${i}`}},p4=new ac;function mp(n){return n.segments.map(e=>fM(e)).join("/")}function nu(n,e){if(!n.hasChildren())return mp(n);if(e){let t=n.children[be]?nu(n.children[be],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==be&&r.push(`${i}:${nu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=f4(n,(r,i)=>i===be?[nu(n.children[be],!1)]:[`${i}:${nu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[be]!=null?`${mp(n)}/${t[0]}`:`${mp(n)}/(${t.join("//")})`}}function hM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hp(n){return hM(n).replace(/%3B/gi,";")}function m4(n){return encodeURI(n)}function pw(n){return hM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gp(n){return decodeURIComponent(n)}function JR(n){return gp(n.replace(/\+/g,"%20"))}function fM(n){return`${pw(n.path)}${g4(n.parameters)}`}function g4(n){return Object.entries(n).map(([e,t])=>`;${pw(e)}=${pw(t)}`).join("")}function y4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${hp(t)}=${hp(i)}`).join("&"):`${hp(t)}=${hp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var v4=/^[^\/()?;#]+/;function cw(n){let e=n.match(v4);return e?e[0]:""}var _4=/^[^\/()?;=#]+/;function E4(n){let e=n.match(_4);return e?e[0]:""}var w4=/^[^=?&#]+/;function b4(n){let e=n.match(w4);return e?e[0]:""}var I4=/^[^&#]+/;function T4(n){let e=n.match(I4);return e?e[0]:""}var mw=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[be]=new ze(e,t)),r}parseSegment(){let e=cw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new As(gp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=E4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cw(this.remaining);i&&(r=i,this.capture(r))}e[gp(t)]=gp(r)}parseQueryParam(e){let t=b4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=T4(this.remaining);s&&(r=s,this.capture(r))}let i=JR(t),o=JR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=be);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[be]:new ze([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function pM(n){return n.segments.length>0?new ze([],{[be]:n}):n}function mM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=mM(i);if(r===be&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ze(n.segments,e);return C4(t)}function C4(n){if(n.numberOfChildren===1&&n.children[be]){let e=n.children[be];return new ze(n.segments.concat(e.segments),e.children)}return n}function Rs(n){return n instanceof Ni}function D4(n,e,t=null,r=null){let i=gM(n);return yM(i,e,t,r)}function gM(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new ze(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=pM(r);return e??i}function yM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lw(i,i,i,t,r);let o=S4(e);if(o.toRoot())return lw(i,i,new ze([],{}),t,r);let s=A4(o,i,n),a=s.processChildren?iu(s.segmentGroup,s.index,o.commands):_M(s.segmentGroup,s.index,o.commands);return lw(i,s.segmentGroup,a,t,r)}function vp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function su(n){return typeof n=="object"&&n!=null&&n.outlets}function lw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=vM(n,e,t);let a=pM(mM(s));return new Ni(a,o,i)}function vM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=vM(o,e,t)}),new ze(n.segments,r)}var _p=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vp(r[0]))throw new $(4003,!1);let i=r.find(su);if(i&&i!==aM(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function S4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _p(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _p(t,e,r)}var rc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function A4(n,e,t){if(n.isAbsolute)return new rc(e,!0,0);if(!t)return new rc(e,!1,NaN);if(t.parent===null)return new rc(t,!0,0);let r=vp(n.commands[0])?0:1,i=t.segments.length-1+r;return x4(t,i,n.numberOfDoubleDots)}function x4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new rc(r,!1,i-o)}function R4(n){return su(n[0])?n[0].outlets:{[be]:n}}function _M(n,e,t){if(n??=new ze([],{}),n.segments.length===0&&n.hasChildren())return iu(n,e,t);let r=M4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ze(n.segments.slice(0,r.pathIndex),{});return o.children[be]=new ze(n.segments.slice(r.pathIndex),n.children),iu(o,0,i)}else return r.match&&i.length===0?new ze(n.segments,{}):r.match&&!n.hasChildren()?gw(n,e,t):r.match?iu(n,0,i):gw(n,e,t)}function iu(n,e,t){if(t.length===0)return new ze(n.segments,{});{let r=R4(t),i={};if(Object.keys(r).some(o=>o!==be)&&n.children[be]&&n.numberOfChildren===1&&n.children[be].segments.length===0){let o=iu(n.children[be],e,t);return new ze(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_M(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ze(n.segments,i)}}function M4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(su(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!eM(c,u,s))return o;r+=2}else{if(!eM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(su(o)){let c=P4(o.outlets);return new ze(r,c)}if(i===0&&vp(t[0])){let c=n.segments[e];r.push(new As(c.path,XR(t[0]))),i++;continue}let s=su(o)?o.outlets[be]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&vp(a)?(r.push(new As(s,XR(a))),i+=2):(r.push(new As(s,{})),i++)}return new ze(r,{})}function P4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=gw(new ze([],{}),0,r))}),e}function XR(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function eM(n,e,t){return n==t.path&&Qr(e,t.parameters)}var yp="imperative",Ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ft||{}),tr=class{id;url;constructor(e,t){this.id=e,this.url=t}},cc=class extends tr{type=Ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kr=class extends tr{urlAfterRedirects;type=Ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bn||{}),Ep=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ep||{}),Oi=class extends tr{reason;code;type=Ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},To=class extends tr{reason;code;type=Ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},au=class extends tr{error;target;type=Ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wp=class extends tr{urlAfterRedirects;state;type=Ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yw=class extends tr{urlAfterRedirects;state;type=Ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends tr{urlAfterRedirects;state;shouldActivate;type=Ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_w=class extends tr{urlAfterRedirects;state;type=Ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ew=class extends tr{urlAfterRedirects;state;type=Ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ww=class{route;type=Ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bw=class{route;type=Ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iw=class{snapshot;type=Ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tw=class{snapshot;type=Ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cw=class{snapshot;type=Ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dw=class{snapshot;type=Ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bp=class{routerEvent;position;anchor;type=Ft.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},cu=class{},lc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function k4(n,e){return n.providers&&!n._injector&&(n._injector=kf(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _r(n){return n.outlet||be}function O4(n,e){let t=n.filter(r=>_r(r)===e);return t.push(...n.filter(r=>_r(r)!==e)),t}function gu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sw=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gu(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new yu(this.rootInjector)}},yu=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(Dt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ip=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Aw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Aw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=xw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xw(e,this._root).map(t=>t.value)}};function Aw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Aw(n,t);if(r)return r}return null}function xw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=xw(n,t);if(r.length)return r.unshift(e),r}return[]}var jn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function nc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Tp=class extends Ip{snapshot;constructor(e,t){super(e),this.snapshot=t,Vw(this,e)}toString(){return this.snapshot.toString()}};function EM(n){let e=N4(n),t=new et([new As("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),a=new Co(t,r,o,s,i,be,n,e.root);return a.snapshot=e.root,new Tp(new jn(a,[]),e)}function N4(n){let e={},t={},r={},i="",o=new ic([],e,r,i,t,be,n,null,{});return new Dp("",new jn(o,[]))}var Co=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ne(u=>u[pu]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>sc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>sc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&bM(i)&&(r.resolve[pu]=i.title),r}var ic=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pu]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=sc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=sc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Dp=class extends Ip{url;constructor(e,t){super(t),this.url=e,Vw(this,t)}toString(){return wM(this._root)}};function Vw(n,e){e.value._routerState=n,e.children.forEach(t=>Vw(n,t))}function wM(n){let e=n.children.length>0?` { ${n.children.map(wM).join(", ")} } `:"";return`${n.value}${e}`}function uw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qr(e.params,t.params)||n.paramsSubject.next(t.params),c4(e.url,t.url)||n.urlSubject.next(t.url),Qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Rw(n,e){let t=Qr(n.params,e.params)&&h4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Rw(n.parent,e.parent))}function bM(n){return typeof n.title=="string"||n.title===null}var F4=new Q(""),jw=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=be;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=EA(void 0);parentContexts=O(yu);location=O(Ai);changeDetector=O(Cn);inputBinder=O(Rp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Mw(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zn]})}return n})(),Mw=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Co?this.route:e===yu?this.childContexts:e===F4?this.outletData:this.parent.get(e,t)}},Rp=new Q(""),tM=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=bl([r.queryParams,r.params,r.data]).pipe(ot(([o,s,a],c)=>(a=B(B(B({},o),s),a),c===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Px(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function L4(n,e,t){let r=lu(n,e._root,t?t._root:void 0);return new Tp(r,e)}function lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=V4(n,e,t);return new jn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>lu(n,a)),s}}let r=j4(e.value),i=e.children.map(o=>lu(n,o));return new jn(r,i)}}function V4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return lu(n,r,i);return lu(n,r)})}function j4(n){return new Co(new et(n.url),new et(n.params),new et(n.queryParams),new et(n.fragment),new et(n.data),n.outlet,n.component,n)}var uu=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},IM="ngNavigationCancelingError";function Sp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=TM(!1,Bn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function TM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[IM]=!0,t.cancellationCode=e,t}function B4(n){return CM(n)&&Rs(n.url)}function CM(n){return!!n&&n[IM]}var U4=(n,e,t,r)=>ne(i=>(new Pw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Pw=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=nc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=nc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=nc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=nc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(uw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ap=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function $4(n,e,t){let r=n._root,i=e?e._root:null;return ru(r,i,t,[r.value])}function z4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function dc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!yS(n)?n:e.get(n):r}function ru(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=nc(e);return n.children.forEach(s=>{q4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ou(a,t.getContext(s),i)),i}function q4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=H4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ap(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ru(n,e,a?a.children:null,r,i):ru(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new oc(a.outlet.component,s))}else s&&ou(e,a,i),i.canActivateChecks.push(new Ap(r)),o.component?ru(n,null,a?a.children:null,r,i):ru(n,null,t,r,i);return i}function H4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!xs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xs(n.url,e.url)||!Qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rw(n,e)||!Qr(n.queryParams,e.queryParams);case"paramsChange":default:return!Rw(n,e)}}function ou(n,e,t){let r=nc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ou(s,e.children.getContext(o),t):ou(s,null,t):ou(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new oc(e.outlet.component,i)):t.canDeactivateChecks.push(new oc(null,i)):t.canDeactivateChecks.push(new oc(null,i))}function vu(n){return typeof n=="function"}function G4(n){return typeof n=="boolean"}function W4(n){return n&&vu(n.canLoad)}function Q4(n){return n&&vu(n.canActivate)}function K4(n){return n&&vu(n.canActivateChild)}function Y4(n){return n&&vu(n.canDeactivate)}function Z4(n){return n&&vu(n.canMatch)}function DM(n){return n instanceof gi||n?.name==="EmptyError"}var fp=Symbol("INITIAL_VALUE");function uc(){return ot(n=>bl(n.map(e=>e.pipe(_n(1),_i(fp)))).pipe(ne(e=>{for(let t of e)if(t!==!0){if(t===fp)return fp;if(t===!1||J4(t))return t}return!0}),Yt(e=>e!==fp),_n(1)))}function J4(n){return Rs(n)||n instanceof uu}function X4(n,e){return yt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(ae(B({},t),{guardsResult:!0})):e3(s,r,i,n).pipe(yt(a=>a&&G4(a)?t3(r,o,n,e):W(a)),ne(a=>ae(B({},t),{guardsResult:a})))})}function e3(n,e,t,r){return Ee(n).pipe(yt(i=>s3(i.component,i.route,t,e,r)),vi(i=>i!==!0,!0))}function t3(n,e,t,r){return Ee(e).pipe(yi(i=>Ea(r3(i.route.parent,r),n3(i.route,r),o3(n,i.path,t),i3(n,i.route,t))),vi(i=>i!==!0,!0))}function n3(n,e){return n!==null&&e&&e(new Cw(n)),W(!0)}function r3(n,e){return n!==null&&e&&e(new Iw(n)),W(!0)}function i3(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Dh(()=>{let s=gu(e)??t,a=dc(o,s),c=Q4(a)?a.canActivate(e,n):Ot(s,()=>a(e,n));return Do(c).pipe(vi())}));return W(i).pipe(uc())}function o3(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>z4(s)).filter(s=>s!==null).map(s=>Dh(()=>{let a=s.guards.map(c=>{let u=gu(s.node)??t,d=dc(c,u),f=K4(d)?d.canActivateChild(r,n):Ot(u,()=>d(r,n));return Do(f).pipe(vi())});return W(a).pipe(uc())}));return W(o).pipe(uc())}function s3(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=gu(e)??i,u=dc(a,c),d=Y4(u)?u.canDeactivate(n,e,t,r):Ot(c,()=>u(n,e,t,r));return Do(d).pipe(vi())});return W(s).pipe(uc())}function a3(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=dc(s,n),c=W4(a)?a.canLoad(e,t):Ot(n,()=>a(e,t));return Do(c)});return W(o).pipe(uc(),SM(r))}function SM(n){return Yy(Se(e=>{if(typeof e!="boolean")throw Sp(n,e)}),ne(e=>e===!0))}function c3(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=dc(s,n),c=Z4(a)?a.canMatch(e,t):Ot(n,()=>a(e,t));return Do(c)});return W(o).pipe(uc(),SM(r))}var du=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},hu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function tc(n){return mi(new du(n))}function l3(n){return mi(new $(4e3,!1))}function u3(n){return mi(TM(!1,Bn.GuardRejected))}var kw=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[be])return l3(`${e.redirectTo}`);i=i.children[be]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:p,params:m,data:y,title:_}=i,w=Ot(o,()=>a({params:m,data:y,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:p,title:_}));if(w instanceof Ni)throw new hu(w);t=w}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new hu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ni(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ze(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d3(n,e,t,r,i){let o=AM(n,e,t);return o.matched?(r=k4(e,r),c3(r,e,t,i).pipe(ne(s=>s===!0?o:B({},Ow)))):W(o)}function AM(n,e,t){if(e.path==="**")return h3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},Ow):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||a4)(t,n,e);if(!i)return B({},Ow);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function h3(n){return{matched:!0,parameters:n.length>0?aM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nM(n,e,t,r){return t.length>0&&m3(n,t,r)?{segmentGroup:new ze(e,p3(r,new ze(t,n.children))),slicedSegments:[]}:t.length===0&&g3(n,t,r)?{segmentGroup:new ze(n.segments,f3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function f3(n,e,t,r){let i={};for(let o of t)if(Mp(n,e,o)&&!r[_r(o)]){let s=new ze([],{});i[_r(o)]=s}return B(B({},r),i)}function p3(n,e){let t={};t[be]=e;for(let r of n)if(r.path===""&&_r(r)!==be){let i=new ze([],{});t[_r(r)]=i}return t}function m3(n,e,t){return t.some(r=>Mp(n,e,r)&&_r(r)!==be)}function g3(n,e,t){return t.some(r=>Mp(n,e,r))}function Mp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function y3(n,e,t){return e.length===0&&!n.children[t]}var Nw=class{};function v3(n,e,t,r,i,o,s="emptyOnly"){return new Fw(n,e,t,r,i,s,o).recognize()}var _3=31,Fw=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new kw(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=nM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:t,rootSnapshot:r})=>{let i=new jn(r,t),o=new Dp("",i),s=D4(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ic([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,be,t).pipe(ne(r=>({children:r,rootSnapshot:t})),he(r=>{if(r instanceof hu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof du?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof jn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ee(o).pipe(yi(s=>{let a=r.children[s],c=O4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),av((s,a)=>(s.push(...a),s)),fo(null),sv(),yt(s=>{if(s===null)return tc(r);let a=xM(s);return E3(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Ee(t).pipe(yi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(he(u=>{if(u instanceof du)return W(null);throw u}))),vi(c=>!!c),he(c=>{if(DM(c))return y3(r,i,o)?W(new Nw):tc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return _r(r)!==s&&(s===be||!Mp(i,o,r))?tc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):tc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=AM(t,i,o);if(!c)return tc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_3&&(this.allowRedirects=!1));let m=new ic(o,u,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,rM(i),_r(i),i.component??i._loadedComponent??null,i,iM(i)),y=Cp(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);let _=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,_).pipe(yt(w=>this.processSegment(e,r,t,w.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=d3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(ot(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ot(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:m}=c,y=new ic(p,f,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,rM(r),_r(r),r.component??r._loadedComponent??null,r,iM(r)),_=Cp(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(_.params),y.data=Object.freeze(_.data);let{segmentGroup:w,slicedSegments:b}=nM(t,p,m,u);if(b.length===0&&w.hasChildren())return this.processChildren(d,u,w,y).pipe(ne(x=>new jn(y,x)));if(u.length===0&&b.length===0)return W(new jn(y,[]));let k=_r(r)===o;return this.processSegment(d,u,w,b,k?be:o,!0,y).pipe(ne(x=>new jn(y,x instanceof jn?[x]:[])))}))):tc(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):a3(e,t,r,this.urlSerializer).pipe(yt(i=>i?this.configLoader.loadChildren(e,t).pipe(Se(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):u3(t))):W({routes:[],injector:e})}};function E3(n){n.sort((e,t)=>e.value.outlet===be?-1:t.value.outlet===be?1:e.value.outlet.localeCompare(t.value.outlet))}function w3(n){let e=n.value.routeConfig;return e&&e.path===""}function xM(n){let e=[],t=new Set;for(let r of n){if(!w3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=xM(r.children);e.push(new jn(r.value,i))}return e.filter(r=>!t.has(r))}function rM(n){return n.data||{}}function iM(n){return n.resolve||{}}function b3(n,e,t,r,i,o){return yt(s=>v3(n,e,t,r,s.extractedUrl,i,o).pipe(ne(({state:a,tree:c})=>ae(B({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function I3(n,e){return yt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of RM(c))s.add(u);let a=0;return Ee(s).pipe(yi(c=>o.has(c)?T3(c,r,n,e):(c.data=Cp(c,c.parent,n).resolve,W(void 0))),Se(()=>a++),wa(1),yt(c=>a===s.size?W(t):Kt))})}function RM(n){let e=n.children.map(t=>RM(t)).flat();return[n,...e]}function T3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!bM(i)&&(o[pu]=i.title),C3(o,n,e,r).pipe(ne(s=>(n._resolvedData=s,n.data=Cp(n,n.parent,t).resolve,null)))}function C3(n,e,t,r){let i=fw(n);if(i.length===0)return W({});let o={};return Ee(i).pipe(yt(s=>D3(n[s],e,t,r).pipe(vi(),Se(a=>{if(a instanceof uu)throw Sp(new ac,a);o[s]=a}))),wa(1),ne(()=>o),he(s=>DM(s)?Kt:mi(s)))}function D3(n,e,t,r){let i=gu(e)??r,o=dc(n,i),s=o.resolve?o.resolve(e,t):Ot(i,()=>o(e,t));return Do(s)}function dw(n){return ot(e=>{let t=n(e);return t?Ee(t).pipe(ne(()=>e)):W(e)})}var MM=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===be);return r}getResolvedTitleForRoute(t){return t.data[pu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(S3),providedIn:"root"})}return n})(),S3=(()=>{class n extends MM{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(_R))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_u=new Q("",{providedIn:"root",factory:()=>({})}),A3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ct({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&st(0,"router-outlet")},dependencies:[jw],encapsulation:2})}return n})();function Bw(n){let e=n.children&&n.children.map(Bw),t=e?ae(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==be&&(t.component=A3),t}var fu=new Q(""),Uw=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(Ff);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Do(t.loadComponent()).pipe(ne(PM),Se(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),os(()=>{this.componentLoaders.delete(t)})),i=new ya(r,()=>new me).pipe(ga());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=x3(r,this.compiler,t,this.onLoadEndListener).pipe(os(()=>{this.childrenLoaders.delete(r)})),s=new ya(o,()=>new me).pipe(ga());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function x3(n,e,t,r){return Do(n.loadChildren()).pipe(ne(PM),yt(i=>i instanceof K_||Array.isArray(i)?W(i):Ee(e.compileModuleAsync(i))),ne(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(fu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Bw),injector:o}}))}function R3(n){return n&&typeof n=="object"&&"default"in n}function PM(n){return R3(n)?n.default:n}var $w=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(M3),providedIn:"root"})}return n})(),M3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kM=new Q(""),OM=new Q("");function P3(n,e,t){let r=n.get(OM),i=n.get(rt);return n.get(_e).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),k3(n))),{onViewTransitionCreated:c}=r;return c&&Ot(n,()=>c({transition:a,from:e,to:t})),s})}function k3(n){return new Promise(e=>{Ha({read:()=>setTimeout(e)},{injector:n})})}var NM=new Q(""),zw=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new me;transitionAbortSubject=new me;configLoader=O(Uw);environmentInjector=O(Dt);destroyRef=O(Ua);urlSerializer=O(mu);rootContexts=O(yu);location=O(Ya);inputBindingEnabled=O(Rp,{optional:!0})!==null;titleStrategy=O(MM);options=O(_u,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O($w);createViewTransition=O(kM,{optional:!0});navigationErrorHandler=O(NM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ww(i)),r=i=>this.events.next(new bw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ae(B({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new et(null),this.transitions.pipe(Yt(r=>r!==null),ot(r=>{let i=!1,o=!1;return W(r).pipe(ot(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bn.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ae(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let u="";return this.events.next(new To(s.id,this.urlSerializer.serialize(s.rawUrl),u,Ep.IgnoredSameUrlNavigation)),s.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return W(s).pipe(ot(u=>(this.events.next(new cc(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Kt:Promise.resolve(u))),b3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Se(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=ae(B({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new wp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:f,restoredState:p,extras:m}=s,y=new cc(u,this.urlSerializer.serialize(d),f,p);this.events.next(y);let _=EM(this.rootComponentType).snapshot;return this.currentTransition=r=ae(B({},s),{targetSnapshot:_,urlAfterRedirects:d,extras:ae(B({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,W(r)}else{let u="";return this.events.next(new To(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Ep.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Kt}}),Se(s=>{let a=new yw(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ne(s=>(this.currentTransition=r=ae(B({},s),{guards:$4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),X4(this.environmentInjector,s=>this.events.next(s)),Se(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Sp(this.urlSerializer,s.guardsResult);let a=new vw(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Yt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Bn.GuardRejected),!1)),dw(s=>{if(s.guards.canActivateChecks.length!==0)return W(s).pipe(Se(a=>{let c=new _w(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ot(a=>{let c=!1;return W(a).pipe(I3(this.paramsInheritanceStrategy,this.environmentInjector),Se({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Bn.NoDataFromResolver)}}))}),Se(a=>{let c=new Ew(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),dw(s=>{let a=c=>{let u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(Se(d=>{c.component=d}),ne(()=>{})));for(let d of c.children)u.push(...a(d));return u};return bl(a(s.targetSnapshot.root)).pipe(fo(null),_n(1))}),dw(()=>this.afterPreactivation()),ot(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ee(c).pipe(ne(()=>r)):W(r)}),ne(s=>{let a=L4(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ae(B({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Se(()=>{this.events.next(new cu)}),U4(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),_n(1),Se({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Ei(this.transitionAbortSubject.pipe(Se(s=>{throw s}))),os(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Bn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),he(s=>{if(this.destroyed)return r.resolve(!1),Kt;if(o=!0,CM(s))this.events.next(new Oi(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),B4(s)?this.events.next(new lc(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new au(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof uu){let{message:u,cancellationCode:d}=Sp(this.urlSerializer,c);this.events.next(new Oi(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new lc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new Oi(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O3(n){return n!==yp}var N3=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(F3),providedIn:"root"})}return n})(),Lw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},F3=(()=>{class n extends Lw{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ba(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>O(L3),providedIn:"root"})}return n})(),L3=(()=>{class n extends FM{location=O(Ya);urlSerializer=O(mu);options=O(_u,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=O($w);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ni;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=EM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof cc)this.stateMemento=this.createStateMemento();else if(t instanceof To)this.rawUrlTree=r.initialUrl;else if(t instanceof wp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Oi&&(t.code===Bn.GuardRejected||t.code===Bn.NoDataFromResolver)?this.restoreHistory(r):t instanceof au?this.restoreHistory(r,!0):t instanceof Kr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ni?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ba(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LM(n,e){n.events.pipe(Yt(t=>t instanceof Kr||t instanceof Oi||t instanceof au||t instanceof To),ne(t=>t instanceof Kr||t instanceof To?0:(t instanceof Oi?t.code===Bn.Redirect||t.code===Bn.SupersededByNewNavigation:!1)?2:1),Yt(t=>t!==2),_n(1)).subscribe(()=>{e()})}var V3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},j3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(J_);stateManager=O(FM);options=O(_u,{optional:!0})||{};pendingTasks=O(Si);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(zw);urlSerializer=O(mu);location=O(Ya);urlHandlingStrategy=O($w);_events=new me;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(N3);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(fu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Rp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Oi&&r.code!==Bn.Redirect&&r.code!==Bn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kr)this.navigated=!0;else if(r instanceof lc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||O3(i.source)},s);this.scheduleNavigation(a,yp,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}U3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=B({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Bw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=i?i.snapshot:this.routerState.snapshot.root;f=gM(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return yM(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Rs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yp,null,r)}navigate(t,r={skipLocationChange:!1}){return B3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},V3):r===!1?i=B({},j3):i=r,Rs(t))return ZR(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZR(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((f,p)=>{a=f,c=p});let d=this.pendingTasks.add();return LM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function B3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function U3(n){return!(n instanceof cu)&&!(n instanceof lc)}var hc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new me;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Kr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Rs(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:NA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(te(Jt),te(Co),D_("tabindex"),te($r),te(Nt),te(Pi))};static \u0275dir=tt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&xi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Dn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Dn],replaceUrl:[2,"replaceUrl","replaceUrl",Dn],routerLink:"routerLink"},features:[Zn]})}return n})();var xp=class{};var $3=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Kr),yi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=kf(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ee(i).pipe(ho())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(yt(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ee([o,s]).pipe(ho())}else return o})}static \u0275fac=function(r){return new(r||n)(J(Jt),J(Ff),J(Dt),J(xp),J(Uw))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VM=new Q(""),z3=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof cc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Kr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof To&&t.code===Ep.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bp&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bp(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){ux()};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function jM(n,...e){return Fn([{provide:fu,multi:!0,useValue:n},[],{provide:Co,useFactory:BM,deps:[Jt]},{provide:Bl,multi:!0,useFactory:UM},e.map(t=>t.\u0275providers)])}function BM(n){return n.routerState.root}function Eu(n,e){return{\u0275kind:n,\u0275providers:e}}function UM(){let n=O(We);return e=>{let t=n.get(fr);if(e!==t.components[0])return;let r=n.get(Jt),i=n.get($M);n.get(qw)===1&&r.initialNavigation(),n.get(zM,null,Te.Optional)?.setUpPreloading(),n.get(VM,null,Te.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $M=new Q("",{factory:()=>new me}),qw=new Q("",{providedIn:"root",factory:()=>1});function q3(){return Eu(2,[{provide:qw,useValue:0},{provide:Nf,multi:!0,deps:[We],useFactory:e=>{let t=e.get(Bx,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Jt),o=e.get($M);LM(i,()=>{r(!0)}),e.get(zw).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}])}function H3(){return Eu(3,[{provide:Nf,multi:!0,useFactory:()=>{let e=O(Jt);return()=>{e.setUpLocationChangeListener()}}},{provide:qw,useValue:2}])}var zM=new Q("");function G3(n){return Eu(0,[{provide:zM,useExisting:$3},{provide:xp,useExisting:n}])}function W3(){return Eu(8,[tM,{provide:Rp,useExisting:tM}])}function Q3(n){let e=[{provide:kM,useValue:P3},{provide:OM,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return Eu(9,e)}var K3=[Ya,{provide:mu,useClass:ac},Jt,yu,{provide:Co,useFactory:BM,deps:[Jt]},Uw,[]],fc=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[K3,[],{provide:fu,multi:!0,useValue:t},[],r?.errorHandler?{provide:NM,useValue:r.errorHandler}:[],{provide:_u,useValue:r||{}},r?.useHash?Z3():J3(),Y3(),r?.preloadingStrategy?G3(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?X3(r):[],r?.bindToComponentInputs?W3().\u0275providers:[],r?.enableViewTransitions?Q3().\u0275providers:[],eG()]}}static forChild(t){return{ngModule:n,providers:[{provide:fu,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({})}return n})();function Y3(){return{provide:VM,useFactory:()=>{let n=O(Qx),e=O(_e),t=O(_u),r=O(zw),i=O(mu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new z3(i,r,n,e,t)}}}function Z3(){return{provide:Pi,useClass:$x}}function J3(){return{provide:Pi,useClass:gE}}function X3(n){return[n.initialNavigation==="disabled"?H3().\u0275providers:[],n.initialNavigation==="enabledBlocking"?q3().\u0275providers:[]]}var oM=new Q("");function eG(){return[{provide:oM,useFactory:UM},{provide:Bl,multi:!0,useExisting:oM}]}var nr=(()=>{class n{constructor(){this.toasts=new et([]),this.toasts$=this.toasts.asObservable()}show(t,r="info",i=4e3){let o="toast_"+Date.now(),s={id:o,message:t,type:r,duration:i};this.toasts.next([...this.toasts.value,s]),setTimeout(()=>{this.remove(o)},i)}remove(t){this.toasts.next(this.toasts.value.filter(r=>r.id!==t))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tG(n,e){if(n&1){let t=St();N(0,"div",2)(1,"div",3)(2,"span",4),z(3),L()(),N(4,"button",5),de("click",function(){let i=Le(t).$implicit,o=oe();return Ve(o.removeToast(i.id))}),z(5,"\xD7"),L()()}if(n&2){let t=e.$implicit;X("ngClass","toast-"+t.type)("@fadeInOut",void 0),H(3),_t(t.message)}}var Pp=(()=>{class n{constructor(t){this.toastService=t,this.toasts=[],this.subscription=new Ne}ngOnInit(){this.subscription=this.toastService.toasts$.subscribe(t=>{this.toasts=t})}ngOnDestroy(){this.subscription.unsubscribe()}removeToast(t){this.toastService.remove(t)}static{this.\u0275fac=function(r){return new(r||n)(te(nr))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"toast-container"],["class","toast-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"toast-item",3,"ngClass"],[1,"toast-content"],[1,"toast-message"],[1,"toast-close",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0),pe(1,tG,6,3,"div",1),L()),r&2&&(H(),X("ngForOf",i.toasts))},dependencies:[At,Za,zr],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000;display:flex;flex-direction:column;gap:8px;max-width:300px}.toast-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-radius:6px;box-shadow:0 4px 12px #00000026;animation:_ngcontent-%COMP%_toastIn .3s ease,_ngcontent-%COMP%_toastOut .3s ease 3.7s}.toast-success[_ngcontent-%COMP%]{background-color:#00c781;color:#fff}.toast-error[_ngcontent-%COMP%]{background-color:#ff647c;color:#fff}.toast-info[_ngcontent-%COMP%]{background-color:#2d8cff;color:#fff}.toast-warning[_ngcontent-%COMP%]{background-color:#ffaa15;color:#fff}.toast-content[_ngcontent-%COMP%]{flex:1}.toast-message[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:14px}.toast-close[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:18px;cursor:pointer;opacity:.8;margin-left:8px}.toast-close[_ngcontent-%COMP%]:hover{opacity:1}@keyframes _ngcontent-%COMP%_toastIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_toastOut{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"],data:{animation:[ER("fadeInOut",[kE(":enter",[bs({opacity:0,transform:"translateX(100%)"}),PE("300ms ease-out",bs({opacity:1,transform:"translateX(0)"}))]),kE(":leave",[PE("300ms ease-in",bs({opacity:0,transform:"translateX(100%)"}))])])]}})}}return n})();var qM=()=>{};var GM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},nG=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,p=(a&15)<<2|u>>6,m=u&63;c||(m=64,s||(p=64)),r.push(t[d],t[f],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(GM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nG(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Gw;let p=o<<2|a>>4;if(r.push(p),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rG=function(n){let e=GM(n);return kp.encodeByteArray(e,!0)},bu=function(n){return rG(n).replace(/\./g,"")},Op=function(n){try{return kp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var iG=()=>WM().__FIREBASE_DEFAULTS__,oG=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sG=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Op(n[1]);return e&&JSON.parse(e)},Qw=()=>{try{return qM()||iG()||oG()||sG()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kw=n=>{var e,t;return(t=(e=Qw())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Np=n=>{let e=Kw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Yw=()=>{var n;return(n=Qw())===null||n===void 0?void 0:n.config},Zw=n=>{var e;return(e=Qw())===null||e===void 0?void 0:e[`_${n}`]};var Ms=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Fp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[bu(JSON.stringify(t)),bu(JSON.stringify(s)),""].join(".")}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function KM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZM(){let n=Ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Ps(){try{return typeof indexedDB=="object"}catch{return!1}}function Vp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function JM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var aG="FirebaseError",xt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aG,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}},dn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?cG(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xt(i,a,r)}};function cG(n,e){return n.replace(lG,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var lG=/\{\$([^}]+)}/g;function XM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(HM(o)&&HM(s)){if(!rr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function HM(n){return n!==null&&typeof n=="object"}function Iu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mc(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function gc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eP(n,e){let t=new Ww(n,e);return t.subscribe.bind(t)}var Ww=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");uG(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Hw),i.error===void 0&&(i.error=Hw),i.complete===void 0&&(i.complete=Hw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function uG(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Hw(){}var dG=1e3,hG=2,fG=4*60*60*1e3,pG=.5;function jp(n,e=dG,t=hG){let r=e*Math.pow(t,n),i=Math.round(pG*r*(Math.random()-.5)*2);return Math.min(fG,r+i)}function Et(n){return n&&n._delegate?n._delegate:n}var lt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ks="[DEFAULT]";var Jw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ms;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gG(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mG(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mG(n){return n===ks?void 0:n}function gG(n){return n.instantiationMode==="EAGER"}var Bp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Jw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var yG=[],$e=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}($e||{}),vG={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},_G=$e.INFO,EG={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},wG=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=EG[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=_G,this._logHandler=wG,this._userLogHandler=null,yG.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}};var bG=(n,e)=>e.some(t=>n instanceof t),tP,nP;function IG(){return tP||(tP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TG(){return nP||(nP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rP=new WeakMap,eb=new WeakMap,iP=new WeakMap,Xw=new WeakMap,nb=new WeakMap;function CG(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&rP.set(t,n)}).catch(()=>{}),nb.set(e,n),e}function DG(n){if(eb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});eb.set(n,e)}var tb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return eb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function oP(n){tb=n(tb)}function SG(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Up(this),e,...t);return iP.set(r,e.sort?e.sort():[e]),Yr(r)}:TG().includes(n)?function(...e){return n.apply(Up(this),e),Yr(rP.get(this))}:function(...e){return Yr(n.apply(Up(this),e))}}function AG(n){return typeof n=="function"?SG(n):(n instanceof IDBTransaction&&DG(n),bG(n,IG())?new Proxy(n,tb):n)}function Yr(n){if(n instanceof IDBRequest)return CG(n);if(Xw.has(n))return Xw.get(n);let e=AG(n);return e!==n&&(Xw.set(n,e),nb.set(e,n)),e}var Up=n=>nb.get(n);function $p(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Yr(s.result),c.oldVersion,c.newVersion,Yr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var xG=["get","getKey","getAll","getAllKeys","count"],RG=["put","add","delete","clear"],rb=new Map;function sP(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rb.get(e))return rb.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=RG.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xG.includes(t)))return;let o=function(s,...a){return S(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return rb.set(e,o),o}oP(n=>ae(B({},n),{get:(e,t,r)=>sP(e,t)||n.get(e,t,r),has:(e,t)=>!!sP(e,t)||n.has(e,t)}));var ob=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MG(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function MG(n){let e=n.getComponent();return e?.type==="VERSION"}var sb="@firebase/app",aP="0.11.3";var Fi=new ir("@firebase/app"),PG="@firebase/app-compat",kG="@firebase/analytics-compat",OG="@firebase/analytics",NG="@firebase/app-check-compat",FG="@firebase/app-check",LG="@firebase/auth",VG="@firebase/auth-compat",jG="@firebase/database",BG="@firebase/data-connect",UG="@firebase/database-compat",$G="@firebase/functions",zG="@firebase/functions-compat",qG="@firebase/installations",HG="@firebase/installations-compat",GG="@firebase/messaging",WG="@firebase/messaging-compat",QG="@firebase/performance",KG="@firebase/performance-compat",YG="@firebase/remote-config",ZG="@firebase/remote-config-compat",JG="@firebase/storage",XG="@firebase/storage-compat",eW="@firebase/firestore",tW="@firebase/vertexai",nW="@firebase/firestore-compat",rW="firebase",iW="11.5.0";var ab="[DEFAULT]",oW={[sb]:"fire-core",[PG]:"fire-core-compat",[OG]:"fire-analytics",[kG]:"fire-analytics-compat",[FG]:"fire-app-check",[NG]:"fire-app-check-compat",[LG]:"fire-auth",[VG]:"fire-auth-compat",[jG]:"fire-rtdb",[BG]:"fire-data-connect",[UG]:"fire-rtdb-compat",[$G]:"fire-fn",[zG]:"fire-fn-compat",[qG]:"fire-iid",[HG]:"fire-iid-compat",[GG]:"fire-fcm",[WG]:"fire-fcm-compat",[QG]:"fire-perf",[KG]:"fire-perf-compat",[YG]:"fire-rc",[ZG]:"fire-rc-compat",[JG]:"fire-gcs",[XG]:"fire-gcs-compat",[eW]:"fire-fst",[nW]:"fire-fst-compat",[tW]:"fire-vertex","fire-js":"fire-js",[rW]:"fire-js-all"};var Tu=new Map,sW=new Map,cb=new Map;function cP(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Rt(n){let e=n.name;if(cb.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;cb.set(e,n);for(let t of Tu.values())cP(t,n);for(let t of sW.values())cP(t,n);return!0}function An(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xt(n){return n==null?!1:n.settings!==void 0}var aW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new dn("app","Firebase",aW);var lb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}};var Zr=iW;function zp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ab,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(t||(t=Yw()),!t)throw So.create("no-options");let o=Tu.get(i);if(o){if(rr(t,o.options)&&rr(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}let s=new Bp(i);for(let c of cb.values())s.addComponent(c);let a=new lb(t,r,s);return Tu.set(i,a),a}function or(n=ab){let e=Tu.get(n);if(!e&&n===ab&&Yw())return zp();if(!e)throw So.create("no-app",{appName:n});return e}function qp(){return Array.from(Tu.values())}function je(n,e,t){var r;let i=(r=oW[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Rt(new lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cW="firebase-heartbeat-database",lW=1,Cu="firebase-heartbeat-store",ib=null;function hP(){return ib||(ib=$p(cW,lW,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cu)}catch(t){console.warn(t)}}}}).catch(n=>{throw So.create("idb-open",{originalErrorMessage:n.message})})),ib}function uW(n){return S(this,null,function*(){try{let t=(yield hP()).transaction(Cu),r=yield t.objectStore(Cu).get(fP(n));return yield t.done,r}catch(e){if(e instanceof xt)Fi.warn(e.message);else{let t=So.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(t.message)}}})}function lP(n,e){return S(this,null,function*(){try{let r=(yield hP()).transaction(Cu,"readwrite");yield r.objectStore(Cu).put(e,fP(n)),yield r.done}catch(t){if(t instanceof xt)Fi.warn(t.message);else{let r=So.create("idb-set",{originalErrorMessage:t?.message});Fi.warn(r.message)}}})}function fP(n){return`${n.name}!${n.options.appId}`}var dW=1024,hW=30,ub=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new db(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uP();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>hW){let s=pW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fi.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=uP(),{heartbeatsToSend:r,unsentEntries:i}=fW(this._heartbeatsCache.heartbeats),o=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fi.warn(t),""}})}};function uP(){return new Date().toISOString().substring(0,10)}function fW(n,e=dW){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dP(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),dP(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var db=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Ps()?Vp().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield uW(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lP(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dP(n){return bu(JSON.stringify({version:2,heartbeats:n})).length}function pW(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function mW(n){Rt(new lt("platform-logger",e=>new ob(e),"PRIVATE")),Rt(new lt("heartbeat",e=>new ub(e),"PRIVATE")),je(sb,aP,n),je(sb,aP,"esm2017"),je("fire-js","")}mW("");var gW="firebase",yW="11.5.0";je(gW,yW,"app");function hb(n){n===void 0&&(gf(hb),n=O(We));let e=n.get(Tf);return t=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Jr=new Ii("ANGULARFIRE2_VERSION");function Ns(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ao=(n,e)=>{let t=e?[e]:qp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},yc=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(yc||{}),pP=oE()&&typeof Zone<"u"?yc.WARN:yc.SILENT;var Hp=class{zone;delegate;constructor(e,t=wl){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Xr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(_e);this.outsideAngular=t.runOutsideAngular(()=>new Hp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Hp(typeof Zone>"u"?void 0:Zone.current,lo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mP=!1;function vW(n,e){!mP&&(pP>yc.SILENT||oE())&&(mP=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),pP>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function _W(n){let e=O(_e,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Os(n){let e=O(_e,{optional:!0});return e?e.run(()=>n()):n()}var EW=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ot(t,()=>Os(()=>n.apply(void 0,r)))),en=(n,e,t)=>(t||=e?yc.WARN:yc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=O(Xr),s=O(Tf),a=O(Dt)}catch{return vW(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Os(()=>s.add())),i[u]=EW(i[u],r,a));let c=_W(()=>n.apply(this,i));return e?c instanceof ce?c.pipe(uo(o.outsideAngular),Rr(o.insideAngular),hb(a)):c instanceof Promise?Os(()=>new Promise((u,d)=>{s.run(()=>c).then(f=>Ot(a,()=>Os(()=>u(f))),f=>Ot(a,()=>Os(()=>d(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Os(()=>c):c instanceof ce?c.pipe(uo(o.outsideAngular),Rr(o.insideAngular)):Os(()=>c)});var Er=class{constructor(e){return e}},Li=class{constructor(){return qp()}};function wW(n){return n&&n.length===1?n[0]:new Er(or())}var fb=new Q("angularfire2._apps"),bW={provide:Er,useFactory:wW,deps:[[new mt,fb]]},IW={provide:Li,deps:[[new mt,fb]]};function TW(n){return(e,t)=>{let r=t.get(mr);je("angularfire",Jr.full,"core"),je("angularfire",Jr.full,"app"),je("angular",$l.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Er(i)}}function gP(n,...e){return Fn([bW,IW,{provide:fb,useFactory:TW(n),multi:!0,deps:[_e,We,Xr,...e]}])}var CW=new Map,DW={activated:!1,tokenObservers:[]},SW={initialized:!1,enabled:!1};function wr(n){return CW.get(n)||Object.assign({},DW)}function EP(){return SW}var AW="https://content-firebaseappcheck.googleapis.com/v1";var xW="exchangeDebugToken",yP={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},yle=24*60*60*1e3;var gb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new Ms,this.pending.promise.catch(t=>{}),yield RW(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ms,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function RW(n){return new Promise(e=>{setTimeout(e,n)})}var MW={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},xo=new dn("appCheck","AppCheck",MW);function wP(n){if(!wr(n).activated)throw xo.create("use-before-activation",{appName:n.name})}function bP(r,i){return S(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw xo.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw xo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(m){throw xo.create("fetch-parse-error",{originalErrorMessage:m?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw xo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(d[1])*1e3,p=Date.now();return{token:u.token,expireTimeMillis:p+f,issuedAtTimeMillis:p}})}function IP(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${AW}/projects/${t}/apps/${r}:${xW}?key=${i}`,body:{debug_token:e}}}var PW="firebase-app-check-database",kW=1,yb="firebase-app-check-store";var Gp=null;function OW(){return Gp||(Gp=new Promise((n,e)=>{try{let t=indexedDB.open(PW,kW);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(xo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yb,{keyPath:"compositeKey"})}}}catch(t){e(xo.create("storage-open",{originalErrorMessage:t?.message}))}}),Gp)}function NW(n,e){return FW(LW(n),e)}function FW(n,e){return S(this,null,function*(){let r=(yield OW()).transaction(yb,"readwrite"),o=r.objectStore(yb).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(xo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function LW(n){return`${n.options.appId}-${n.name}`}var Du=new ir("@firebase/app-check");function pb(n,e){return Ps()?NW(n,e).catch(t=>{Du.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TP(){return EP().enabled}function CP(){return S(this,null,function*(){let n=EP();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var VW={error:"UNKNOWN_ERROR"};function jW(n){return kp.encodeString(JSON.stringify(n),!1)}function vb(n,e=!1,t=!1){return S(this,null,function*(){let r=n.app;wP(r);let i=wr(r),o=i.token,s;if(o&&!Su(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Su(u)?o=u:yield pb(r,void 0))}if(!e&&o&&Su(o))return{token:o.token};let a=!1;if(TP())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=bP(IP(r,yield CP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield pb(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Du.warn(u.message):t&&Du.error(u),mb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield wr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Du.warn(u.message):t&&Du.error(u),s=u}let c;return o?s?Su(o)?c={token:o.token,internalError:s}:c=mb(s):(c={token:o.token},i.token=o,yield pb(r,o)):c=mb(s),a&&zW(r,c),c})}function BW(n){return S(this,null,function*(){let e=n.app;wP(e);let{provider:t}=wr(e);if(TP()){let r=yield CP(),{token:i}=yield bP(IP(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function UW(n,e,t,r){let{app:i}=n,o=wr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Su(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),vP(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>vP(n))}function DP(n,e){let t=wr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function vP(n){let{app:e}=n,t=wr(e),r=t.tokenRefresher;r||(r=$W(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function $W(n){let{app:e}=n;return new gb(()=>S(this,null,function*(){let t=wr(e),r;if(t.token?r=yield vb(n,!0):r=yield vb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},yP.RETRIAL_MIN_WAIT,yP.RETRIAL_MAX_WAIT)}function zW(n,e){let t=wr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Su(n){return n.expireTimeMillis-Date.now()>0}function mb(n){return{token:jW(VW),error:n}}var _b=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=wr(this.app);for(let t of e)DP(this.app,t.next);return Promise.resolve()}};function qW(n,e){return new _b(n,e)}function HW(n){return{getToken:e=>vb(n,e),getLimitedUseToken:()=>BW(n),addTokenListener:e=>UW(n,"INTERNAL",e),removeTokenListener:e=>DP(n.app,e)}}var GW="@firebase/app-check",WW="0.8.13";var QW="app-check",_P="app-check-internal";function KW(){Rt(new lt(QW,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return qW(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_P).initialize()})),Rt(new lt(_P,n=>{let e=n.getProvider("app-check").getImmediate();return HW(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),je(GW,WW)}KW();var YW="app-check";var Ro=class{constructor(){return Ao(YW)}};var ZW=["localhost","0.0.0.0","127.0.0.1"],Rle=typeof window<"u"&&ZW.includes(window.location.hostname);function $P(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zP=$P,qP=new dn("auth","Firebase",$P());var Jp=new ir("@firebase/auth");function JW(n,...e){Jp.logLevel<=$e.WARN&&Jp.warn(`Auth (${Zr}): ${n}`,...e)}function Qp(n,...e){Jp.logLevel<=$e.ERROR&&Jp.error(`Auth (${Zr}): ${n}`,...e)}function ti(n,...e){throw zb(n,...e)}function Fs(n,...e){return zb(n,...e)}function HP(n,e,t){let r=Object.assign(Object.assign({},zP()),{[e]:t});return new dn("auth","Firebase",r).create(e,{appName:n.name})}function Bi(n){return HP(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zb(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qP.create(n,...e)}function le(n,e,...t){if(!n)throw zb(e,...t)}function Vi(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Qp(e),new Error(e)}function Po(n,e){n||Vi(e)}function Ib(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function XW(){return SP()==="http:"||SP()==="https:"}function SP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XW()||Lp()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ls=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Po(t>e,"Short delay should be less than long delay!"),this.isMobile=QM()||YM()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qb(n,e){Po(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var r6=new Ls(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function br(o,s,a,c){return S(this,arguments,function*(n,e,t,r,i={}){return GP(n,i,()=>S(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Iu(Object.assign({key:n.config.apiKey},d)).slice(1),p=yield n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:p},u);return KM()||(m.referrerPolicy="no-referrer"),Xp.fetch()(WP(n,n.config.apiHost,t,f),m)}))})}function GP(n,e,t){return S(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},n6),e);try{let i=new Tb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wp(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Wp(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Wp(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HP(n,d,u);ti(n,d)}}catch(i){if(i instanceof xt)throw i;ti(n,"network-request-failed",{message:String(i)})}})}function Nu(o,s,a,c){return S(this,arguments,function*(n,e,t,r,i={}){let u=yield br(n,e,t,r,i);return"mfaPendingCredential"in u&&ti(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function WP(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?qb(n.config,i):`${n.config.apiScheme}://${i}`}function i6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Tb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Fs(this.auth,"network-request-failed")),r6.get())})}};function Wp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Fs(n,e,r);return i.customData._tokenResponse=t,i}function AP(n){return n!==void 0&&n.enterprise!==void 0}var Cb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return i6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function o6(n,e){return S(this,null,function*(){return br(n,"GET","/v2/recaptchaConfig",Ui(n,e))})}function s6(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:delete",e)})}function QP(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:lookup",e)})}function xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hb(n,e=!1){return S(this,null,function*(){let t=Et(n),r=yield t.getIdToken(e),i=Gb(r);le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xu(Eb(i.auth_time)),issuedAtTime:xu(Eb(i.iat)),expirationTime:xu(Eb(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Eb(n){return Number(n)*1e3}function Gb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Op(t);return i?JSON.parse(i):(Qp("Failed to decode base64 JWT payload"),null)}catch(i){return Qp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xP(n){let e=Gb(n);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vs(n,e,t=!1){return S(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof xt&&a6(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function a6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Db=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),t)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function em(n){return S(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Vs(n,QP(t,{idToken:r}));le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KP(o.providerUserInfo):[],a=c6(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Mu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function Wb(n){return S(this,null,function*(){let e=Et(n);yield em(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function c6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KP(n){return n.map(e=>{var{providerId:t}=e,r=Ct(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function l6(n,e){return S(this,null,function*(){let t=yield GP(n,{},()=>S(this,null,function*(){let r=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=WP(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Xp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function u6(n,e){return S(this,null,function*(){return br(n,"POST","/v2/accounts:revokeToken",Ui(n,e))})}var Ru=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){le(e.length!==0,"internal-error");let t=xP(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return S(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield l6(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vi("not implemented")}};function Mo(n,e){le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var vc=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Ct(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let t=yield Vs(this,this.stsTokenManager.getToken(this.auth,e));return le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hb(this,e)}reload(){return Wb(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield em(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Xt(this.auth.app))return Promise.reject(Bi(this.auth));let e=yield this.getIdToken();return yield Vs(this,s6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=t.photoURL)!==null&&s!==void 0?s:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=t.createdAt)!==null&&u!==void 0?u:void 0,k=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:V,isAnonymous:U,providerData:q,stsTokenManager:C}=t;le(x&&C,e,"internal-error");let E=Ru.fromJSON(this.name,C);le(typeof x=="string",e,"internal-error"),Mo(f,e.name),Mo(p,e.name),le(typeof V=="boolean",e,"internal-error"),le(typeof U=="boolean",e,"internal-error"),Mo(m,e.name),Mo(y,e.name),Mo(_,e.name),Mo(w,e.name),Mo(b,e.name),Mo(k,e.name);let I=new n({uid:x,auth:e,email:p,emailVerified:V,displayName:f,isAnonymous:U,photoURL:y,phoneNumber:m,tenantId:_,stsTokenManager:E,createdAt:b,lastLoginAt:k});return q&&Array.isArray(q)&&(I.providerData=q.map(D=>Object.assign({},D))),w&&(I._redirectEventId=w),I}static _fromIdTokenResponse(e,t,r=!1){return S(this,null,function*(){let i=new Ru;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield em(o),o})}static _fromGetAccountInfoResponse(e,t,r){return S(this,null,function*(){let i=t.users[0];le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ru;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var RP=new Map;function ji(n){Po(n instanceof Function,"Expected a class definition");let e=RP.get(n);return e?(Po(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RP.set(n,e),e)}var d6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(t,r){return S(this,null,function*(){this.storage[t]=r})}_get(t){return S(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return S(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Sb=d6;function Kp(n,e,t){return`firebase:${n}:${e}:${t}`}var tm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Kp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?vc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return S(this,null,function*(){if(!t.length)return new n(ji(Sb),e,r);let i=(yield Promise.all(t.map(u=>S(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||ji(Sb),s=Kp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let f=vc._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>S(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function MP(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tk(e))return"Blackberry";if(nk(e))return"Webos";if(ZP(e))return"Safari";if((e.includes("chrome/")||JP(e))&&!e.includes("edge/"))return"Chrome";if(ek(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function YP(n=Ut()){return/firefox\//i.test(n)}function ZP(n=Ut()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JP(n=Ut()){return/crios\//i.test(n)}function XP(n=Ut()){return/iemobile/i.test(n)}function ek(n=Ut()){return/android/i.test(n)}function tk(n=Ut()){return/blackberry/i.test(n)}function nk(n=Ut()){return/webos/i.test(n)}function Qb(n=Ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function h6(n=Ut()){var e;return Qb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function f6(){return ZM()&&document.documentMode===10}function rk(n=Ut()){return Qb(n)||ek(n)||nk(n)||tk(n)||/windows phone/i.test(n)||XP(n)}function ik(n,e=[]){let t;switch(n){case"Browser":t=MP(Ut());break;case"Worker":t=`${MP(Ut())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zr}/${r}`}var Ab=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p6(t){return S(this,arguments,function*(n,e={}){return br(n,"GET","/v2/passwordPolicy",Ui(n,e))})}var m6=6,xb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:m6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Rb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nm(this),this.idTokenSubscription=new nm(this),this.beforeStateQueue=new Ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield tm.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let t=yield QP(this,{idToken:e}),r=yield vc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var t;if(Xt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield em(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=t6()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Xt(this.app))return Promise.reject(Bi(this));let t=e?Et(e):null;return t&&le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return S(this,null,function*(){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Xt(this.app)?Promise.reject(Bi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xt(this.app)?Promise.reject(Bi(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(ji(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield p6(this),t=new xb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield u6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ji(e)||this._popupRedirectResolver;le(t,this,"argument-error"),this.redirectPersistenceManager=yield tm.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return S(this,null,function*(){var e;if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&JW(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ko(n){return Et(n)}var nm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eP(t=>this.observer=t)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var um={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g6(n){um=n}function ok(n){return um.loadJS(n)}function y6(){return um.recaptchaEnterpriseScript}function v6(){return um.gapiScript}function sk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Mb=class{constructor(){this.enterprise=new Pb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Pb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var _6="recaptcha-enterprise",ak="NO_RECAPTCHA",kb=class{constructor(e){this.type=_6,this.auth=ko(e)}verify(e="verify",t=!1){return S(this,null,function*(){function r(o){return S(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>S(this,null,function*(){o6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Cb(c);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;AP(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(ak)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mb().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&AP(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=y6();c.length!==0&&(c+=a),ok(c).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Au(n,e,t,r=!1,i=!1){return S(this,null,function*(){let o=new kb(n),s;if(i)s=ak;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function rm(n,e,t,r,i){return S(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Au(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>S(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Au(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Au(n,e,t);return r(n,a).catch(c=>S(this,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let d=yield Au(n,e,t,!1,!0);return r(n,d)}return Promise.reject(c)}))}else{let a=yield Au(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function Kb(n,e){let t=An(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(rr(o,e??{}))return i;ti(i,"already-initialized")}return t.initialize({options:e})}function E6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yb(n,e,t){let r=ko(n);le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=ck(e),{host:s,port:a}=w6(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){le(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),le(rr(u,r.config.emulator)&&rr(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,i||b6()}function ck(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function w6(n){let e=ck(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:PP(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:PP(s)}}}function PP(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function b6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Pu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}};function I6(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:update",e)})}function T6(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:signUp",e)})}function C6(n,e){return S(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))})}function lk(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:sendOobCode",Ui(n,e))})}function D6(n,e){return S(this,null,function*(){return lk(n,e)})}function S6(n,e){return S(this,null,function*(){return lk(n,e)})}function A6(n,e){return S(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))})}function x6(n,e){return S(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))})}var ku=class n extends Pu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return S(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,t,"signInWithPassword",C6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return A6(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_linkToIdToken(e,t){return S(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rm(e,r,"signUpPassword",T6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return x6(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function wb(n,e){return S(this,null,function*(){return Nu(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))})}function R6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M6(n){let e=mc(gc(n)).link,t=e?mc(gc(e)).deep_link_id:null,r=mc(gc(n)).deep_link_id;return(r?mc(gc(r)).link:null)||r||t||e||n}var im=class n{constructor(e){var t,r,i,o,s,a;let c=mc(gc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=R6((i=c.mode)!==null&&i!==void 0?i:null);le(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=M6(e);try{return new n(t)}catch{return null}}};var uk=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ku._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=im.parseLink(r);return le(i,"argument-error"),ku._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),om=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ob=class extends om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function P6(n,e){return S(this,null,function*(){return Nu(n,"POST","/v1/accounts:signUp",Ui(n,e))})}var _c=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return S(this,null,function*(){let o=yield vc._fromIdTokenResponse(e,r,i),s=kP(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return S(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kP(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function kP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Nb=class n extends xt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function dk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nb._fromErrorAndOperation(n,o,e,r):o})}function k6(n,e,t=!1){return S(this,null,function*(){let r=yield Vs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _c._forOperation(n,"link",r)})}function O6(n,e,t=!1){return S(this,null,function*(){let{auth:r}=n;if(Xt(r.app))return Promise.reject(Bi(r));let i="reauthenticate";try{let o=yield Vs(n,dk(r,i,e,n),t);le(o.idToken,r,"internal-error");let s=Gb(o.idToken);le(s,r,"internal-error");let{sub:a}=s;return le(n.uid===a,r,"user-mismatch"),_c._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),o}})}function hk(n,e,t=!1){return S(this,null,function*(){if(Xt(n.app))return Promise.reject(Bi(n));let r="signIn",i=yield dk(n,r,e),o=yield _c._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Zb(n,e){return S(this,null,function*(){return hk(ko(n),e)})}function fk(n,e,t){var r;le(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),le(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),le(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(le(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(le(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function pk(n){return S(this,null,function*(){let e=ko(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Jb(n,e,t){return S(this,null,function*(){let r=ko(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&fk(r,i,t),yield rm(r,i,"getOobCode",S6,"EMAIL_PASSWORD_PROVIDER")})}function Xb(n,e,t){return S(this,null,function*(){if(Xt(n.app))return Promise.reject(Bi(n));let r=ko(n),s=yield rm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P6,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&pk(n),c}),a=yield _c._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function e0(n,e,t){return Xt(n.app)?Promise.reject(Bi(n)):Zb(Et(n),uk.credential(e,t)).catch(r=>S(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&pk(n),r}))}function t0(n,e){return S(this,null,function*(){let t=Et(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&fk(t.auth,i,e);let{email:o}=yield D6(t.auth,i);o!==n.email&&(yield n.reload())})}function N6(n,e){return S(this,null,function*(){return br(n,"POST","/v1/accounts:update",e)})}function n0(r,i){return S(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let o=Et(n),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=yield Vs(o,N6(o.auth,a));o.displayName=c.displayName||null,o.photoURL=c.photoUrl||null;let u=o.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=o.displayName,u.photoURL=o.photoURL),yield o._updateTokensIfNecessary(c)})}function r0(n,e){return F6(Et(n),null,e)}function F6(n,e,t){return S(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Vs(n,I6(r,o));yield n._updateTokensIfNecessary(s,!0)})}function dm(n,e,t,r){return Et(n).onIdTokenChanged(e,t,r)}function i0(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function hm(n,e,t,r){return Et(n).onAuthStateChanged(e,t,r)}function o0(n){return Et(n).signOut()}var sm="__sak";var am=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var L6=1e3,V6=10,j6=(()=>{class n extends am{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);f6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,V6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},L6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return S(this,null,function*(){yield so(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return S(this,null,function*(){let r=yield so(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return S(this,null,function*(){yield so(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),mk=j6;var B6=(()=>{class n extends am{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),s0=B6;function U6(n){return Promise.all(n.map(e=>S(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var $6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return S(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>S(this,null,function*(){return d(r.origin,s)})),u=yield U6(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function gk(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Fb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return S(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=gk("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){let p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ei(){return window}function z6(n){ei().location.href=n}function yk(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}function q6(){return S(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function H6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function G6(){return yk()?self:null}var vk="firebaseLocalStorageDb",W6=1,cm="firebaseLocalStorage",_k="fbase_key",js=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function fm(n,e){return n.transaction([cm],e?"readwrite":"readonly").objectStore(cm)}function Q6(){let n=indexedDB.deleteDatabase(vk);return new js(n).toPromise()}function Lb(){let n=indexedDB.open(vk,W6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(cm,{keyPath:_k})}catch(i){t(i)}}),n.addEventListener("success",()=>S(this,null,function*(){let r=n.result;r.objectStoreNames.contains(cm)?e(r):(r.close(),yield Q6(),e(yield Lb()))}))})}function OP(n,e,t){return S(this,null,function*(){let r=fm(n,!0).put({[_k]:e,value:t});return new js(r).toPromise()})}function K6(n,e){return S(this,null,function*(){let t=fm(n,!1).get(e),r=yield new js(t).toPromise();return r===void 0?null:r.value})}function NP(n,e){let t=fm(n,!0).delete(e);return new js(t).toPromise()}var Y6=800,Z6=3,J6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return S(this,null,function*(){return this.db?this.db:(this.db=yield Lb(),this.db)})}_withRetries(t){return S(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Z6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return S(this,null,function*(){return yk()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return S(this,null,function*(){this.receiver=$6._getInstance(G6()),this.receiver._subscribe("keyChanged",(t,r)=>S(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>S(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return S(this,null,function*(){var t,r;if(this.activeServiceWorker=yield q6(),!this.activeServiceWorker)return;this.sender=new Fb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return S(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||H6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return S(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Lb();return yield OP(t,sm,"1"),yield NP(t,sm),!0}catch{}return!1})}_withPendingWrite(t){return S(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(i=>OP(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return S(this,null,function*(){let r=yield this._withRetries(i=>K6(i,t));return this.localCache[t]=r,r})}_remove(t){return S(this,null,function*(){return this._withPendingWrite(()=>S(this,null,function*(){return yield this._withRetries(r=>NP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return S(this,null,function*(){let t=yield this._withRetries(o=>{let s=fm(o,!1).getAll();return new js(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>S(this,null,function*(){return this._poll()}),Y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Ek=J6;var Vle=sk("rcb"),jle=new Ls(3e4,6e4);function X6(n,e){return e?ji(e):(le(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ou=class extends Pu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function e5(n){return hk(n.auth,new Ou(n),n.bypassAuthState)}function t5(n){let{auth:e,user:t}=n;return le(t,e,"internal-error"),O6(t,new Ou(n),n.bypassAuthState)}function n5(n){return S(this,null,function*(){let{auth:e,user:t}=n;return le(t,e,"internal-error"),k6(t,new Ou(n),n.bypassAuthState)})}var Vb=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>S(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return S(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e5;case"linkViaPopup":case"linkViaRedirect":return n5;case"reauthViaPopup":case"reauthViaRedirect":return t5;default:ti(this.auth,"internal-error")}}resolve(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ble=new Ls(2e3,1e4);var r5="pendingRedirect",Yp=new Map,jb=class n extends Vb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return S(this,null,function*(){let e=Yp.get(this.auth._key());if(!e){try{let r=(yield i5(this.resolver,this.auth))?yield so(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yp.set(this.auth._key(),e)}return this.bypassAuthState||Yp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return S(this,null,function*(){if(e.type==="signInViaRedirect")return so(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,so(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return S(this,null,function*(){})}cleanUp(){}};function i5(n,e){return S(this,null,function*(){let t=a5(e),r=s5(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function o5(n,e){Yp.set(n._key(),e)}function s5(n){return ji(n._redirectPersistence)}function a5(n){return Kp(r5,n.config.apiKey,n.name)}function c5(n,e,t=!1){return S(this,null,function*(){if(Xt(n.app))return Promise.reject(Bi(n));let r=ko(n),i=X6(r,e),s=yield new jb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var l5=10*60*1e3,Bb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wk(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Fs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l5&&this.cachedEventUids.clear(),this.cachedEventUids.has(FP(e))}saveEventToCache(e){this.cachedEventUids.add(FP(e)),this.lastProcessedEventTime=Date.now()}};function FP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wk({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function u5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wk(n);default:return!1}}function d5(t){return S(this,arguments,function*(n,e={}){return br(n,"GET","/v1/projects",e)})}var h5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f5=/^https?/;function p5(n){return S(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield d5(n);for(let t of e)try{if(m5(t))return}catch{}ti(n,"unauthorized-domain")})}function m5(n){let e=Ib(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!f5.test(t))return!1;if(h5.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var g5=new Ls(3e4,6e4);function LP(){let n=ei().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function y5(n){return new Promise((e,t)=>{var r,i,o;function s(){LP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LP(),t(Fs(n,"network-request-failed"))},timeout:g5.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)s();else{let a=sk("iframefcb");return ei()[a]=()=>{gapi.load?s():t(Fs(n,"network-request-failed"))},ok(`${v6()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Zp=null,e})}var Zp=null;function v5(n){return Zp=Zp||y5(n),Zp}var _5=new Ls(5e3,15e3),E5="__/auth/iframe",w5="emulator/auth/iframe",b5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T5(n){let e=n.config;le(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?qb(e,w5):`https://${n.config.authDomain}/${E5}`,r={apiKey:e.apiKey,appName:n.name,v:Zr},i=I5.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Iu(r).slice(1)}`}function C5(n){return S(this,null,function*(){let e=yield v5(n),t=ei().gapi;return le(t,n,"internal-error"),e.open({where:document.body,url:T5(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b5,dontclear:!0},r=>new Promise((i,o)=>S(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fs(n,"network-request-failed"),a=ei().setTimeout(()=>{o(s)},_5.get());function c(){ei().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var D5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S5=500,A5=600,x5="_blank",R5="http://localhost",lm=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function M5(n,e,t,r=S5,i=A5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},D5),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ut().toLowerCase();t&&(a=JP(u)?x5:t),YP(u)&&(e=e||R5,c.scrollbars="yes");let d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(h6(u)&&a!=="_self")return P5(e||"",a),new lm(null);let f=window.open(e||"",a,d);le(f,n,"popup-blocked");try{f.focus()}catch{}return new lm(f)}function P5(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var k5="__/auth/handler",O5="emulator/auth/handler",N5=encodeURIComponent("fac");function VP(n,e,t,r,i,o){return S(this,null,function*(){le(n.config.authDomain,n,"auth-domain-config-required"),le(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zr,eventId:i};if(e instanceof om){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",XM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof Ob){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${N5}=${encodeURIComponent(c)}`:"";return`${F5(n)}?${Iu(a).slice(1)}${u}`})}function F5({config:n}){return n.emulator?qb(n,O5):`https://${n.authDomain}/${k5}`}var bb="webStorageSupport",Ub=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s0,this._completeRedirectFn=c5,this._overrideRedirectResult=o5}_openPopup(e,t,r,i){return S(this,null,function*(){var o;Po((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VP(e,t,r,Ib(),i);return M5(e,s,gk())})}_openRedirect(e,t,r,i){return S(this,null,function*(){yield this._originValidation(e);let o=yield VP(e,t,r,Ib(),i);return z6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Po(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return S(this,null,function*(){let t=yield C5(e),r=new Bb(e);return t.register("authEvent",i=>(le(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bb,{type:bb},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[bb];s!==void 0&&t(!!s),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p5(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return rk()||ZP()||Qb()}},bk=Ub;var jP="@firebase/auth",BP="1.9.1";var $b=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function L5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V5(n){Rt(new lt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ik(n)},u=new Rb(r,i,o,c);return E6(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Rt(new lt("auth-internal",e=>{let t=ko(e.getProvider("auth").getImmediate());return(r=>new $b(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(jP,BP,L5(n)),je(jP,BP,"esm2017")}var j5=5*60,B5=Zw("authIdTokenMaxAge")||j5,UP=null,U5=n=>e=>S(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>B5)return;let i=t?.token;UP!==i&&(UP=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function a0(n=or()){let e=An(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Kb(n,{popupRedirectResolver:bk,persistence:[Ek,mk,s0]}),r=Zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=U5(o.toString());i0(t,s,()=>s(t.currentUser)),dm(t,a=>s(a))}}let i=Kw("auth");return i&&Yb(t,`http://${i}`),t}function $5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}g6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Fs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",$5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V5("Browser");function Tk(n){return new ce(function(e){var t=hm(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Ck="auth",Bs=class{constructor(e){return e}},Us=class{constructor(){return Ao(Ck)}};var c0=new Q("angularfire2.auth-instances");function C8(n,e){let t=Ns(Ck,n,e);return t&&new Bs(t)}function D8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bs(r)}}var S8={provide:Us,deps:[[new mt,c0]]},A8={provide:Bs,useFactory:C8,deps:[[new mt,c0],Er]};function Dk(n,...e){return je("angularfire",Jr.full,"auth"),Fn([A8,S8,{provide:c0,useFactory:D8(n),multi:!0,deps:[_e,We,Xr,Li,[new mt,Ro],...e]}])}var Sk=en(Tk,!0);var Ak=en(Xb,!0,2);var xk=en(a0,!0);var Rk=en(t0,!0,2),Mk=en(Jb,!0,2);var Pk=en(e0,!0,2);var kk=en(o0,!0,2);var Ok=en(r0,!0,2);var Nk=en(n0,!0,2);var $i={production:!1,useEmulators:!1,apiUrl:"http://localhost:3000/api",graphqlUrl:"http://localhost:4000/graphql",firebase:{apiKey:"AIzaSyBIFBiPZqegXg9_rlmhA3TvwiCsYmgUTno",authDomain:"kanban-board-bbf3b.firebaseapp.com",projectId:"kanban-board-bbf3b",storageBucket:"kanban-board-bbf3b.appspot.com",messagingSenderId:"347147579688",appId:"1:347147579688:web:f80a0a269d2ed8a680201d",measurementId:"G-BGWP5N6DHC"}};var Lt=(()=>{class n{constructor(t,r){this.auth=t,this.router=r,this.currentUserSubject=new et(null),this.currentUser$=this.currentUserSubject.asObservable(),this.tokenSubject=new et(null),this.token$=this.tokenSubject.asObservable(),this.lastKnownToken=null,console.log("Inicializando AuthService"),this.tryRecoverToken(),this.auth.currentUser&&(console.log(`Usu\xE1rio j\xE1 autenticado no Firebase Auth: ${this.auth.currentUser.uid}`),this.currentUserSubject.next(this.auth.currentUser),this.auth.currentUser.getIdToken().then(i=>{console.log("Token obtido do usu\xE1rio atual"),this.lastKnownToken=i,this.tokenSubject.next(i),sessionStorage.setItem("auth_token",i)}).catch(i=>{console.error("Erro ao obter token do usu\xE1rio atual:",i)})),Sk(this.auth).pipe(ot(i=>{if(i)return this.currentUserSubject.next(i),console.log(`Usu\xE1rio autenticado: ${i.uid} (${i.email})`),Ee(i.getIdToken());{let o=sessionStorage.getItem("auth_token");return o?(console.log("Token encontrado no sessionStorage, mas sem usu\xE1rio autenticado no Firebase"),W(o)):(this.currentUserSubject.next(null),console.log("Nenhum usu\xE1rio autenticado"),W(null))}}),he(i=>(console.error("Erro ao obter estado de autentica\xE7\xE3o:",i),W(null)))).subscribe(i=>{i?(this.lastKnownToken=i,this.tokenSubject.next(i),sessionStorage.setItem("auth_token",i)):(this.lastKnownToken=null,this.tokenSubject.next(null))})}tryRecoverToken(){try{let t=sessionStorage.getItem("auth_token");if(t){console.log("Token recuperado do sessionStorage"),this.lastKnownToken=t,this.tokenSubject.next(t);return}let r=`firebase:authUser:${this.getFirebaseConfig()}:[DEFAULT]`,i=localStorage.getItem(r);if(i)try{let o=JSON.parse(i);if(o&&o.stsTokenManager&&o.stsTokenManager.accessToken){let s=o.stsTokenManager.expirationTime,a=Date.now();if(s>a){console.log("Token recuperado do localStorage do Firebase"),this.lastKnownToken=o.stsTokenManager.accessToken,this.tokenSubject.next(o.stsTokenManager.accessToken),sessionStorage.setItem("auth_token",o.stsTokenManager.accessToken);return}else console.warn("Token encontrado no localStorage est\xE1 expirado")}}catch(o){console.error("Erro ao analisar dados do usu\xE1rio no localStorage:",o)}}catch(t){console.error("Erro ao tentar recuperar token:",t)}}getFirebaseConfig(){return $i.firebase.apiKey}register(t,r){return Ee(Ak(this.auth,t,r)).pipe(Se(i=>{console.log("Usu\xE1rio registrado com sucesso:",i.user.uid)}),he(i=>{throw console.error("Erro ao registrar usu\xE1rio:",i),i}))}login(t,r){return Ee(Pk(this.auth,t,r)).pipe(Se(i=>{console.log("Login bem-sucedido")}),he(i=>{throw console.error("Erro ao fazer login"),i}))}logout(){console.log("Iniciando processo de logout"),this.lastKnownToken=null,this.tokenSubject.next(null),sessionStorage.removeItem("auth_token");try{let t=`firebase:authUser:${this.getFirebaseConfig()}:[DEFAULT]`;localStorage.removeItem(t)}catch(t){console.error("Erro ao limpar localStorage:",t)}return Ee(kk(this.auth)).pipe(Se(()=>{console.log("Logout bem-sucedido"),this.currentUserSubject.next(null),this.router.navigate(["/login"])}),he(t=>{throw console.error("Erro ao fazer logout:",t),this.currentUserSubject.next(null),t}))}getToken(){try{if(this.lastKnownToken)return this.lastKnownToken;let t=sessionStorage.getItem("auth_token");if(t)return this.lastKnownToken=t,t;let r=`firebase:authUser:${this.getFirebaseConfig()}:[DEFAULT]`,i=localStorage.getItem(r);if(i)try{let o=JSON.parse(i);if(o&&o.stsTokenManager&&o.stsTokenManager.accessToken){let s=o.stsTokenManager.expirationTime,a=Date.now();return s>a?(this.lastKnownToken=o.stsTokenManager.accessToken,o.stsTokenManager.accessToken):(console.warn("Token expirado"),null)}}catch{console.error("Erro ao processar dados do localStorage")}return console.warn("Nenhum token v\xE1lido encontrado"),null}catch{return console.error("Erro ao obter token"),null}}getTokenAsync(){return this.token$}sendVerificationEmail(){let t=this.auth.currentUser;return t?Ee(Rk(t)).pipe(Se(()=>console.log("Email de verifica\xE7\xE3o enviado"))):W(void 0)}resetPassword(t){return Ee(Mk(this.auth,t)).pipe(Se(()=>console.log("Email de redefini\xE7\xE3o de senha enviado")))}updateUserProfile(t,r){let i=this.auth.currentUser;return i?Ee(Nk(i,{displayName:t,photoURL:r})).pipe(Se(()=>console.log("Perfil atualizado com sucesso"))):W(void 0)}updateUserPassword(t){let r=this.auth.currentUser;return r?Ee(Ok(r,t)).pipe(Se(()=>console.log("Senha atualizada com sucesso"))):W(void 0)}get isLoggedIn(){if(this.auth.currentUser)return console.log("Usu\xE1rio autenticado"),W(!0);if(sessionStorage.getItem("auth_token"))return console.log("Token de sess\xE3o v\xE1lido"),W(!0);try{let r=`firebase:authUser:${this.getFirebaseConfig()}:[DEFAULT]`,i=localStorage.getItem(r);if(i)try{let o=JSON.parse(i);if(o&&o.stsTokenManager&&o.stsTokenManager.accessToken){let s=o.stsTokenManager.expirationTime,a=Date.now();if(s>a)return console.log("Sess\xE3o Firebase v\xE1lida"),sessionStorage.setItem("auth_token",o.stsTokenManager.accessToken),W(!0)}}catch{console.error("Erro ao processar dados")}}catch{console.error("Erro ao verificar autentica\xE7\xE3o")}return this.currentUser$.pipe(ne(r=>!!r),Se(r=>{console.log("Estado de autentica\xE7\xE3o do Firebase Auth:",r?"autenticado":"n\xE3o autenticado")}))}get currentUser(){return this.currentUserSubject.value}get userEmail(){return this.currentUser?.email||null}static{this.\u0275fac=function(r){return new(r||n)(J(Bs),J(Jt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R8(n,e){if(n&1){let t=St();Ga(0),N(1,"a",8),de("click",function(){Le(t);let i=oe();return Ve(i.toggleMenu())}),z(2,"Login"),L(),N(3,"a",9),de("click",function(){Le(t);let i=oe();return Ve(i.toggleMenu())}),z(4,"Cadastro"),L(),Wa()}}function M8(n,e){if(n&1){let t=St();N(0,"a",10),de("click",function(){Le(t);let i=oe();return Ve(i.toggleMenu())}),z(1,"Quadros"),L(),N(2,"span",11),z(3),L(),N(4,"button",12),de("click",function(){Le(t);let i=oe();return Ve(i.logout())}),z(5,"Sair"),L()}if(n&2){let t=oe();H(3),_t(t.getUserEmail())}}var Fk=(()=>{class n{constructor(t,r){this.authService=t,this.toastService=r,this.title="angular-kanban",this.currentUser=null,this.isMenuOpen=!1,this.isLoggedIn$=this.authService.isLoggedIn,this.user$=this.authService.currentUser$,this.authService.currentUser$.subscribe(i=>{this.currentUser=i})}ngOnInit(){}getUserEmail(){return this.currentUser?.email||""}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){this.isMenuOpen=!1,this.authService.logout().subscribe({next:()=>{this.toastService.show("Logout realizado com sucesso!","success")},error:t=>{console.error("Erro ao fazer logout:",t),this.toastService.show("Erro ao fazer logout.","error")}})}static{this.\u0275fac=function(r){return new(r||n)(te(Lt),te(nr))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-root"]],decls:19,vars:6,consts:[["loggedIn",""],[1,"app-container"],[1,"app-header"],[1,"header-left"],[1,"menu-toggle",3,"click"],[1,"header-right"],[1,"close-menu",3,"click"],[4,"ngIf","ngIfElse"],["routerLink","/login",1,"nav-link",3,"click"],["routerLink","/register",1,"nav-link",3,"click"],["routerLink","/board",1,"nav-link",3,"click"],[1,"user-email"],[1,"logout-button",3,"click"]],template:function(r,i){if(r&1){let o=St();N(0,"div",1)(1,"header",2)(2,"div",3)(3,"h1"),z(4,"Angular Kanban Board"),L()(),N(5,"div",4),de("click",function(){return Le(o),Ve(i.toggleMenu())}),st(6,"span")(7,"span")(8,"span"),L(),N(9,"div",5)(10,"div",6),de("click",function(){return Le(o),Ve(i.toggleMenu())}),z(11,"\u2715"),L(),pe(12,R8,5,0,"ng-container",7),Ul(13,"async"),pe(14,M8,6,1,"ng-template",null,0,xx),L()(),N(16,"main"),st(17,"router-outlet"),L(),st(18,"app-toast"),L()}if(r&2){let o=bx(15);H(9),Tn("active",i.isMenuOpen),H(3),X("ngIf",!Dx(13,4,i.isLoggedIn$))("ngIfElse",o)}},dependencies:[At,Sn,Hx,fc,jw,hc,Pp],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f5f6f8}.app-header[_ngcontent-%COMP%]{padding:16px;background-color:#fff;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:10}.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;font-weight:700;font-size:20px;color:#333}.header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.menu-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;width:24px;height:18px;cursor:pointer}.menu-toggle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;height:2px;width:100%;background-color:#333;transition:all .3s ease}.close-menu[_ngcontent-%COMP%]{display:none;font-size:22px;position:absolute;top:12px;right:16px;cursor:pointer;color:#333}.nav-link[_ngcontent-%COMP%]{color:#4a6ae5;text-decoration:none;font-weight:500}.nav-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-email[_ngcontent-%COMP%]{font-size:14px;color:#666;margin-left:8px}.logout-button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #4a6ae5;color:#4a6ae5;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:14px}.logout-button[_ngcontent-%COMP%]:hover{background-color:#f0f4ff}main[_ngcontent-%COMP%]{flex:1;overflow:auto}@media (max-width: 768px){.header-right[_ngcontent-%COMP%]{position:fixed;top:0;right:-250px;width:250px;height:100vh;background-color:#fff;flex-direction:column;align-items:flex-start;padding:60px 20px 20px;transition:right .3s ease;box-shadow:-2px 0 5px #0000001a;z-index:15}.header-right.active[_ngcontent-%COMP%]{right:0}.menu-toggle[_ngcontent-%COMP%]{display:flex;z-index:20}.close-menu[_ngcontent-%COMP%]{display:block}.nav-link[_ngcontent-%COMP%]{padding:10px 0;width:100%;border-bottom:1px solid #eee}.user-email[_ngcontent-%COMP%]{margin:10px 0;padding:10px 0;border-bottom:1px solid #eee;width:100%}.logout-button[_ngcontent-%COMP%]{margin-top:10px;width:100%}}@media (max-width: 480px){.header-left[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:16px}.app-header[_ngcontent-%COMP%]{padding:12px}}"]})}}return n})();var l0="Invariant Violation",Lk=Object.setPrototypeOf,P8=Lk===void 0?function(n,e){return n.__proto__=e,n}:Lk,gm=function(n){gt(e,n);function e(t){t===void 0&&(t=l0);var r=n.call(this,typeof t=="number"?l0+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return r.framesToPop=1,r.name=l0,P8(r,e.prototype),r}return e}(Error);function Oo(n,e){if(!n)throw new gm(e)}var mm=["debug","log","warn","error","silent"],u0=mm.indexOf("log");function pm(n){return function(){if(mm.indexOf(n)>=u0){var e=console[n]||console.log;return e.apply(console,arguments)}}}(function(n){n.debug=pm("debug"),n.log=pm("log"),n.warn=pm("warn"),n.error=pm("error")})(Oo||(Oo={}));function Vk(n){var e=mm[u0];return u0=Math.max(0,mm.indexOf(n)),e}var Fu="3.13.5";function tn(n){try{return n()}catch{}}var Ec=tn(function(){return globalThis})||tn(function(){return window})||tn(function(){return self})||tn(function(){return global})||tn(function(){return tn.constructor("return this")()});var jk=new Map;function Lu(n){var e=jk.get(n)||1;return jk.set(n,e+1),"".concat(n,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function ym(n,e){e===void 0&&(e=0);var t=Lu("stringifyForDisplay");return JSON.stringify(n,function(r,i){return i===void 0?t:i},e).split(JSON.stringify(t)).join("<undefined>")}function vm(n){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(typeof e=="number"){var i=e;e=d0(i),e||(e=h0(i,t),t=[])}n.apply(void 0,[e].concat(t))}}var K=Object.assign(function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];e||Oo(e,d0(t,r)||h0(t,r))},{debug:vm(Oo.debug),log:vm(Oo.log),warn:vm(Oo.warn),error:vm(Oo.error)});function Ze(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new gm(d0(n,e)||h0(n,e))}var Bk=Symbol.for("ApolloErrorMessageHandler_"+Fu);function Uk(n){if(typeof n=="string")return n;try{return ym(n,2).slice(0,1e3)}catch{return"<non-serializable>"}}function d0(n,e){if(e===void 0&&(e=[]),!!n)return Ec[Bk]&&Ec[Bk](n,e.map(Uk))}function h0(n,e){if(e===void 0&&(e=[]),!!n)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Fu,message:n,args:e.map(Uk)})))}var k8=globalThis.__DEV__!==!1;function wc(n,e){if(!!!n)throw new Error(e)}function $k(n){return typeof n=="object"&&n!==null}function zk(n,e){if(!!!n)throw new Error(e??"Unexpected invariant triggered.")}var O8=/\r\n|[\n\r]/g;function bc(n,e){let t=0,r=1;for(let i of n.body.matchAll(O8)){if(typeof i.index=="number"||zk(!1),i.index>=e)break;t=i.index+i[0].length,r+=1}return{line:r,column:e+1-t}}function f0(n){return _m(n.source,bc(n.source,n.start))}function _m(n,e){let t=n.locationOffset.column-1,r="".padStart(t)+n.body,i=e.line-1,o=n.locationOffset.line-1,s=e.line+o,a=e.line===1?t:0,c=e.column+a,u=`${n.name}:${s}:${c}
`,d=r.split(/\r\n|[\n\r]/g),f=d[i];if(f.length>120){let p=Math.floor(c/80),m=c%80,y=[];for(let _=0;_<f.length;_+=80)y.push(f.slice(_,_+80));return u+qk([[`${s} |`,y[0]],...y.slice(1,p+1).map(_=>["|",_]),["|","^".padStart(m)],["|",y[p+1]]])}return u+qk([[`${s-1} |`,d[i-1]],[`${s} |`,f],["|","^".padStart(c)],[`${s+1} |`,d[i+1]]])}function qk(n){let e=n.filter(([r,i])=>i!==void 0),t=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(t)+(i?" "+i:"")).join(`
`)}function N8(n){let e=n[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:n[1],positions:n[2],path:n[3],originalError:n[4],extensions:n[5]}:e}var Em=class n extends Error{constructor(e,...t){var r,i,o;let{nodes:s,source:a,positions:c,path:u,originalError:d,extensions:f}=N8(t);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=d??void 0,this.nodes=Hk(Array.isArray(s)?s:s?[s]:void 0);let p=Hk((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=a??(p==null||(i=p[0])===null||i===void 0?void 0:i.source),this.positions=c??p?.map(y=>y.start),this.locations=c&&a?c.map(y=>bc(a,y)):p?.map(y=>bc(y.source,y.start));let m=$k(d?.extensions)?d?.extensions:void 0;this.extensions=(o=f??m)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),d!=null&&d.stack?Object.defineProperty(this,"stack",{value:d.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let t of this.nodes)t.loc&&(e+=`

`+f0(t.loc));else if(this.source&&this.locations)for(let t of this.locations)e+=`

`+_m(this.source,t);return e}toJSON(){let e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function Hk(n){return n===void 0||n.length===0?void 0:n}function wt(n,e,t){return new Em(`Syntax Error: ${t}`,{source:n,positions:[e]})}var Vu=class{constructor(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},Ic=class{constructor(e,t,r,i,o,s){this.kind=e,this.start=t,this.end=r,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},p0={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},F8=new Set(Object.keys(p0));function m0(n){let e=n?.kind;return typeof e=="string"&&F8.has(e)}var zs=function(n){return n.QUERY="query",n.MUTATION="mutation",n.SUBSCRIPTION="subscription",n}(zs||{});var wm=function(n){return n.QUERY="QUERY",n.MUTATION="MUTATION",n.SUBSCRIPTION="SUBSCRIPTION",n.FIELD="FIELD",n.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",n.FRAGMENT_SPREAD="FRAGMENT_SPREAD",n.INLINE_FRAGMENT="INLINE_FRAGMENT",n.VARIABLE_DEFINITION="VARIABLE_DEFINITION",n.SCHEMA="SCHEMA",n.SCALAR="SCALAR",n.OBJECT="OBJECT",n.FIELD_DEFINITION="FIELD_DEFINITION",n.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",n.INTERFACE="INTERFACE",n.UNION="UNION",n.ENUM="ENUM",n.ENUM_VALUE="ENUM_VALUE",n.INPUT_OBJECT="INPUT_OBJECT",n.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",n}(wm||{});var Y=function(n){return n.NAME="Name",n.DOCUMENT="Document",n.OPERATION_DEFINITION="OperationDefinition",n.VARIABLE_DEFINITION="VariableDefinition",n.SELECTION_SET="SelectionSet",n.FIELD="Field",n.ARGUMENT="Argument",n.FRAGMENT_SPREAD="FragmentSpread",n.INLINE_FRAGMENT="InlineFragment",n.FRAGMENT_DEFINITION="FragmentDefinition",n.VARIABLE="Variable",n.INT="IntValue",n.FLOAT="FloatValue",n.STRING="StringValue",n.BOOLEAN="BooleanValue",n.NULL="NullValue",n.ENUM="EnumValue",n.LIST="ListValue",n.OBJECT="ObjectValue",n.OBJECT_FIELD="ObjectField",n.DIRECTIVE="Directive",n.NAMED_TYPE="NamedType",n.LIST_TYPE="ListType",n.NON_NULL_TYPE="NonNullType",n.SCHEMA_DEFINITION="SchemaDefinition",n.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",n.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",n.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",n.FIELD_DEFINITION="FieldDefinition",n.INPUT_VALUE_DEFINITION="InputValueDefinition",n.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",n.UNION_TYPE_DEFINITION="UnionTypeDefinition",n.ENUM_TYPE_DEFINITION="EnumTypeDefinition",n.ENUM_VALUE_DEFINITION="EnumValueDefinition",n.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",n.DIRECTIVE_DEFINITION="DirectiveDefinition",n.SCHEMA_EXTENSION="SchemaExtension",n.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",n.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",n.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",n.UNION_TYPE_EXTENSION="UnionTypeExtension",n.ENUM_TYPE_EXTENSION="EnumTypeExtension",n.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",n}(Y||{});function bm(n){return n===9||n===32}function Tc(n){return n>=48&&n<=57}function Gk(n){return n>=97&&n<=122||n>=65&&n<=90}function g0(n){return Gk(n)||n===95}function Wk(n){return Gk(n)||Tc(n)||n===95}function Qk(n){var e;let t=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let s=0;s<n.length;++s){var o;let a=n[s],c=L8(a);c!==a.length&&(r=(o=r)!==null&&o!==void 0?o:s,i=s,s!==0&&c<t&&(t=c))}return n.map((s,a)=>a===0?s:s.slice(t)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function L8(n){let e=0;for(;e<n.length&&bm(n.charCodeAt(e));)++e;return e}function Kk(n,e){let t=n.replace(/"""/g,'\\"""'),r=t.split(/\r\n|[\n\r]/g),i=r.length===1,o=r.length>1&&r.slice(1).every(m=>m.length===0||bm(m.charCodeAt(0))),s=t.endsWith('\\"""'),a=n.endsWith('"')&&!s,c=n.endsWith("\\"),u=a||c,d=!(e!=null&&e.minimize)&&(!i||n.length>70||u||o||s),f="",p=i&&bm(n.charCodeAt(0));return(d&&!p||o)&&(f+=`
`),f+=t,(d||u)&&(f+=`
`),'"""'+f+'"""'}var j=function(n){return n.SOF="<SOF>",n.EOF="<EOF>",n.BANG="!",n.DOLLAR="$",n.AMP="&",n.PAREN_L="(",n.PAREN_R=")",n.SPREAD="...",n.COLON=":",n.EQUALS="=",n.AT="@",n.BRACKET_L="[",n.BRACKET_R="]",n.BRACE_L="{",n.PIPE="|",n.BRACE_R="}",n.NAME="Name",n.INT="Int",n.FLOAT="Float",n.STRING="String",n.BLOCK_STRING="BlockString",n.COMMENT="Comment",n}(j||{});var Bu=class{constructor(e){let t=new Ic(j.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==j.EOF)do if(e.next)e=e.next;else{let t=V8(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===j.COMMENT);return e}};function Zk(n){return n===j.BANG||n===j.DOLLAR||n===j.AMP||n===j.PAREN_L||n===j.PAREN_R||n===j.SPREAD||n===j.COLON||n===j.EQUALS||n===j.AT||n===j.BRACKET_L||n===j.BRACKET_R||n===j.BRACE_L||n===j.PIPE||n===j.BRACE_R}function Cc(n){return n>=0&&n<=55295||n>=57344&&n<=1114111}function Im(n,e){return Jk(n.charCodeAt(e))&&Xk(n.charCodeAt(e+1))}function Jk(n){return n>=55296&&n<=56319}function Xk(n){return n>=56320&&n<=57343}function qs(n,e){let t=n.source.body.codePointAt(e);if(t===void 0)return j.EOF;if(t>=32&&t<=126){let r=String.fromCodePoint(t);return r==='"'?`'"'`:`"${r}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function bt(n,e,t,r,i){let o=n.line,s=1+t-n.lineStart;return new Ic(e,t,r,o,s,i)}function V8(n,e){let t=n.source.body,r=t.length,i=e;for(;i<r;){let o=t.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++n.line,n.lineStart=i;continue;case 13:t.charCodeAt(i+1)===10?i+=2:++i,++n.line,n.lineStart=i;continue;case 35:return j8(n,i);case 33:return bt(n,j.BANG,i,i+1);case 36:return bt(n,j.DOLLAR,i,i+1);case 38:return bt(n,j.AMP,i,i+1);case 40:return bt(n,j.PAREN_L,i,i+1);case 41:return bt(n,j.PAREN_R,i,i+1);case 46:if(t.charCodeAt(i+1)===46&&t.charCodeAt(i+2)===46)return bt(n,j.SPREAD,i,i+3);break;case 58:return bt(n,j.COLON,i,i+1);case 61:return bt(n,j.EQUALS,i,i+1);case 64:return bt(n,j.AT,i,i+1);case 91:return bt(n,j.BRACKET_L,i,i+1);case 93:return bt(n,j.BRACKET_R,i,i+1);case 123:return bt(n,j.BRACE_L,i,i+1);case 124:return bt(n,j.PIPE,i,i+1);case 125:return bt(n,j.BRACE_R,i,i+1);case 34:return t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34?H8(n,i):U8(n,i)}if(Tc(o)||o===45)return B8(n,i,o);if(g0(o))return G8(n,i);throw wt(n.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Cc(o)||Im(t,i)?`Unexpected character: ${qs(n,i)}.`:`Invalid character: ${qs(n,i)}.`)}return bt(n,j.EOF,r,r)}function j8(n,e){let t=n.source.body,r=t.length,i=e+1;for(;i<r;){let o=t.charCodeAt(i);if(o===10||o===13)break;if(Cc(o))++i;else if(Im(t,i))i+=2;else break}return bt(n,j.COMMENT,e,i,t.slice(e+1,i))}function B8(n,e,t){let r=n.source.body,i=e,o=t,s=!1;if(o===45&&(o=r.charCodeAt(++i)),o===48){if(o=r.charCodeAt(++i),Tc(o))throw wt(n.source,i,`Invalid number, unexpected digit after 0: ${qs(n,i)}.`)}else i=y0(n,i,o),o=r.charCodeAt(i);if(o===46&&(s=!0,o=r.charCodeAt(++i),i=y0(n,i,o),o=r.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=r.charCodeAt(++i),(o===43||o===45)&&(o=r.charCodeAt(++i)),i=y0(n,i,o),o=r.charCodeAt(i)),o===46||g0(o))throw wt(n.source,i,`Invalid number, expected digit but got: ${qs(n,i)}.`);return bt(n,s?j.FLOAT:j.INT,e,i,r.slice(e,i))}function y0(n,e,t){if(!Tc(t))throw wt(n.source,e,`Invalid number, expected digit but got: ${qs(n,e)}.`);let r=n.source.body,i=e+1;for(;Tc(r.charCodeAt(i));)++i;return i}function U8(n,e){let t=n.source.body,r=t.length,i=e+1,o=i,s="";for(;i<r;){let a=t.charCodeAt(i);if(a===34)return s+=t.slice(o,i),bt(n,j.STRING,e,i+1,s);if(a===92){s+=t.slice(o,i);let c=t.charCodeAt(i+1)===117?t.charCodeAt(i+2)===123?$8(n,i):z8(n,i):q8(n,i);s+=c.value,i+=c.size,o=i;continue}if(a===10||a===13)break;if(Cc(a))++i;else if(Im(t,i))i+=2;else throw wt(n.source,i,`Invalid character within String: ${qs(n,i)}.`)}throw wt(n.source,i,"Unterminated string.")}function $8(n,e){let t=n.source.body,r=0,i=3;for(;i<12;){let o=t.charCodeAt(e+i++);if(o===125){if(i<5||!Cc(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|ju(o),r<0)break}throw wt(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+i)}".`)}function z8(n,e){let t=n.source.body,r=Yk(t,e+2);if(Cc(r))return{value:String.fromCodePoint(r),size:6};if(Jk(r)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){let i=Yk(t,e+8);if(Xk(i))return{value:String.fromCodePoint(r,i),size:12}}throw wt(n.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function Yk(n,e){return ju(n.charCodeAt(e))<<12|ju(n.charCodeAt(e+1))<<8|ju(n.charCodeAt(e+2))<<4|ju(n.charCodeAt(e+3))}function ju(n){return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:-1}function q8(n,e){let t=n.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw wt(n.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function H8(n,e){let t=n.source.body,r=t.length,i=n.lineStart,o=e+3,s=o,a="",c=[];for(;o<r;){let u=t.charCodeAt(o);if(u===34&&t.charCodeAt(o+1)===34&&t.charCodeAt(o+2)===34){a+=t.slice(s,o),c.push(a);let d=bt(n,j.BLOCK_STRING,e,o+3,Qk(c).join(`
`));return n.line+=c.length-1,n.lineStart=i,d}if(u===92&&t.charCodeAt(o+1)===34&&t.charCodeAt(o+2)===34&&t.charCodeAt(o+3)===34){a+=t.slice(s,o),s=o+1,o+=4;continue}if(u===10||u===13){a+=t.slice(s,o),c.push(a),u===13&&t.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(Cc(u))++o;else if(Im(t,o))o+=2;else throw wt(n.source,o,`Invalid character within String: ${qs(n,o)}.`)}throw wt(n.source,o,"Unterminated string.")}function G8(n,e){let t=n.source.body,r=t.length,i=e+1;for(;i<r;){let o=t.charCodeAt(i);if(Wk(o))++i;else break}return bt(n,j.NAME,e,i,t.slice(e,i))}function Dc(n){return Tm(n,[])}function Tm(n,e){switch(typeof n){case"string":return JSON.stringify(n);case"function":return n.name?`[function ${n.name}]`:"[function]";case"object":return W8(n,e);default:return String(n)}}function W8(n,e){if(n===null)return"null";if(e.includes(n))return"[Circular]";let t=[...e,n];if(Q8(n)){let r=n.toJSON();if(r!==n)return typeof r=="string"?r:Tm(r,t)}else if(Array.isArray(n))return Y8(n,t);return K8(n,t)}function Q8(n){return typeof n.toJSON=="function"}function K8(n,e){let t=Object.entries(n);return t.length===0?"{}":e.length>2?"["+Z8(n)+"]":"{ "+t.map(([i,o])=>i+": "+Tm(o,e)).join(", ")+" }"}function Y8(n,e){if(n.length===0)return"[]";if(e.length>2)return"[Array]";let t=Math.min(10,n.length),r=n.length-t,i=[];for(let o=0;o<t;++o)i.push(Tm(n[o],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function Z8(n){let e=Object.prototype.toString.call(n).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof n.constructor=="function"){let t=n.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}var J8=globalThis.process&&!0,eO=J8?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var r;let i=t.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(r=e.constructor)===null||r===void 0?void 0:r.name;if(i===o){let s=Dc(e);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var Sc=class{constructor(e,t="GraphQL request",r={line:1,column:1}){typeof e=="string"||wc(!1,`Body must be a string. Received: ${Dc(e)}.`),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||wc(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||wc(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function tO(n){return eO(n,Sc)}function Dm(n,e){let t=new v0(n,e),r=t.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:t.tokenCount}),r}var v0=class{constructor(e,t={}){let r=tO(e)?e:new Sc(e);this._lexer=new Bu(r),this._options=t,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){let e=this.expectToken(j.NAME);return this.node(e,{kind:Y.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Y.DOCUMENT,definitions:this.many(j.SOF,this.parseDefinition,j.EOF)})}parseDefinition(){if(this.peek(j.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===j.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw wt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(j.BRACE_L))return this.node(e,{kind:Y.OPERATION_DEFINITION,operation:zs.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let t=this.parseOperationType(),r;return this.peek(j.NAME)&&(r=this.parseName()),this.node(e,{kind:Y.OPERATION_DEFINITION,operation:t,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(j.NAME);switch(e.value){case"query":return zs.QUERY;case"mutation":return zs.MUTATION;case"subscription":return zs.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(j.PAREN_L,this.parseVariableDefinition,j.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Y.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(j.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(j.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(j.DOLLAR),this.node(e,{kind:Y.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Y.SELECTION_SET,selections:this.many(j.BRACE_L,this.parseSelection,j.BRACE_R)})}parseSelection(){return this.peek(j.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,t=this.parseName(),r,i;return this.expectOptionalToken(j.COLON)?(r=t,i=this.parseName()):i=t,this.node(e,{kind:Y.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(j.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(j.PAREN_L,t,j.PAREN_R)}parseArgument(e=!1){let t=this._lexer.token,r=this.parseName();return this.expectToken(j.COLON),this.node(t,{kind:Y.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(j.SPREAD);let t=this.expectOptionalKeyword("on");return!t&&this.peek(j.NAME)?this.node(e,{kind:Y.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Y.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:Y.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:Y.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let t=this._lexer.token;switch(t.kind){case j.BRACKET_L:return this.parseList(e);case j.BRACE_L:return this.parseObject(e);case j.INT:return this.advanceLexer(),this.node(t,{kind:Y.INT,value:t.value});case j.FLOAT:return this.advanceLexer(),this.node(t,{kind:Y.FLOAT,value:t.value});case j.STRING:case j.BLOCK_STRING:return this.parseStringLiteral();case j.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:Y.BOOLEAN,value:!0});case"false":return this.node(t,{kind:Y.BOOLEAN,value:!1});case"null":return this.node(t,{kind:Y.NULL});default:return this.node(t,{kind:Y.ENUM,value:t.value})}case j.DOLLAR:if(e)if(this.expectToken(j.DOLLAR),this._lexer.token.kind===j.NAME){let r=this._lexer.token.value;throw wt(this._lexer.source,t.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:Y.STRING,value:e.value,block:e.kind===j.BLOCK_STRING})}parseList(e){let t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Y.LIST,values:this.any(j.BRACKET_L,t,j.BRACKET_R)})}parseObject(e){let t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Y.OBJECT,fields:this.any(j.BRACE_L,t,j.BRACE_R)})}parseObjectField(e){let t=this._lexer.token,r=this.parseName();return this.expectToken(j.COLON),this.node(t,{kind:Y.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){let t=[];for(;this.peek(j.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let t=this._lexer.token;return this.expectToken(j.AT),this.node(t,{kind:Y.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,t;if(this.expectOptionalToken(j.BRACKET_L)){let r=this.parseTypeReference();this.expectToken(j.BRACKET_R),t=this.node(e,{kind:Y.LIST_TYPE,type:r})}else t=this.parseNamedType();return this.expectOptionalToken(j.BANG)?this.node(e,{kind:Y.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:Y.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(j.STRING)||this.peek(j.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");let r=this.parseConstDirectives(),i=this.many(j.BRACE_L,this.parseOperationTypeDefinition,j.BRACE_R);return this.node(e,{kind:Y.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:i})}parseOperationTypeDefinition(){let e=this._lexer.token,t=this.parseOperationType();this.expectToken(j.COLON);let r=this.parseNamedType();return this.node(e,{kind:Y.OPERATION_TYPE_DEFINITION,operation:t,type:r})}parseScalarTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");let r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:Y.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:i})}parseObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");let r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:Y.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(j.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(j.BRACE_L,this.parseFieldDefinition,j.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(j.COLON);let o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:Y.FIELD_DEFINITION,description:t,name:r,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(j.PAREN_L,this.parseInputValueDef,j.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(j.COLON);let i=this.parseTypeReference(),o;this.expectOptionalToken(j.EQUALS)&&(o=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(e,{kind:Y.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");let r=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:Y.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:Y.UNION_TYPE_DEFINITION,description:t,name:r,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(j.EQUALS)?this.delimitedMany(j.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:Y.ENUM_TYPE_DEFINITION,description:t,name:r,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(j.BRACE_L,this.parseEnumValueDefinition,j.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,t=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:Y.ENUM_VALUE_DEFINITION,description:t,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw wt(this._lexer.source,this._lexer.token.start,`${Cm(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");let r=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:Y.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(j.BRACE_L,this.parseInputValueDef,j.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===j.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let t=this.parseConstDirectives(),r=this.optionalMany(j.BRACE_L,this.parseOperationTypeDefinition,j.BRACE_R);if(t.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:Y.SCHEMA_EXTENSION,directives:t,operationTypes:r})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let t=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:Y.SCALAR_TYPE_EXTENSION,name:t,directives:r})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:Y.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:o})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let t=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:Y.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:i,fields:o})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Y.UNION_TYPE_EXTENSION,name:t,directives:r,types:i})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Y.ENUM_TYPE_EXTENSION,name:t,directives:r,values:i})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let t=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Y.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:i})}parseDirectiveDefinition(){let e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(j.AT);let r=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:Y.DIRECTIVE_DEFINITION,description:t,name:r,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(j.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(wm,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new Vu(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){let t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw wt(this._lexer.source,t.start,`Expected ${nO(e)}, found ${Cm(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let t=this._lexer.token;if(t.kind===j.NAME&&t.value===e)this.advanceLexer();else throw wt(this._lexer.source,t.start,`Expected "${e}", found ${Cm(t)}.`)}expectOptionalKeyword(e){let t=this._lexer.token;return t.kind===j.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let t=e??this._lexer.token;return wt(this._lexer.source,t.start,`Unexpected ${Cm(t)}.`)}any(e,t,r){this.expectToken(e);let i=[];for(;!this.expectOptionalToken(r);)i.push(t.call(this));return i}optionalMany(e,t,r){if(this.expectOptionalToken(e)){let i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,t,r){this.expectToken(e);let i=[];do i.push(t.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,t){this.expectOptionalToken(e);let r=[];do r.push(t.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){let{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==j.EOF&&(++this._tokenCounter,e!==void 0&&this._tokenCounter>e))throw wt(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function Cm(n){let e=n.value;return nO(n.kind)+(e!=null?` "${e}"`:"")}function nO(n){return Zk(n)?`"${n}"`:n}function rO(n){return`"${n.replace(X8,e9)}"`}var X8=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function e9(n){return t9[n.charCodeAt(0)]}var t9=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var zi=Object.freeze({});function Mt(n,e,t=p0){let r=new Map;for(let b of Object.values(Y))r.set(b,_0(e,b));let i,o=Array.isArray(n),s=[n],a=-1,c=[],u=n,d,f,p=[],m=[];do{a++;let b=a===s.length,k=b&&c.length!==0;if(b){if(d=m.length===0?void 0:p[p.length-1],u=f,f=m.pop(),k)if(o){u=u.slice();let V=0;for(let[U,q]of c){let C=U-V;q===null?(u.splice(C,1),V++):u[C]=q}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(let[V,U]of c)u[V]=U}a=i.index,s=i.keys,c=i.edits,o=i.inArray,i=i.prev}else if(f){if(d=o?a:s[a],u=f[d],u==null)continue;p.push(d)}let x;if(!Array.isArray(u)){var y,_;m0(u)||wc(!1,`Invalid AST Node: ${Dc(u)}.`);let V=b?(y=r.get(u.kind))===null||y===void 0?void 0:y.leave:(_=r.get(u.kind))===null||_===void 0?void 0:_.enter;if(x=V?.call(e,u,d,f,p,m),x===zi)break;if(x===!1){if(!b){p.pop();continue}}else if(x!==void 0&&(c.push([d,x]),!b))if(m0(x))u=x;else{p.pop();continue}}if(x===void 0&&k&&c.push([d,u]),b)p.pop();else{var w;i={inArray:o,index:a,keys:s,edits:c,prev:i},o=Array.isArray(u),s=o?u:(w=t[u.kind])!==null&&w!==void 0?w:[],a=-1,c=[],f&&m.push(f),f=u}}while(i!==void 0);return c.length!==0?c[c.length-1][1]:n}function _0(n,e){let t=n[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:n.enter,leave:n.leave}}function Ac(n){return Mt(n,r9)}var n9=80,r9={Name:{leave:n=>n.value},Variable:{leave:n=>"$"+n.name},Document:{leave:n=>re(n.definitions,`

`)},OperationDefinition:{leave(n){let e=Re("(",re(n.variableDefinitions,", "),")"),t=re([n.operation,re([n.name,e]),re(n.directives," ")]," ");return(t==="query"?"":t+" ")+n.selectionSet}},VariableDefinition:{leave:({variable:n,type:e,defaultValue:t,directives:r})=>n+": "+e+Re(" = ",t)+Re(" ",re(r," "))},SelectionSet:{leave:({selections:n})=>Ir(n)},Field:{leave({alias:n,name:e,arguments:t,directives:r,selectionSet:i}){let o=Re("",n,": ")+e,s=o+Re("(",re(t,", "),")");return s.length>n9&&(s=o+Re(`(
`,Sm(re(t,`
`)),`
)`)),re([s,re(r," "),i]," ")}},Argument:{leave:({name:n,value:e})=>n+": "+e},FragmentSpread:{leave:({name:n,directives:e})=>"..."+n+Re(" ",re(e," "))},InlineFragment:{leave:({typeCondition:n,directives:e,selectionSet:t})=>re(["...",Re("on ",n),re(e," "),t]," ")},FragmentDefinition:{leave:({name:n,typeCondition:e,variableDefinitions:t,directives:r,selectionSet:i})=>`fragment ${n}${Re("(",re(t,", "),")")} on ${e} ${Re("",re(r," ")," ")}`+i},IntValue:{leave:({value:n})=>n},FloatValue:{leave:({value:n})=>n},StringValue:{leave:({value:n,block:e})=>e?Kk(n):rO(n)},BooleanValue:{leave:({value:n})=>n?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:n})=>n},ListValue:{leave:({values:n})=>"["+re(n,", ")+"]"},ObjectValue:{leave:({fields:n})=>"{"+re(n,", ")+"}"},ObjectField:{leave:({name:n,value:e})=>n+": "+e},Directive:{leave:({name:n,arguments:e})=>"@"+n+Re("(",re(e,", "),")")},NamedType:{leave:({name:n})=>n},ListType:{leave:({type:n})=>"["+n+"]"},NonNullType:{leave:({type:n})=>n+"!"},SchemaDefinition:{leave:({description:n,directives:e,operationTypes:t})=>Re("",n,`
`)+re(["schema",re(e," "),Ir(t)]," ")},OperationTypeDefinition:{leave:({operation:n,type:e})=>n+": "+e},ScalarTypeDefinition:{leave:({description:n,name:e,directives:t})=>Re("",n,`
`)+re(["scalar",e,re(t," ")]," ")},ObjectTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>Re("",n,`
`)+re(["type",e,Re("implements ",re(t," & ")),re(r," "),Ir(i)]," ")},FieldDefinition:{leave:({description:n,name:e,arguments:t,type:r,directives:i})=>Re("",n,`
`)+e+(iO(t)?Re(`(
`,Sm(re(t,`
`)),`
)`):Re("(",re(t,", "),")"))+": "+r+Re(" ",re(i," "))},InputValueDefinition:{leave:({description:n,name:e,type:t,defaultValue:r,directives:i})=>Re("",n,`
`)+re([e+": "+t,Re("= ",r),re(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:n,name:e,interfaces:t,directives:r,fields:i})=>Re("",n,`
`)+re(["interface",e,Re("implements ",re(t," & ")),re(r," "),Ir(i)]," ")},UnionTypeDefinition:{leave:({description:n,name:e,directives:t,types:r})=>Re("",n,`
`)+re(["union",e,re(t," "),Re("= ",re(r," | "))]," ")},EnumTypeDefinition:{leave:({description:n,name:e,directives:t,values:r})=>Re("",n,`
`)+re(["enum",e,re(t," "),Ir(r)]," ")},EnumValueDefinition:{leave:({description:n,name:e,directives:t})=>Re("",n,`
`)+re([e,re(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:n,name:e,directives:t,fields:r})=>Re("",n,`
`)+re(["input",e,re(t," "),Ir(r)]," ")},DirectiveDefinition:{leave:({description:n,name:e,arguments:t,repeatable:r,locations:i})=>Re("",n,`
`)+"directive @"+e+(iO(t)?Re(`(
`,Sm(re(t,`
`)),`
)`):Re("(",re(t,", "),")"))+(r?" repeatable":"")+" on "+re(i," | ")},SchemaExtension:{leave:({directives:n,operationTypes:e})=>re(["extend schema",re(n," "),Ir(e)]," ")},ScalarTypeExtension:{leave:({name:n,directives:e})=>re(["extend scalar",n,re(e," ")]," ")},ObjectTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>re(["extend type",n,Re("implements ",re(e," & ")),re(t," "),Ir(r)]," ")},InterfaceTypeExtension:{leave:({name:n,interfaces:e,directives:t,fields:r})=>re(["extend interface",n,Re("implements ",re(e," & ")),re(t," "),Ir(r)]," ")},UnionTypeExtension:{leave:({name:n,directives:e,types:t})=>re(["extend union",n,re(e," "),Re("= ",re(t," | "))]," ")},EnumTypeExtension:{leave:({name:n,directives:e,values:t})=>re(["extend enum",n,re(e," "),Ir(t)]," ")},InputObjectTypeExtension:{leave:({name:n,directives:e,fields:t})=>re(["extend input",n,re(e," "),Ir(t)]," ")}};function re(n,e=""){var t;return(t=n?.filter(r=>r).join(e))!==null&&t!==void 0?t:""}function Ir(n){return Re(`{
`,Sm(re(n,`
`)),`
}`)}function Re(n,e,t=""){return e!=null&&e!==""?n+e+t:""}function Sm(n){return Re("  ",n.replace(/\n/g,`
  `))}function iO(n){var e;return(e=n?.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function Uu(n){return n.kind===Y.FIELD||n.kind===Y.FRAGMENT_SPREAD||n.kind===Y.INLINE_FRAGMENT}function Tr(n,e){var t=n.directives;return!t||!t.length?!0:oO(t).every(function(r){var i=r.directive,o=r.ifArgument,s=!1;return o.value.kind==="Variable"?(s=e&&e[o.value.name.value],K(s!==void 0,78,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function qi(n,e,t){var r=new Set(n),i=r.size;return Mt(e,{Directive:function(o){if(r.delete(o.name.value)&&(!t||!r.size))return zi}}),t?!r.size:r.size<i}function E0(n){return n&&qi(["client","export"],n,!0)}function v9(n){var e=n.name.value;return e==="skip"||e==="include"}function oO(n){var e=[];return n&&n.length&&n.forEach(function(t){if(v9(t)){var r=t.arguments,i=t.name.value;K(r&&r.length===1,79,i);var o=r[0];K(o.name&&o.name.value==="if",80,i);var s=o.value;K(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),81,i),e.push({directive:t,ifArgument:o})}}),e}function w0(n){var e,t,r=(e=n.directives)===null||e===void 0?void 0:e.find(function(o){var s=o.name;return s.value==="unmask"});if(!r)return"mask";var i=(t=r.arguments)===null||t===void 0?void 0:t.find(function(o){var s=o.name;return s.value==="mode"});return globalThis.__DEV__!==!1&&i&&(i.value.kind===Y.VARIABLE?globalThis.__DEV__!==!1&&K.warn(82):i.value.kind!==Y.STRING?globalThis.__DEV__!==!1&&K.warn(83):i.value.value!=="migrate"&&globalThis.__DEV__!==!1&&K.warn(84,i.value.value)),i&&"value"in i.value&&i.value.value==="migrate"?"migrate":"unmask"}var _9=()=>Object.create(null),{forEach:E9,slice:sO}=Array.prototype,{hasOwnProperty:w9}=Object.prototype,hn=class n{constructor(e=!0,t=_9){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return E9.call(e,r=>t=t.getChildTrie(r)),w9.call(t,"data")?t.data:t.data=this.makeData(sO.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let r=0,i=e.length;t&&r<i;++r){let o=t.mapFor(e[r],!1);t=o&&o.get(e[r])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){let r=e[0],i=this.mapFor(r,!1),o=i&&i.get(r);o&&(t=o.removeArray(sO.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(r))}else t=this.data,delete this.data;return t}getChildTrie(e){let t=this.mapFor(e,!0),r=t.get(e);return r||t.set(e,r=new n(this.weakness,this.makeData)),r}mapFor(e,t){return this.weakness&&b9(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}};function b9(n){switch(typeof n){case"object":if(n===null)break;case"function":return!0}return!1}var I9=tn(function(){return navigator.product})=="ReactNative",Un=typeof WeakMap=="function"&&!(I9&&!global.HermesInternal),xc=typeof WeakSet=="function",b0=typeof Symbol=="function"&&typeof Symbol.for=="function",No=b0&&Symbol.asyncIterator,yhe=typeof tn(function(){return window.document.createElement})=="function",vhe=tn(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function ke(n){return n!==null&&typeof n=="object"}function I0(n,e){var t=e,r=[];n.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw Ze(85,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&r.push(o)}),typeof t>"u"&&(K(r.length===1,86,r.length),t=r[0].name.value);var i=A(A({},n),{definitions:ht([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],n.definitions,!0)});return i}function $n(n){n===void 0&&(n=[]);var e={};return n.forEach(function(t){e[t.name.value]=t}),e}function Hi(n,e){switch(n.kind){case"InlineFragment":return n;case"FragmentSpread":{var t=n.name.value;if(typeof e=="function")return e(t);var r=e&&e[t];return K(r,87,t),r||null}default:return null}}function T0(n){var e=!0;return Mt(n,{FragmentSpread:function(t){if(e=!!t.directives&&t.directives.some(function(r){return r.name.value==="unmask"}),!e)return zi}}),e}function T9(){}var Fo=class{constructor(e=1/0,t=T9){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:r,newer:i}=t;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}};function C0(){}var C9=C0,D9=typeof WeakRef<"u"?WeakRef:function(n){return{deref:()=>n}},S9=typeof WeakMap<"u"?WeakMap:Map,A9=typeof FinalizationRegistry<"u"?FinalizationRegistry:function(){return{register:C0,unregister:C0}},x9=10024,ni=class{constructor(e=1/0,t=C9){this.max=e,this.dispose=t,this.map=new S9,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{let r=this.unfinalizedNodes.values();for(let i=0;i<x9;i++){let o=r.next().value;if(!o)break;this.unfinalizedNodes.delete(o);let s=o.key;delete o.key,o.keyRef=new D9(s),this.registry.register(s,o,o)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new A9(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){let t=this.getNode(e);return t&&t.value}getNode(e){let t=this.map.get(e);if(t&&t!==this.newest){let{older:r,newer:i}=t;i&&(i.older=r),r&&(r.newer=i),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=i)}return t}set(e,t){let r=this.getNode(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.scheduleFinalization(r),this.map.set(e,r),this.size++,r.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;let t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){let t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}};var D0=new WeakSet;function aO(n){n.size<=(n.max||-1)||D0.has(n)||(D0.add(n),setTimeout(function(){n.clean(),D0.delete(n)},100))}var Rc=function(n,e){var t=new ni(n,e);return t.set=function(r,i){var o=ni.prototype.set.call(this,r,i);return aO(this),o},t},Am=function(n,e){var t=new Fo(n,e);return t.set=function(r,i){var o=Fo.prototype.set.call(this,r,i);return aO(this),o},t};var R9=Symbol.for("apollo.cacheSize"),Pt=A({},Ec[R9]);var Hs={};function xm(n,e){Hs[n]=e}var cO=globalThis.__DEV__!==!1?P9:void 0,lO=globalThis.__DEV__!==!1?k9:void 0,uO=globalThis.__DEV__!==!1?dO:void 0;function M9(){var n={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(n).map(function(e){var t=e[0],r=e[1];return[t,Pt[t]||r]}))}function P9(){var n,e,t,r,i;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:M9(),sizes:A({print:(n=Hs.print)===null||n===void 0?void 0:n.call(Hs),parser:(e=Hs.parser)===null||e===void 0?void 0:e.call(Hs),canonicalStringify:(t=Hs.canonicalStringify)===null||t===void 0?void 0:t.call(Hs),links:A0(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:fO(this.queryManager.documentTransform)}},(i=(r=this.cache).getMemoryInternals)===null||i===void 0?void 0:i.call(r))}}function dO(){return{cache:{fragmentQueryDocuments:Lo(this.getFragmentDoc)}}}function k9(){var n=this.config.fragments;return A(A({},dO.apply(this)),{addTypenameDocumentTransform:fO(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Lo(this.storeReader.executeSelectionSet),executeSubSelectedArray:Lo(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Lo(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Lo(n?.findFragmentSpreads),lookup:Lo(n?.lookup),transform:Lo(n?.transform)}})}function O9(n){return!!n&&"dirtyKey"in n}function Lo(n){return O9(n)?n.size:void 0}function hO(n){return n!=null}function fO(n){return S0(n).map(function(e){return{cache:e}})}function S0(n){return n?ht(ht([Lo(n?.performWork)],S0(n?.left),!0),S0(n?.right),!0).filter(hO):[]}function A0(n){var e;return n?ht(ht([(e=n?.getMemoryInternals)===null||e===void 0?void 0:e.call(n)],A0(n?.left),!0),A0(n?.right),!0).filter(hO):[]}var fn=Object.assign(function(e){return JSON.stringify(e,N9)},{reset:function(){Mc=new Am(Pt.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&xm("canonicalStringify",function(){return Mc.size});var Mc;fn.reset();function N9(n,e){if(e&&typeof e=="object"){var t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){var r=Object.keys(e);if(r.every(F9))return e;var i=JSON.stringify(r),o=Mc.get(i);if(!o){r.sort();var s=JSON.stringify(r);o=Mc.get(s)||r,Mc.set(i,o),Mc.set(s,o)}var a=Object.create(t);return o.forEach(function(c){a[c]=e[c]}),a}}return e}function F9(n,e,t){return e===0||t[e-1]<=n}function sr(n){return{__ref:String(n)}}function De(n){return!!(n&&typeof n=="object"&&typeof n.__ref=="string")}function x0(n){return ke(n)&&n.kind==="Document"&&Array.isArray(n.definitions)}function L9(n){return n.kind==="StringValue"}function V9(n){return n.kind==="BooleanValue"}function j9(n){return n.kind==="IntValue"}function B9(n){return n.kind==="FloatValue"}function U9(n){return n.kind==="Variable"}function $9(n){return n.kind==="ObjectValue"}function z9(n){return n.kind==="ListValue"}function q9(n){return n.kind==="EnumValue"}function H9(n){return n.kind==="NullValue"}function Vo(n,e,t,r){if(j9(t)||B9(t))n[e.value]=Number(t.value);else if(V9(t)||L9(t))n[e.value]=t.value;else if($9(t)){var i={};t.fields.map(function(s){return Vo(i,s.name,s.value,r)}),n[e.value]=i}else if(U9(t)){var o=(r||{})[t.name.value];n[e.value]=o}else if(z9(t))n[e.value]=t.values.map(function(s){var a={};return Vo(a,e,s,r),a[e.value]});else if(q9(t))n[e.value]=t.value;else if(H9(t))n[e.value]=null;else throw Ze(96,e.value,t.kind)}function R0(n,e){var t=null;n.directives&&(t={},n.directives.forEach(function(i){t[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return Vo(t[i.name.value],s,a,e)})}));var r=null;return n.arguments&&n.arguments.length&&(r={},n.arguments.forEach(function(i){var o=i.name,s=i.value;return Vo(r,o,s,e)})),Rm(n.name.value,r,t)}var G9=["connection","include","skip","client","rest","export","nonreactive"],$u=fn,Rm=Object.assign(function(n,e,t){if(e&&t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var r=t.connection.filter?t.connection.filter:[];r.sort();var i={};return r.forEach(function(a){i[a]=e[a]}),"".concat(t.connection.key,"(").concat($u(i),")")}else return t.connection.key;var o=n;if(e){var s=$u(e);o+="(".concat(s,")")}return t&&Object.keys(t).forEach(function(a){G9.indexOf(a)===-1&&(t[a]&&Object.keys(t[a]).length?o+="@".concat(a,"(").concat($u(t[a]),")"):o+="@".concat(a))}),o},{setStringify:function(n){var e=$u;return $u=n,e}});function Gi(n,e){if(n.arguments&&n.arguments.length){var t={};return n.arguments.forEach(function(r){var i=r.name,o=r.value;return Vo(t,i,o,e)}),t}return null}function nn(n){return n.alias?n.alias.value:n.name.value}function zu(n,e,t){for(var r,i=0,o=e.selections;i<o.length;i++){var s=o[i];if(pn(s)){if(s.name.value==="__typename")return n[nn(s)]}else r?r.push(s):r=[s]}if(typeof n.__typename=="string")return n.__typename;if(r)for(var a=0,c=r;a<c.length;a++){var s=c[a],u=zu(n,Hi(s,t).selectionSet,t);if(typeof u=="string")return u}}function pn(n){return n.kind==="Field"}function M0(n){return n.kind==="InlineFragment"}function Wi(n){K(n&&n.kind==="Document",88);var e=n.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw Ze(89,t.kind);return t});return K(e.length<=1,90,e.length),n}function zn(n){return Wi(n),n.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function jo(n){return n.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function qn(n){return n.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function qu(n){var e=zn(n);return K(e&&e.operation==="query",91),e}function Hu(n){K(n.kind==="Document",92),K(n.definitions.length<=1,93);var e=n.definitions[0];return K(e.kind==="FragmentDefinition",94),e}function Cr(n){Wi(n);for(var e,t=0,r=n.definitions;t<r.length;t++){var i=r[t];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw Ze(95)}function Gs(n){var e=Object.create(null),t=n&&n.variableDefinitions;return t&&t.length&&t.forEach(function(r){r.defaultValue&&Vo(e,r.variable.name,r.defaultValue)}),e}var $t=null,pO={},W9=1,Q9=()=>class{constructor(){this.id=["slot",W9++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=$t;e;e=e.parent)if(this.id in e.slots){let t=e.slots[this.id];if(t===pO)break;return e!==$t&&($t.slots[this.id]=t),!0}return $t&&($t.slots[this.id]=pO),!1}getValue(){if(this.hasValue())return $t.slots[this.id]}withValue(e,t,r,i){let o={__proto__:null,[this.id]:e},s=$t;$t={parent:s,slots:o};try{return t.apply(i,r)}finally{$t=s}}static bind(e){let t=$t;return function(){let r=$t;try{return $t=t,e.apply(this,arguments)}finally{$t=r}}}static noContext(e,t,r){if($t){let i=$t;try{return $t=null,e.apply(r,t)}finally{$t=i}}else return e.apply(r,t)}};function mO(n){try{return n()}catch{}}var P0="@wry/context:Slot",K9=mO(()=>globalThis)||mO(()=>global)||Object.create(null),gO=K9,Qi=gO[P0]||Array[P0]||function(n){try{Object.defineProperty(gO,P0,{value:n,enumerable:!1,writable:!1,configurable:!0})}finally{return n}}(Q9());var{bind:yO,noContext:vO}=Qi;var Ws=new Qi;var{hasOwnProperty:_O}=Object.prototype,Gu=Array.from||function(n){let e=[];return n.forEach(t=>e.push(t)),e};function Pc(n){let{unsubscribe:e}=n;typeof e=="function"&&(n.unsubscribe=void 0,e())}var Wu=[],J9=100;function kc(n,e){if(!n)throw new Error(e||"assertion failure")}function wO(n,e){let t=n.length;return t>0&&t===e.length&&n[t-1]===e[t-1]}function bO(n){switch(n.length){case 0:throw new Error("unknown value");case 1:return n[0];case 2:throw n[1]}}function IO(n){return n.slice(0)}var TO=(()=>{class n{constructor(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++n.count}peek(){if(this.value.length===1&&!Bo(this))return EO(this),this.value[0]}recompute(t){return kc(!this.recomputing,"already recomputing"),EO(this),Bo(this)?X9(this,t):bO(this.value)}setDirty(){this.dirty||(this.dirty=!0,CO(this),Pc(this))}dispose(){this.setDirty(),RO(this),k0(this,(t,r)=>{t.setDirty(),MO(t,this)})}forget(){this.dispose()}dependOn(t){t.add(this),this.deps||(this.deps=Wu.pop()||new Set),this.deps.add(t)}forgetDeps(){this.deps&&(Gu(this.deps).forEach(t=>t.delete(this)),this.deps.clear(),Wu.push(this.deps),this.deps=null)}}return n.count=0,n})();function EO(n){let e=Ws.getValue();if(e)return n.parents.add(e),e.childValues.has(n)||e.childValues.set(n,[]),Bo(n)?SO(e,n):AO(e,n),e}function X9(n,e){return RO(n),Ws.withValue(n,eQ,[n,e]),nQ(n,e)&&tQ(n),bO(n.value)}function eQ(n,e){n.recomputing=!0;let{normalizeResult:t}=n,r;t&&n.value.length===1&&(r=IO(n.value)),n.value.length=0;try{if(n.value[0]=n.fn.apply(null,e),t&&r&&!wO(r,n.value))try{n.value[0]=t(n.value[0],r[0])}catch{}}catch(i){n.value[1]=i}n.recomputing=!1}function Bo(n){return n.dirty||!!(n.dirtyChildren&&n.dirtyChildren.size)}function tQ(n){n.dirty=!1,!Bo(n)&&DO(n)}function CO(n){k0(n,SO)}function DO(n){k0(n,AO)}function k0(n,e){let t=n.parents.size;if(t){let r=Gu(n.parents);for(let i=0;i<t;++i)e(r[i],n)}}function SO(n,e){kc(n.childValues.has(e)),kc(Bo(e));let t=!Bo(n);if(!n.dirtyChildren)n.dirtyChildren=Wu.pop()||new Set;else if(n.dirtyChildren.has(e))return;n.dirtyChildren.add(e),t&&CO(n)}function AO(n,e){kc(n.childValues.has(e)),kc(!Bo(e));let t=n.childValues.get(e);t.length===0?n.childValues.set(e,IO(e.value)):wO(t,e.value)||n.setDirty(),xO(n,e),!Bo(n)&&DO(n)}function xO(n,e){let t=n.dirtyChildren;t&&(t.delete(e),t.size===0&&(Wu.length<J9&&Wu.push(t),n.dirtyChildren=null))}function RO(n){n.childValues.size>0&&n.childValues.forEach((e,t)=>{MO(n,t)}),n.forgetDeps(),kc(n.dirtyChildren===null)}function MO(n,e){e.parents.delete(n),n.childValues.delete(e),xO(n,e)}function nQ(n,e){if(typeof n.subscribe=="function")try{Pc(n),n.unsubscribe=n.subscribe.apply(null,e)}catch{return n.setDirty(),!1}return!0}var rQ={setDirty:!0,dispose:!0,forget:!0};function Qu(n){let e=new Map,t=n&&n.subscribe;function r(i){let o=Ws.getValue();if(o){let s=e.get(i);s||e.set(i,s=new Set),o.dependOn(s),typeof t=="function"&&(Pc(s),s.unsubscribe=t(i))}}return r.dirty=function(o,s){let a=e.get(o);if(a){let c=s&&_O.call(rQ,s)?s:"setDirty";Gu(a).forEach(u=>u[c]()),e.delete(o),Pc(a)}},r}var PO;function iQ(...n){return(PO||(PO=new hn(typeof WeakMap=="function"))).lookupArray(n)}var O0=new Set;function Ki(n,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:r=iQ,normalizeResult:i,subscribe:o,cache:s=Fo}=Object.create(null)){let a=typeof s=="function"?new s(e,p=>p.dispose()):s,c=function(){let p=r.apply(null,t?t.apply(null,arguments):arguments);if(p===void 0)return n.apply(null,arguments);let m=a.get(p);m||(a.set(p,m=new TO(n)),m.normalizeResult=i,m.subscribe=o,m.forget=()=>a.delete(p));let y=m.recompute(Array.prototype.slice.call(arguments));return a.set(p,m),O0.add(a),Ws.hasValue()||(O0.forEach(_=>_.clean()),O0.clear()),y};Object.defineProperty(c,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(c.options={max:e,keyArgs:t,makeCacheKey:r,normalizeResult:i,subscribe:o,cache:a});function u(p){let m=p&&a.get(p);m&&m.setDirty()}c.dirtyKey=u,c.dirty=function(){u(r.apply(null,arguments))};function d(p){let m=p&&a.get(p);if(m)return m.peek()}c.peekKey=d,c.peek=function(){return d(r.apply(null,arguments))};function f(p){return p?a.delete(p):!1}return c.forgetKey=f,c.forget=function(){return f(r.apply(null,arguments))},c.makeCacheKey=r,c.getKey=t?function(){return r.apply(null,t.apply(null,arguments))}:r,Object.freeze(c)}function oQ(n){return n}var Oc=function(){function n(e,t){t===void 0&&(t=Object.create(null)),this.resultCache=xc?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}return n.prototype.getCacheKey=function(e){return[e]},n.identity=function(){return new n(oQ,{cache:!1})},n.split=function(e,t,r){return r===void 0&&(r=n.identity()),Object.assign(new n(function(i){var o=e(i)?t:r;return o.transformDocument(i)},{cache:!1}),{left:t,right:r})},n.prototype.resetCache=function(){var e=this;if(this.cached){var t=new hn(Un);this.performWork=Ki(n.prototype.performWork.bind(this),{makeCacheKey:function(r){var i=e.getCacheKey(r);if(i)return K(Array.isArray(i),77),t.lookupArray(i)},max:Pt["documentTransform.cache"],cache:ni})}},n.prototype.performWork=function(e){return Wi(e),this.transform(e)},n.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},n.prototype.concat=function(e){var t=this;return Object.assign(new n(function(r){return e.transformDocument(t.transformDocument(r))},{cache:!1}),{left:this,right:e})},n}();var Ku,Dr=Object.assign(function(n){var e=Ku.get(n);return e||(e=Ac(n),Ku.set(n,e)),e},{reset:function(){Ku=new Rc(Pt.print||2e3)}});Dr.reset();globalThis.__DEV__!==!1&&xm("print",function(){return Ku?Ku.size:0});var Qe=Array.isArray;function zt(n){return Array.isArray(n)&&n.length>0}var kO={kind:Y.FIELD,name:{kind:Y.NAME,value:"__typename"}};function NO(n,e){return!n||n.selectionSet.selections.every(function(t){return t.kind===Y.FRAGMENT_SPREAD&&NO(e[t.name.value],e)})}function sQ(n){return NO(zn(n)||Hu(n),$n(qn(n)))?null:n}function aQ(n){var e=new Map,t=new Map;return n.forEach(function(r){r&&(r.name?e.set(r.name,r):r.test&&t.set(r.test,r))}),function(r){var i=e.get(r.name.value);return!i&&t.size&&t.forEach(function(o,s){s(r)&&(i=o)}),i}}function OO(n){var e=new Map;return function(r){r===void 0&&(r=n);var i=e.get(r);return i||e.set(r,i={variables:new Set,fragmentSpreads:new Set}),i}}function Mm(n,e){Wi(e);for(var t=OO(""),r=OO(""),i=function(b){for(var k=0,x=void 0;k<b.length&&(x=b[k]);++k)if(!Qe(x)){if(x.kind===Y.OPERATION_DEFINITION)return t(x.name&&x.name.value);if(x.kind===Y.FRAGMENT_DEFINITION)return r(x.name.value)}return globalThis.__DEV__!==!1&&K.error(97),null},o=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===Y.OPERATION_DEFINITION&&++o;var a=aQ(n),c=function(b){return zt(b)&&b.map(a).some(function(k){return k&&k.remove})},u=new Map,d=!1,f={enter:function(b){if(c(b.directives))return d=!0,null}},p=Mt(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(b,k,x,V,U){var q=i(U);q&&q.variables.add(b.name.value)}},FragmentSpread:{enter:function(b,k,x,V,U){if(c(b.directives))return d=!0,null;var q=i(U);q&&q.fragmentSpreads.add(b.name.value)}},FragmentDefinition:{enter:function(b,k,x,V){u.set(JSON.stringify(V),b)},leave:function(b,k,x,V){var U=u.get(JSON.stringify(V));if(b===U)return b;if(o>0&&b.selectionSet.selections.every(function(q){return q.kind===Y.FIELD&&q.name.value==="__typename"}))return r(b.name.value).removed=!0,d=!0,null}},Directive:{leave:function(b){if(a(b))return d=!0,null}}});if(!d)return e;var m=function(b){return b.transitiveVars||(b.transitiveVars=new Set(b.variables),b.removed||b.fragmentSpreads.forEach(function(k){m(r(k)).transitiveVars.forEach(function(x){b.transitiveVars.add(x)})})),b},y=new Set;p.definitions.forEach(function(b){b.kind===Y.OPERATION_DEFINITION?m(t(b.name&&b.name.value)).fragmentSpreads.forEach(function(k){y.add(k)}):b.kind===Y.FRAGMENT_DEFINITION&&o===0&&!r(b.name.value).removed&&y.add(b.name.value)}),y.forEach(function(b){m(r(b)).fragmentSpreads.forEach(function(k){y.add(k)})});var _=function(b){return!!(!y.has(b)||r(b).removed)},w={enter:function(b){if(_(b.name.value))return null}};return sQ(Mt(p,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave:function(b){if(b.variableDefinitions){var k=m(t(b.name&&b.name.value)).transitiveVars;if(k.size<b.variableDefinitions.length)return A(A({},b),{variableDefinitions:b.variableDefinitions.filter(function(x){return k.has(x.variable.name.value)})})}}}}))}var Qs=Object.assign(function(n){return Mt(n,{SelectionSet:{enter:function(e,t,r){if(!(r&&r.kind===Y.OPERATION_DEFINITION)){var i=e.selections;if(i){var o=i.some(function(a){return pn(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=r;if(!(pn(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return A(A({},e),{selections:ht(ht([],i,!0),[kO],!1)})}}}}}})},{added:function(n){return n===kO}});function N0(n){var e=Cr(n),t=e.operation;if(t==="query")return n;var r=Mt(n,{OperationDefinition:{enter:function(i){return A(A({},i),{operation:"query"})}}});return r}function Yu(n){Wi(n);var e=Mm([{test:function(t){return t.name.value==="client"},remove:!0}],n);return e}function F0(n){return Wi(n),Mt(n,{FragmentSpread:function(e){var t;if(!(!((t=e.directives)===null||t===void 0)&&t.some(function(r){return r.name.value==="unmask"})))return A(A({},e),{directives:ht(ht([],e.directives||[],!0),[{kind:Y.DIRECTIVE,name:{kind:Y.NAME,value:"nonreactive"}}],!1)})}})}var cQ=Object.prototype.hasOwnProperty;function L0(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ks(n)}function Ks(n){var e=n[0]||{},t=n.length;if(t>1)for(var r=new xn,i=1;i<t;++i)e=r.merge(e,n[i]);return e}var lQ=function(n,e,t){return this.merge(n[t],e[t])},xn=function(){function n(e){e===void 0&&(e=lQ),this.reconciler=e,this.isObject=ke,this.pastCopies=new Set}return n.prototype.merge=function(e,t){for(var r=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return ke(t)&&ke(e)?(Object.keys(t).forEach(function(s){if(cQ.call(e,s)){var a=e[s];if(t[s]!==a){var c=r.reconciler.apply(r,ht([e,t,s],i,!1));c!==a&&(e=r.shallowCopyForMerge(e),e[s]=c)}}else e=r.shallowCopyForMerge(e),e[s]=t[s]}),e):t},n.prototype.shallowCopyForMerge=function(e){return ke(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=A({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},n}();function uQ(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=dQ(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(n,e){if(n){if(typeof n=="string")return FO(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return FO(n,e)}}function FO(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function LO(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function U0(n,e,t){return e&&LO(n.prototype,e),t&&LO(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var $0=function(){return typeof Symbol=="function"},z0=function(n){return $0()&&!!Symbol[n]},q0=function(n){return z0(n)?Symbol[n]:"@@"+n};$0()&&!z0("observable")&&(Symbol.observable=Symbol("observable"));var hQ=q0("iterator"),j0=q0("observable"),VO=q0("species");function km(n,e){var t=n[e];if(t!=null){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}}function Zu(n){var e=n.constructor;return e!==void 0&&(e=e[VO],e===null&&(e=void 0)),e!==void 0?e:ge}function fQ(n){return n instanceof ge}function Nc(n){Nc.log?Nc.log(n):setTimeout(function(){throw n})}function Pm(n){Promise.resolve().then(function(){try{n()}catch(e){Nc(e)}})}function jO(n){var e=n._cleanup;if(e!==void 0&&(n._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var t=km(e,"unsubscribe");t&&t.call(e)}}catch(r){Nc(r)}}function B0(n){n._observer=void 0,n._queue=void 0,n._state="closed"}function pQ(n){var e=n._queue;if(e){n._queue=void 0,n._state="ready";for(var t=0;t<e.length&&(BO(n,e[t].type,e[t].value),n._state!=="closed");++t);}}function BO(n,e,t){n._state="running";var r=n._observer;try{var i=km(r,e);switch(e){case"next":i&&i.call(r,t);break;case"error":if(B0(n),i)i.call(r,t);else throw t;break;case"complete":B0(n),i&&i.call(r);break}}catch(o){Nc(o)}n._state==="closed"?jO(n):n._state==="running"&&(n._state="ready")}function V0(n,e,t){if(n._state!=="closed"){if(n._state==="buffering"){n._queue.push({type:e,value:t});return}if(n._state!=="ready"){n._state="buffering",n._queue=[{type:e,value:t}],Pm(function(){return pQ(n)});return}BO(n,e,t)}}var mQ=function(){function n(t,r){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new gQ(this);try{this._cleanup=r.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=n.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(B0(this),jO(this))},U0(n,[{key:"closed",get:function(){return this._state==="closed"}}]),n}(),gQ=function(){function n(t){this._subscription=t}var e=n.prototype;return e.next=function(r){V0(this._subscription,"next",r)},e.error=function(r){V0(this._subscription,"error",r)},e.complete=function(){V0(this._subscription,"complete")},U0(n,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),n}(),ge=function(){function n(t){if(!(this instanceof n))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=n.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new mQ(r,this._subscriber)},e.forEach=function(r){var i=this;return new Promise(function(o,s){if(typeof r!="function"){s(new TypeError(r+" is not a function"));return}function a(){c.unsubscribe(),o()}var c=i.subscribe({next:function(u){try{r(u,a)}catch(d){s(d),c.unsubscribe()}},error:s,complete:o})})},e.map=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zu(this);return new o(function(s){return i.subscribe({next:function(a){try{a=r(a)}catch(c){return s.error(c)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.filter=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zu(this);return new o(function(s){return i.subscribe({next:function(a){try{if(!r(a))return}catch(c){return s.error(c)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.reduce=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zu(this),s=arguments.length>1,a=!1,c=arguments[1],u=c;return new o(function(d){return i.subscribe({next:function(f){var p=!a;if(a=!0,!p||s)try{u=r(u,f)}catch(m){return d.error(m)}else u=f},error:function(f){d.error(f)},complete:function(){if(!a&&!s)return d.error(new TypeError("Cannot reduce an empty sequence"));d.next(u),d.complete()}})})},e.concat=function(){for(var r=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=Zu(this);return new a(function(c){var u,d=0;function f(p){u=p.subscribe({next:function(m){c.next(m)},error:function(m){c.error(m)},complete:function(){d===o.length?(u=void 0,c.complete()):f(a.from(o[d++]))}})}return f(r),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(r){var i=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var o=Zu(this);return new o(function(s){var a=[],c=i.subscribe({next:function(d){if(r)try{d=r(d)}catch(p){return s.error(p)}var f=o.from(d).subscribe({next:function(p){s.next(p)},error:function(p){s.error(p)},complete:function(){var p=a.indexOf(f);p>=0&&a.splice(p,1),u()}});a.push(f)},error:function(d){s.error(d)},complete:function(){u()}});function u(){c.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(d){return d.unsubscribe()}),c.unsubscribe()}})},e[j0]=function(){return this},n.from=function(r){var i=typeof this=="function"?this:n;if(r==null)throw new TypeError(r+" is not an object");var o=km(r,j0);if(o){var s=o.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return fQ(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if(z0("iterator")&&(o=km(r,hQ),o))return new i(function(a){Pm(function(){if(!a.closed){for(var c=uQ(o.call(r)),u;!(u=c()).done;){var d=u.value;if(a.next(d),a.closed)return}a.complete()}})});if(Array.isArray(r))return new i(function(a){Pm(function(){if(!a.closed){for(var c=0;c<r.length;++c)if(a.next(r[c]),a.closed)return;a.complete()}})});throw new TypeError(r+" is not observable")},n.of=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=typeof this=="function"?this:n;return new s(function(a){Pm(function(){if(!a.closed){for(var c=0;c<i.length;++c)if(a.next(i[c]),a.closed)return;a.complete()}})})},U0(n,null,[{key:VO,get:function(){return this}}]),n}();$0()&&Object.defineProperty(ge,Symbol("extensions"),{value:{symbol:j0,hostReportError:Nc},configurable:!0});function H0(n){var e,t=n.Symbol;if(typeof t=="function")if(t.observable)e=t.observable;else{typeof t.for=="function"?e=t.for("https://github.com/benlesh/symbol-observable"):e=t("https://github.com/benlesh/symbol-observable");try{t.observable=e}catch{}}else e="@@observable";return e}var Fc;typeof self<"u"?Fc=self:typeof window<"u"?Fc=window:typeof global<"u"?Fc=global:typeof module<"u"?Fc=module:Fc=Function("return this")();var Wfe=H0(Fc);var UO=ge.prototype,$O="@@observable";UO[$O]||(UO[$O]=function(){return this});function G0(n){return n.catch(function(){}),n}var yQ=Object.prototype.toString;function Om(n){return W0(n)}function W0(n,e){switch(yQ.call(n)){case"[object Array]":{if(e=e||new Map,e.has(n))return e.get(n);var t=n.slice(0);return e.set(n,t),t.forEach(function(i,o){t[o]=W0(i,e)}),t}case"[object Object]":{if(e=e||new Map,e.has(n))return e.get(n);var r=Object.create(Object.getPrototypeOf(n));return e.set(n,r),Object.keys(n).forEach(function(i){r[i]=W0(n[i],e)}),r}default:return n}}function vQ(n){var e=new Set([n]);return e.forEach(function(t){ke(t)&&_Q(t)===t&&Object.getOwnPropertyNames(t).forEach(function(r){ke(t[r])&&e.add(t[r])})}),n}function _Q(n){if(globalThis.__DEV__!==!1&&!Object.isFrozen(n))try{Object.freeze(n)}catch(e){if(e instanceof TypeError)return null;throw e}return n}function Uo(n){return globalThis.__DEV__!==!1&&vQ(n),n}function Ys(n,e,t){var r=[];n.forEach(function(i){return i[e]&&r.push(i)}),r.forEach(function(i){return i[e](t)})}function Nm(n,e,t){return new ge(function(r){var i={then:function(c){return new Promise(function(u){return u(c())})}};function o(c,u){return function(d){if(c){var f=function(){return r.closed?0:c(d)};i=i.then(f,f).then(function(p){return r.next(p)},function(p){return r.error(p)})}else r[u](d)}}var s={next:o(e,"next"),error:o(t,"error"),complete:function(){i.then(function(){return r.complete()})}},a=n.subscribe(s);return function(){return a.unsubscribe()}})}function Fm(n){function e(t){Object.defineProperty(n,t,{value:ge})}return b0&&Symbol.species&&e(Symbol.species),e("@@species"),n}function zO(n){return n&&typeof n.then=="function"}var Zs=function(n){gt(e,n);function e(t){var r=n.call(this,function(i){return r.addObserver(i),function(){return r.removeObserver(i)}})||this;return r.observers=new Set,r.promise=new Promise(function(i,o){r.resolve=i,r.reject=o}),r.handlers={next:function(i){r.sub!==null&&(r.latest=["next",i],r.notify("next",i),Ys(r.observers,"next",i))},error:function(i){var o=r.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest=["error",i],r.reject(i),r.notify("error",i),Ys(r.observers,"error",i))},complete:function(){var i=r,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var c=a.shift();c?zO(c)?c.then(function(u){return r.sub=u.subscribe(r.handlers)},r.handlers.error):r.sub=c.subscribe(r.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Ys(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(i){r.reject(i),r.sources=[],r.handlers.error(i)},r.promise.catch(function(i){}),typeof t=="function"&&(t=[new ge(t)]),zO(t)?t.then(function(i){return r.start(i)},r.handlers.error):r.start(t),r}return e.prototype.start=function(t){this.sub===void 0&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var r=this.latest[0],i=t[r];i&&i.call(t,this.latest[1]),this.sub===null&&r==="next"&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t))},e.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(t,r){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(t,r)}))},e.prototype.beforeNext=function(t){var r=!1;this.nextResultListeners.add(function(i,o){r||(r=!0,t(i,o))})},e}(ge);Fm(Zs);function $o(n){return"incremental"in n}function EQ(n){return"hasNext"in n&&"data"in n}function qO(n){return $o(n)||EQ(n)}function HO(n){return ke(n)&&"payload"in n}function Lm(n,e){var t=n,r=new xn;return $o(e)&&zt(e.incremental)&&e.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var c=s[a],u=!isNaN(+c),d=u?[]:{};d[c]=o,o=d}t=r.merge(t,o)}),t}function Lc(n){var e=Vm(n);return zt(e)}function Vm(n){var e=zt(n.errors)?n.errors.slice(0):[];return $o(n)&&zt(n.incremental)&&n.incremental.forEach(function(t){t.errors&&e.push.apply(e,t.errors)}),e}function ri(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Object.create(null);return n.forEach(function(r){r&&Object.keys(r).forEach(function(i){var o=r[i];o!==void 0&&(t[i]=o)})}),t}function Ju(n,e){return ri(n,e,e.variables&&{variables:ri(A(A({},n&&n.variables),e.variables))})}function Xu(n){return new ge(function(e){e.error(n)})}var jm=function(n,e,t){var r=new Error(t);throw r.name="ServerError",r.response=n,r.statusCode=n.status,r.result=e,r};function Q0(n){for(var e=["query","operationName","variables","extensions","context"],t=0,r=Object.keys(n);t<r.length;t++){var i=r[t];if(e.indexOf(i)<0)throw Ze(46,i)}return n}function K0(n,e){var t=A({},n),r=function(o){typeof o=="function"?t=A(A({},t),o(t)):t=A(A({},t),o)},i=function(){return A({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function Y0(n){var e={variables:n.variables||{},extensions:n.extensions||{},operationName:n.operationName,query:n.query};return e.operationName||(e.operationName=typeof e.query!="string"?jo(e.query)||void 0:""),e}function Z0(n,e){var t=A({},n),r=new Set(Object.keys(n));return Mt(e,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&r.delete(i.name.value)}}),r.forEach(function(i){delete t[i]}),t}function GO(n,e){return e?e(n):ge.of()}function ed(n){return typeof n=="function"?new kt(n):n}function Bm(n){return n.request.length<=1}var kt=function(){function n(e){e&&(this.request=e)}return n.empty=function(){return new n(function(){return ge.of()})},n.from=function(e){return e.length===0?n.empty():e.map(ed).reduce(function(t,r){return t.concat(r)})},n.split=function(e,t,r){var i=ed(t),o=ed(r||new n(GO)),s;return Bm(i)&&Bm(o)?s=new n(function(a){return e(a)?i.request(a)||ge.of():o.request(a)||ge.of()}):s=new n(function(a,c){return e(a)?i.request(a,c)||ge.of():o.request(a,c)||ge.of()}),Object.assign(s,{left:i,right:o})},n.execute=function(e,t){return e.request(K0(t.context,Y0(Q0(t))))||ge.of()},n.concat=function(e,t){var r=ed(e);if(Bm(r))return globalThis.__DEV__!==!1&&K.warn(38,r),r;var i=ed(t),o;return Bm(i)?o=new n(function(s){return r.request(s,function(a){return i.request(a)||ge.of()})||ge.of()}):o=new n(function(s,a){return r.request(s,function(c){return i.request(c,a)||ge.of()})||ge.of()}),Object.assign(o,{left:r,right:i})},n.prototype.split=function(e,t,r){return this.concat(n.split(e,t,r||new n(GO)))},n.prototype.concat=function(e){return n.concat(this,e)},n.prototype.request=function(e,t){throw Ze(39)},n.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},n.prototype.setOnError=function(e){return this.onError=e,this},n}();var Vc=kt.execute;function J0(n){var e,t=n[Symbol.asyncIterator]();return e={next:function(){return t.next()}},e[Symbol.asyncIterator]=function(){return this},e}function X0(n){var e=null,t=null,r=!1,i=[],o=[];function s(f){if(!t){if(o.length){var p=o.shift();if(Array.isArray(p)&&p[0])return p[0]({value:f,done:!1})}i.push(f)}}function a(f){t=f;var p=o.slice();p.forEach(function(m){m[1](f)}),!e||e()}function c(){r=!0;var f=o.slice();f.forEach(function(p){p[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,n.removeListener("data",s),n.removeListener("error",a),n.removeListener("end",c),n.removeListener("finish",c),n.removeListener("close",c)},n.on("data",s),n.on("error",a),n.on("end",c),n.on("finish",c),n.on("close",c);function u(){return new Promise(function(f,p){if(t)return p(t);if(i.length)return f({value:i.shift(),done:!1});if(r)return f({value:void 0,done:!0});o.push([f,p])})}var d={next:function(){return u()}};return No&&(d[Symbol.asyncIterator]=function(){return this}),d}function eI(n){var e=!1,t={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,i){n.then(function(o){r({value:o,done:!1})}).catch(i)}))}};return No&&(t[Symbol.asyncIterator]=function(){return this}),t}function Um(n){var e={next:function(){return n.read()}};return No&&(e[Symbol.asyncIterator]=function(){return this}),e}function wQ(n){return!!n.body}function bQ(n){return!!n.getReader}function IQ(n){return!!(No&&n[Symbol.asyncIterator])}function TQ(n){return!!n.stream}function CQ(n){return!!n.arrayBuffer}function DQ(n){return!!n.pipe}function WO(n){var e=n;if(wQ(n)&&(e=n.body),IQ(e))return J0(e);if(bQ(e))return Um(e.getReader());if(TQ(e))return Um(e.stream().getReader());if(CQ(e))return eI(e.arrayBuffer());if(DQ(e))return X0(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Js=Symbol();function $m(n){return n.extensions?Array.isArray(n.extensions[Js]):!1}function zm(n){return n.hasOwnProperty("graphQLErrors")}var SQ=function(n){var e=ht(ht(ht([],n.graphQLErrors,!0),n.clientErrors,!0),n.protocolErrors,!0);return n.networkError&&e.push(n.networkError),e.map(function(t){return ke(t)&&t.message||"Error message not found."}).join(`
`)},Yi=function(n){gt(e,n);function e(t){var r=t.graphQLErrors,i=t.protocolErrors,o=t.clientErrors,s=t.networkError,a=t.errorMessage,c=t.extraInfo,u=n.call(this,a)||this;return u.name="ApolloError",u.graphQLErrors=r||[],u.protocolErrors=i||[],u.clientErrors=o||[],u.networkError=s||null,u.message=a||SQ(u),u.extraInfo=c,u.cause=ht(ht(ht([s],r||[],!0),i||[],!0),o||[],!0).find(function(d){return!!d})||null,u.__proto__=e.prototype,u}return e}(Error);var QO=Object.prototype.hasOwnProperty;function KO(n,e){return Nn(this,void 0,void 0,function(){var t,r,i,o,s,a,c,u,d,f,p,m,y,_,w,b,k,x,V,U,q,C,E,I;return ur(this,function(D){switch(D.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");t=new TextDecoder("utf-8"),r=(I=n.headers)===null||I===void 0?void 0:I.get("content-type"),i="boundary=",o=r?.includes(i)?r?.substring(r?.indexOf(i)+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s=`\r
--`.concat(o),a="",c=WO(n),u=!0,D.label=1;case 1:return u?[4,c.next()]:[3,3];case 2:for(d=D.sent(),f=d.value,p=d.done,m=typeof f=="string"?f:t.decode(f),y=a.length-s.length+1,u=!p,a+=m,_=a.indexOf(s,y);_>-1;){if(w=void 0,C=[a.slice(0,_),a.slice(_+s.length)],w=C[0],a=C[1],b=w.indexOf(`\r
\r
`),k=AQ(w.slice(0,b)),x=k["content-type"],x&&x.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(V=w.slice(b),V){if(U=YO(n,V),Object.keys(U).length>1||"data"in U||"incremental"in U||"errors"in U||"payload"in U)if(HO(U)){if(q={},"payload"in U){if(Object.keys(U).length===1&&U.payload===null)return[2];q=A({},U.payload)}"errors"in U&&(q=A(A({},q),{extensions:A(A({},"extensions"in q?q.extensions:null),(E={},E[Js]=U.errors,E))})),e(q)}else e(U);else if(Object.keys(U).length===1&&"hasNext"in U&&!U.hasNext)return[2]}_=a.indexOf(s)}return[3,1];case 3:return[2]}})})}function AQ(n){var e={};return n.split(`
`).forEach(function(t){var r=t.indexOf(":");if(r>-1){var i=t.slice(0,r).trim().toLowerCase(),o=t.slice(r+1).trim();e[i]=o}}),e}function YO(n,e){if(n.status>=300){var t=function(){try{return JSON.parse(e)}catch{return e}};jm(n,t(),"Response not successful: Received status code ".concat(n.status))}try{return JSON.parse(e)}catch(i){var r=i;throw r.name="ServerParseError",r.response=n,r.statusCode=n.status,r.bodyText=e,r}}function ZO(n,e){n.result&&n.result.errors&&n.result.data&&e.next(n.result),e.error(n)}function JO(n){return function(e){return e.text().then(function(t){return YO(e,t)}).then(function(t){return!Array.isArray(t)&&!QO.call(t,"data")&&!QO.call(t,"errors")&&jm(e,t,"Server response was missing for query '".concat(Array.isArray(n)?n.map(function(r){return r.operationName}):n.operationName,"'.")),t})}}var td=function(n,e){var t;try{t=JSON.stringify(n)}catch(i){var r=Ze(42,e,i.message);throw r.parseError=i,r}return t};var xQ={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},RQ={accept:"*/*","content-type":"application/json"},MQ={method:"POST"},XO={http:xQ,headers:RQ,options:MQ},eN=function(n,e){return e(n)};function tN(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i={},o={};t.forEach(function(f){i=A(A(A({},i),f.options),{headers:A(A({},i.headers),f.headers)}),f.credentials&&(i.credentials=f.credentials),o=A(A({},o),f.http)}),i.headers&&(i.headers=PQ(i.headers,o.preserveHeaderCase));var s=n.operationName,a=n.extensions,c=n.variables,u=n.query,d={operationName:s,variables:c};return o.includeExtensions&&(d.extensions=a),o.includeQuery&&(d.query=e(u,Dr)),{options:i,body:d}}function PQ(n,e){if(!e){var t={};return Object.keys(Object(n)).forEach(function(o){t[o.toLowerCase()]=n[o]}),t}var r={};Object.keys(Object(n)).forEach(function(o){r[o.toLowerCase()]={originalName:o,value:n[o]}});var i={};return Object.keys(r).forEach(function(o){i[r[o].originalName]=r[o].value}),i}var nN=function(n){if(!n&&typeof fetch>"u")throw Ze(40)};var rN=function(n,e){var t=n.getContext(),r=t.uri;return r||(typeof e=="function"?e(n):e||"/graphql")};function iN(n,e){var t=[],r=function(f,p){t.push("".concat(f,"=").concat(encodeURIComponent(p)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var i=void 0;try{i=td(e.variables,"Variables map")}catch(f){return{parseError:f}}r("variables",i)}if(e.extensions){var o=void 0;try{o=td(e.extensions,"Extensions map")}catch(f){return{parseError:f}}r("extensions",o)}var s="",a=n,c=n.indexOf("#");c!==-1&&(s=n.substr(c),a=n.substr(0,c));var u=a.indexOf("?")===-1?"?":"&",d=a+u+t.join("&")+s;return{newURI:d}}var oN=tn(function(){return fetch}),sN=function(n){n===void 0&&(n={});var e=n.uri,t=e===void 0?"/graphql":e,r=n.fetch,i=n.print,o=i===void 0?eN:i,s=n.includeExtensions,a=n.preserveHeaderCase,c=n.useGETForQueries,u=n.includeUnusedVariables,d=u===void 0?!1:u,f=Ct(n,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&nN(r||oN);var p={http:{includeExtensions:s,preserveHeaderCase:a},options:f.fetchOptions,credentials:f.credentials,headers:f.headers};return new kt(function(m){var y=rN(m,t),_=m.getContext(),w={};if(_.clientAwareness){var b=_.clientAwareness,k=b.name,x=b.version;k&&(w["apollographql-client-name"]=k),x&&(w["apollographql-client-version"]=x)}var V=A(A({},w),_.headers),U={http:_.http,options:_.fetchOptions,credentials:_.credentials,headers:V};if(qi(["client"],m.query)){var q=Yu(m.query);if(!q)return Xu(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));m.query=q}var C=tN(m,o,XO,p,U),E=C.options,I=C.body;I.variables&&!d&&(I.variables=Z0(I.variables,m.query));var D;!E.signal&&typeof AbortController<"u"&&(D=new AbortController,E.signal=D.signal);var R=function(ue){return ue.kind==="OperationDefinition"&&ue.operation==="mutation"},M=function(ue){return ue.kind==="OperationDefinition"&&ue.operation==="subscription"},T=M(Cr(m.query)),pt=qi(["defer"],m.query);if(c&&!m.query.definitions.some(R)&&(E.method="GET"),pt||T){E.headers=E.headers||{};var Gn="multipart/mixed;";T&&pt&&globalThis.__DEV__!==!1&&K.warn(41),T?Gn+="boundary=graphql;subscriptionSpec=1.0,application/json":pt&&(Gn+="deferSpec=20220824,application/json"),E.headers.accept=Gn}if(E.method==="GET"){var ee=iN(y,I),ie=ee.newURI,se=ee.parseError;if(se)return Xu(se);y=ie}else try{E.body=td(I,"Payload")}catch(ue){return Xu(ue)}return new ge(function(ue){var at=r||tn(function(){return fetch})||oN,rn=ue.next.bind(ue);return at(y,E).then(function(He){var Ge;m.setContext({response:He});var Ke=(Ge=He.headers)===null||Ge===void 0?void 0:Ge.get("content-type");return Ke!==null&&/^multipart\/mixed/i.test(Ke)?KO(He,rn):JO(m)(He).then(rn)}).then(function(){D=void 0,ue.complete()}).catch(function(He){D=void 0,ZO(He,ue)}),function(){D&&D.abort()}})})};var tI=function(n){gt(e,n);function e(t){t===void 0&&(t={});var r=n.call(this,sN(t).request)||this;return r.options=t,r}return e}(kt);var{toString:aN,hasOwnProperty:kQ}=Object.prototype,cN=Function.prototype.toString,nI=new Map;function qe(n,e){try{return rI(n,e)}finally{nI.clear()}}var nd=qe;function rI(n,e){if(n===e)return!0;let t=aN.call(n),r=aN.call(e);if(t!==r)return!1;switch(t){case"[object Array]":if(n.length!==e.length)return!1;case"[object Object]":{if(uN(n,e))return!0;let i=lN(n),o=lN(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!kQ.call(e,i[a]))return!1;for(let a=0;a<s;++a){let c=i[a];if(!rI(n[c],e[c]))return!1}return!0}case"[object Error]":return n.name===e.name&&n.message===e.message;case"[object Number]":if(n!==n)return e!==e;case"[object Boolean]":case"[object Date]":return+n==+e;case"[object RegExp]":case"[object String]":return n==`${e}`;case"[object Map]":case"[object Set]":{if(n.size!==e.size)return!1;if(uN(n,e))return!0;let i=n.entries(),o=t==="[object Map]";for(;;){let s=i.next();if(s.done)break;let[a,c]=s.value;if(!e.has(a)||o&&!rI(c,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":n=new Uint8Array(n),e=new Uint8Array(e);case"[object DataView]":{let i=n.byteLength;if(i===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{let i=cN.call(n);return i!==cN.call(e)?!1:!FQ(i,NQ)}}return!1}function lN(n){return Object.keys(n).filter(OQ,n)}function OQ(n){return this[n]!==void 0}var NQ="{ [native code] }";function FQ(n,e){let t=n.length-e.length;return t>=0&&n.indexOf(e,t)===t}function uN(n,e){let t=nI.get(n);if(t){if(t.has(e))return!0}else nI.set(n,t=new Set);return t.add(e),!1}function Hm(n,e,t,r){var i=e.data,o=Ct(e,["data"]),s=t.data,a=Ct(t,["data"]);return nd(o,a)&&qm(Cr(n).selectionSet,i,s,{fragmentMap:$n(qn(n)),variables:r})}function qm(n,e,t,r){if(e===t)return!0;var i=new Set;return n.selections.every(function(o){if(i.has(o)||(i.add(o),!Tr(o,r.variables))||dN(o))return!0;if(pn(o)){var s=nn(o),a=e&&e[s],c=t&&t[s],u=o.selectionSet;if(!u)return nd(a,c);var d=Array.isArray(a),f=Array.isArray(c);if(d!==f)return!1;if(d&&f){var p=a.length;if(c.length!==p)return!1;for(var m=0;m<p;++m)if(!qm(u,a[m],c[m],r))return!1;return!0}return qm(u,a,c,r)}else{var y=Hi(o,r.fragmentMap);if(y)return dN(y)?!0:qm(y.selectionSet,e,t,r)}})}function dN(n){return!!n.directives&&n.directives.some(LQ)}function LQ(n){return n.name.value==="nonreactive"}var Gm=Un?WeakMap:Map,Wm=xc?WeakSet:Set,jc=new Qi,hN=!1;function Qm(){hN||(hN=!0,globalThis.__DEV__!==!1&&K.warn(52))}function Km(n,e,t){return jc.withValue(!0,function(){var r=rd(n,e,t,!1);return Object.isFrozen(n)&&Uo(r),r})}function VQ(n,e){if(e.has(n))return e.get(n);var t=Array.isArray(n)?[]:Object.create(null);return e.set(n,t),t}function rd(n,e,t,r,i){var o,s=t.knownChanged,a=VQ(n,t.mutableTargets);if(Array.isArray(n)){for(var c=0,u=Array.from(n.entries());c<u.length;c++){var d=u[c],f=d[0],p=d[1];if(p===null){a[f]=null;continue}var m=rd(p,e,t,r,globalThis.__DEV__!==!1?"".concat(i||"","[").concat(f,"]"):void 0);s.has(m)&&s.add(a),a[f]=m}return s.has(a)?a:n}for(var y=0,_=e.selections;y<_.length;y++){var w=_[y],b=void 0;if(r&&s.add(a),w.kind===Y.FIELD){var k=nn(w),x=w.selectionSet;if(b=a[k]||n[k],b===void 0)continue;if(x&&b!==null){var m=rd(n[k],x,t,r,globalThis.__DEV__!==!1?"".concat(i||"",".").concat(k):void 0);s.has(m)&&(b=m)}globalThis.__DEV__===!1&&(a[k]=b),globalThis.__DEV__!==!1&&(r&&k!=="__typename"&&!(!((o=Object.getOwnPropertyDescriptor(a,k))===null||o===void 0)&&o.value)?Object.defineProperty(a,k,jQ(k,b,i||"",t.operationName,t.operationType)):(delete a[k],a[k]=b))}if(w.kind===Y.INLINE_FRAGMENT&&(!w.typeCondition||t.cache.fragmentMatches(w,n.__typename))&&(b=rd(n,w.selectionSet,t,r,i)),w.kind===Y.FRAGMENT_SPREAD){var V=w.name.value,U=t.fragmentMap[V]||(t.fragmentMap[V]=t.cache.lookupFragment(V));K(U,47,V);var q=w0(w);q!=="mask"&&(b=rd(n,U.selectionSet,t,q==="migrate",i))}s.has(b)&&s.add(a)}return"__typename"in n&&!("__typename"in a)&&(a.__typename=n.__typename),Object.keys(a).length!==Object.keys(n).length&&s.add(a),s.has(a)?a:n}function jQ(n,e,t,r,i){var o=function(){return jc.getValue()||(globalThis.__DEV__!==!1&&K.warn(48,r?"".concat(i," '").concat(r,"'"):"anonymous ".concat(i),"".concat(t,".").concat(n).replace(/^\./,"")),o=function(){return e}),e};return{get:function(){return o()},set:function(s){o=function(){return s}},enumerable:!0,configurable:!0}}function id(n,e,t,r){if(!t.fragmentMatches)return globalThis.__DEV__!==!1&&Qm(),n;var i=e.definitions.filter(function(s){return s.kind===Y.FRAGMENT_DEFINITION});typeof r>"u"&&(K(i.length===1,49,i.length),r=i[0].name.value);var o=i.find(function(s){return s.name.value===r});return K(!!o,50,r),n==null||nd(n,{})?n:Km(n,o.selectionSet,{operationType:"fragment",operationName:o.name.value,fragmentMap:$n(qn(e)),cache:t,mutableTargets:new Gm,knownChanged:new Wm})}function iI(n,e,t){var r;if(!t.fragmentMatches)return globalThis.__DEV__!==!1&&Qm(),n;var i=zn(e);return K(i,51),n==null?n:Km(n,i.selectionSet,{operationType:i.operation,operationName:(r=i.name)===null||r===void 0?void 0:r.value,fragmentMap:$n(qn(e)),cache:t,mutableTargets:new Gm,knownChanged:new Wm})}var Ym=function(){function n(){this.assumeImmutableResults=!1,this.getFragmentDoc=Ki(I0,{max:Pt["cache.fragmentQueryDocuments"]||1e3,cache:ni})}return n.prototype.lookupFragment=function(e){return null},n.prototype.batch=function(e){var t=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(t)},r),i},n.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},n.prototype.transformDocument=function(e){return e},n.prototype.transformForLink=function(e){return e},n.prototype.identify=function(e){},n.prototype.gc=function(){return[]},n.prototype.modify=function(e){return!1},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(A(A({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},n.prototype.watchFragment=function(e){var t=this,r=e.fragment,i=e.fragmentName,o=e.from,s=e.optimistic,a=s===void 0?!0:s,c=Ct(e,["fragment","fragmentName","from","optimistic"]),u=this.getFragmentDoc(r,i),d=typeof o>"u"||typeof o=="string"?o:this.identify(o),f=!!e[Symbol.for("apollo.dataMasking")];if(globalThis.__DEV__!==!1){var p=i||Hu(r).name.value;d||globalThis.__DEV__!==!1&&K.warn(1,p)}var m=A(A({},c),{returnPartialData:!0,id:d,query:u,optimistic:a}),y;return new ge(function(_){return t.watch(A(A({},m),{immediate:!0,callback:function(w){var b=f?id(w.result,r,t,i):w.result;if(!(y&&Hm(u,{data:y.result},{data:b},e.variables))){var k={data:b,complete:!!w.complete};w.missing&&(k.missing=Ks(w.missing.map(function(x){return x.missing}))),y=A(A({},w),{result:b}),_.next(k)}}}))})},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(A(A({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},n.prototype.writeQuery=function(e){var t=e.id,r=e.data,i=Ct(e,["id","data"]);return this.write(Object.assign(i,{dataId:t||"ROOT_QUERY",result:r}))},n.prototype.writeFragment=function(e){var t=e.id,r=e.data,i=e.fragment,o=e.fragmentName,s=Ct(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:t,result:r}))},n.prototype.updateQuery=function(e,t){return this.batch({update:function(r){var i=r.readQuery(e),o=t(i);return o==null?i:(r.writeQuery(A(A({},e),{data:o})),o)}})},n.prototype.updateFragment=function(e,t){return this.batch({update:function(r){var i=r.readFragment(e),o=t(i);return o==null?i:(r.writeFragment(A(A({},e),{data:o})),o)}})},n}();globalThis.__DEV__!==!1&&(Ym.prototype.getMemoryInternals=uO);var od=function(n){gt(e,n);function e(t,r,i,o){var s,a=n.call(this,t)||this;if(a.message=t,a.path=r,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var c=a.path.length-1;c>=0;--c)a.missing=(s={},s[a.path[c]]=a.missing,s)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error);var ft=Object.prototype.hasOwnProperty;function sd(n){return n==null}function Jm(n,e){var t=n.__typename,r=n.id,i=n._id;if(typeof t=="string"&&(e&&(e.keyObject=sd(r)?sd(i)?void 0:{_id:i}:{id:r}),sd(r)&&!sd(i)&&(r=i),!sd(r)))return"".concat(t,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var fN={dataIdFromObject:Jm,addTypename:!0,resultCaching:!0,canonizeResults:!1};function pN(n){return ri(fN,n)}function Xm(n){var e=n.canonizeResults;return e===void 0?fN.canonizeResults:e}function mN(n,e){return De(e)?n.get(e.__ref,"__typename"):e&&e.__typename}var oI=/^[_a-z][_0-9a-z]*/i;function Sr(n){var e=n.match(oI);return e?e[0]:n}function Zm(n,e,t){return ke(e)?Qe(e)?e.every(function(r){return Zm(n,r,t)}):n.selections.every(function(r){if(pn(r)&&Tr(r,t)){var i=nn(r);return ft.call(e,i)&&(!r.selectionSet||Zm(r.selectionSet,e[i],t))}return!0}):!1}function zo(n){return ke(n)&&!De(n)&&!Qe(n)}function gN(){return new xn}function eg(n,e){var t=$n(qn(n));return{fragmentMap:t,lookupFragment:function(r){var i=t[r];return!i&&e&&(i=e.lookup(r)),i||null}}}var tg=Object.create(null),sI=function(){return tg},yN=Object.create(null),Bc=function(){function n(e,t){var r=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Uo(De(i)?r.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return De(i)?r.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return sr(i);if(De(i))return i;var s=r.policies.identify(i)[0];if(s){var a=sr(s);return o&&r.merge(s,i),a}}}return n.prototype.toObject=function(){return A({},this.data)},n.prototype.has=function(e){return this.lookup(e,!0)!==void 0},n.prototype.get=function(e,t){if(this.group.depend(e,t),ft.call(this.data,e)){var r=this.data[e];if(r&&ft.call(r,t))return r[t]}if(t==="__typename"&&ft.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof qo)return this.parent.get(e,t)},n.prototype.lookup=function(e,t){if(t&&this.group.depend(e,"__exists"),ft.call(this.data,e))return this.data[e];if(this instanceof qo)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return Object.create(null)},n.prototype.merge=function(e,t){var r=this,i;De(e)&&(e=e.__ref),De(t)&&(t=t.__ref);var o=typeof e=="string"?this.lookup(i=e):e,s=typeof t=="string"?this.lookup(i=t):t;if(s){K(typeof i=="string",2);var a=new xn(UQ).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var c=Object.create(null);o||(c.__exists=1),Object.keys(s).forEach(function(u){if(!o||o[u]!==a[u]){c[u]=1;var d=Sr(u);d!==u&&!r.policies.hasKeyArgs(a.__typename,d)&&(c[d]=1),a[u]===void 0&&!(r instanceof qo)&&delete a[u]}}),c.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete c.__typename,Object.keys(c).forEach(function(u){return r.group.dirty(i,u)})}}},n.prototype.modify=function(e,t){var r=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,c={DELETE:tg,INVALIDATE:yN,isReference:De,toReference:this.toReference,canRead:this.canRead,readField:function(u,d){return r.policies.readField(typeof u=="string"?{fieldName:u,from:d||sr(e)}:u,{store:r})}};if(Object.keys(i).forEach(function(u){var d=Sr(u),f=i[u];if(f!==void 0){var p=typeof t=="function"?t:t[u]||t[d];if(p){var m=p===sI?tg:p(Uo(f),A(A({},c),{fieldName:d,storeFieldName:u,storage:r.getStorage(e,u)}));if(m===yN)r.group.dirty(e,u);else if(m===tg&&(m=void 0),m!==f&&(o[u]=m,s=!0,f=m,globalThis.__DEV__!==!1)){var y=function(U){if(r.lookup(U.__ref)===void 0)return globalThis.__DEV__!==!1&&K.warn(3,U),!0};if(De(m))y(m);else if(Array.isArray(m))for(var _=!1,w=void 0,b=0,k=m;b<k.length;b++){var x=k[b];if(De(x)){if(_=!0,y(x))break}else if(typeof x=="object"&&x){var V=r.policies.identify(x)[0];V&&(w=x)}if(_&&w!==void 0){globalThis.__DEV__!==!1&&K.warn(4,w);break}}}}f!==void 0&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof qo?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},n.prototype.delete=function(e,t,r){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=t&&r?this.policies.getStoreFieldName({typename:s,fieldName:t,args:r}):t;return this.modify(e,a?(i={},i[a]=sI,i):sI)}return!1},n.prototype.evict=function(e,t){var r=!1;return e.id&&(ft.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof qo&&this!==t&&(r=this.parent.evict(e,t)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},n.prototype.clear=function(){this.replace(null)},n.prototype.extract=function(){var e=this,t=this.toObject(),r=[];return this.getRootIdSet().forEach(function(i){ft.call(e.policies.rootTypenamesById,i)||r.push(i)}),r.length&&(t.__META={extraRootIds:r.sort()}),t},n.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(o){e&&ft.call(e,o)||t.delete(o)}),e){var r=e.__META,i=Ct(e,["__META"]);Object.keys(i).forEach(function(o){t.merge(o,i[o])}),r&&r.extraRootIds.forEach(this.retain,this)}},n.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},n.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},n.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof qo?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},n.prototype.gc=function(){var e=this,t=this.getRootIdSet(),r=this.toObject();t.forEach(function(s){ft.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(t.add,t),delete r[s])});var i=Object.keys(r);if(i.length){for(var o=this;o instanceof qo;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},n.prototype.findChildRefIds=function(e){if(!ft.call(this.refs,e)){var t=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return t;var i=new Set([r]);i.forEach(function(o){De(o)&&(t[o.__ref]=!0),ke(o)&&Object.keys(o).forEach(function(s){var a=o[s];ke(a)&&i.add(a)})})}return this.refs[e]},n.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},n}();var vN=function(){function n(e,t){t===void 0&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return n.prototype.resetCaching=function(){this.d=this.caching?Qu():null,this.keyMaker=new hn(Un)},n.prototype.depend=function(e,t){if(this.d){this.d(aI(e,t));var r=Sr(t);r!==t&&this.d(aI(e,r)),this.parent&&this.parent.depend(e,t)}},n.prototype.dirty=function(e,t){this.d&&this.d.dirty(aI(e,t),t==="__exists"?"forget":"setDirty")},n}();function aI(n,e){return e+"#"+n}function cI(n,e){Xs(n)&&n.group.depend(e,"__exists")}(function(n){var e=function(t){gt(r,t);function r(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,c=i.seed,u=t.call(this,o,new vN(a))||this;return u.stump=new BQ(u),u.storageTrie=new hn(Un),c&&u.replace(c),u}return r.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(n);n.Root=e})(Bc||(Bc={}));var qo=function(n){gt(e,n);function e(t,r,i,o){var s=n.call(this,r.policies,o)||this;return s.id=t,s.parent=r,s.replay=i,s.group=o,i(s),s}return e.prototype.addLayer=function(t,r){return new e(t,this,r,this.group)},e.prototype.removeLayer=function(t){var r=this,i=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=r.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(c){qe(s[c],a[c])||r.group.dirty(o,c)}):(r.group.dirty(o,"__exists"),Object.keys(a).forEach(function(c){r.group.dirty(o,c)})):r.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return A(A({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var r=this.parent.findChildRefIds(t);return ft.call(this.data,t)?A(A({},r),n.prototype.findChildRefIds.call(this,t)):r},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(Bc),BQ=function(n){gt(e,n);function e(t){return n.call(this,"EntityStore.Stump",t,function(){},new vN(t.group.caching,t.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(t,r){return this.parent.merge(t,r)},e}(qo);function UQ(n,e,t){var r=n[t],i=e[t];return qe(r,i)?r:i}function Xs(n){return!!(n instanceof Bc&&n.group.caching)}function $Q(n){return ke(n)?Qe(n)?n.slice(0):A({__proto__:Object.getPrototypeOf(n)},n):n}var lI=function(){function n(){this.known=new(xc?WeakSet:Set),this.pool=new hn(Un),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return n.prototype.isKnown=function(e){return ke(e)&&this.known.has(e)},n.prototype.pass=function(e){if(ke(e)){var t=$Q(e);return this.passes.set(t,e),t}return e},n.prototype.admit=function(e){var t=this;if(ke(e)){var r=this.passes.get(e);if(r)return r;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),c=[a],u=this.sortedKeys(e);c.push(u.json);var d=c.length;u.sorted.forEach(function(m){c.push(t.admit(e[m]))});var s=this.pool.lookupArray(c);if(!s.object){var f=s.object=Object.create(a);this.known.add(f),u.sorted.forEach(function(m,y){f[m]=c[d+y]}),globalThis.__DEV__!==!1&&Object.freeze(f)}return s.object}}}return e},n.prototype.sortedKeys=function(e){var t=Object.keys(e),r=this.pool.lookupArray(t);if(!r.keys){t.sort();var i=JSON.stringify(t);(r.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,r.keys={sorted:t,json:i})}return r.keys},n}();function _N(n){return[n.selectionSet,n.objectOrReference,n.context,n.context.canonizeResults]}var EN=function(){function n(e){var t=this;this.knownResults=new(Un?WeakMap:Map),this.config=ri(e,{addTypename:e.addTypename!==!1,canonizeResults:Xm(e)}),this.canon=e.canon||new lI,this.executeSelectionSet=Ki(function(r){var i,o=r.context.canonizeResults,s=_N(r);s[3]=!o;var a=(i=t.executeSelectionSet).peek.apply(i,s);return a?o?A(A({},a),{result:t.canon.admit(a.result)}):a:(cI(r.context.store,r.enclosingRef.__ref),t.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize||Pt["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:_N,makeCacheKey:function(r,i,o,s){if(Xs(o.store))return o.store.makeCacheKey(r,De(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Ki(function(r){return cI(r.context.store,r.enclosingRef.__ref),t.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize||Pt["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(r){var i=r.field,o=r.array,s=r.context;if(Xs(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return n.prototype.resetCanon=function(){this.canon=new lI},n.prototype.diffQueryAgainstStore=function(e){var t=e.store,r=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,c=a===void 0?!0:a,u=e.canonizeResults,d=u===void 0?this.config.canonizeResults:u,f=this.config.cache.policies;s=A(A({},Gs(qu(r))),s);var p=sr(o),m=this.executeSelectionSet({selectionSet:Cr(r).selectionSet,objectOrReference:p,enclosingRef:p,context:A({store:t,query:r,policies:f,variables:s,varString:fn(s),canonizeResults:d},eg(r,this.config.fragments))}),y;if(m.missing&&(y=[new od(zQ(m.missing),m.missing,r,s)],!c))throw y[0];return{result:m.result,complete:!y,missing:y}},n.prototype.isFresh=function(e,t,r,i){if(Xs(i.store)&&this.knownResults.get(e)===r){var o=this.executeSelectionSet.peek(r,t,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},n.prototype.execSelectionSetImpl=function(e){var t=this,r=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(De(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,c=s.policies,u=s.store,d=u.getFieldValue(i,"__typename"),f=[],p,m=new xn;this.config.addTypename&&typeof d=="string"&&!c.rootIdsByTypename[d]&&f.push({__typename:d});function y(x,V){var U;return x.missing&&(p=m.merge(p,(U={},U[V]=x.missing,U))),x.result}var _=new Set(r.selections);_.forEach(function(x){var V,U;if(Tr(x,a))if(pn(x)){var q=c.readField({fieldName:x.name.value,field:x,variables:s.variables,from:i},s),C=nn(x);q===void 0?Qs.added(x)||(p=m.merge(p,(V={},V[C]="Can't find field '".concat(x.name.value,"' on ").concat(De(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),V))):Qe(q)?q.length>0&&(q=y(t.executeSubSelectedArray({field:x,array:q,enclosingRef:o,context:s}),C)):x.selectionSet?q!=null&&(q=y(t.executeSelectionSet({selectionSet:x.selectionSet,objectOrReference:q,enclosingRef:De(q)?q:o,context:s}),C)):s.canonizeResults&&(q=t.canon.pass(q)),q!==void 0&&f.push((U={},U[C]=q,U))}else{var E=Hi(x,s.lookupFragment);if(!E&&x.kind===Y.FRAGMENT_SPREAD)throw Ze(10,x.name.value);E&&c.fragmentMatches(E,d)&&E.selectionSet.selections.forEach(_.add,_)}});var w=Ks(f),b={result:w,missing:p},k=s.canonizeResults?this.canon.admit(b):Uo(b);return k.result&&this.knownResults.set(k.result,r),k},n.prototype.execSubSelectedArrayImpl=function(e){var t=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context,a,c=new xn;function u(d,f){var p;return d.missing&&(a=c.merge(a,(p={},p[f]=d.missing,p))),d.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(d,f){return d===null?null:Qe(d)?u(t.executeSubSelectedArray({field:r,array:d,enclosingRef:o,context:s}),f):r.selectionSet?u(t.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:d,enclosingRef:De(d)?d:o,context:s}),f):(globalThis.__DEV__!==!1&&qQ(s.store,r,d),d)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},n}();function zQ(n){try{JSON.stringify(n,function(e,t){if(typeof t=="string")throw t;return t})}catch(e){return e}}function qQ(n,e,t){if(!e.selectionSet){var r=new Set([t]);r.forEach(function(i){ke(i)&&(K(!De(i),11,mN(n,i),e.name.value),Object.values(i).forEach(r.add,r))})}}var Uc=new Qi,wN=new WeakMap;function ad(n){var e=wN.get(n);return e||wN.set(n,e={vars:new Set,dep:Qu()}),e}function uI(n){ad(n).vars.forEach(function(e){return e.forgetCache(n)})}function bN(n){ad(n).vars.forEach(function(e){return e.attachCache(n)})}function ng(n){var e=new Set,t=new Set,r=function(o){if(arguments.length>0){if(n!==o){n=o,e.forEach(function(c){ad(c).dep.dirty(r),HQ(c)});var s=Array.from(t);t.clear(),s.forEach(function(c){return c(n)})}}else{var a=Uc.getValue();a&&(i(a),ad(a).dep(r))}return n};r.onNextChange=function(o){return t.add(o),function(){t.delete(o)}};var i=r.attachCache=function(o){return e.add(o),ad(o).vars.add(r),r};return r.forgetCache=function(o){return e.delete(o)},r}function HQ(n){n.broadcastWatches&&n.broadcastWatches()}var IN=Object.create(null);function dI(n){var e=JSON.stringify(n);return IN[e]||(IN[e]=Object.create(null))}function hI(n){var e=dI(n);return e.keyFieldsFn||(e.keyFieldsFn=function(t,r){var i=function(s,a){return r.readField(a,s)},o=r.keyObject=pI(n,function(s){var a=$c(r.storeObject,s,i);return a===void 0&&t!==r.storeObject&&ft.call(t,s[0])&&(a=$c(t,s,CN)),K(a!==void 0,5,s.join("."),t),a});return"".concat(r.typename,":").concat(JSON.stringify(o))})}function fI(n){var e=dI(n);return e.keyArgsFn||(e.keyArgsFn=function(t,r){var i=r.field,o=r.variables,s=r.fieldName,a=pI(n,function(u){var d=u[0],f=d.charAt(0);if(f==="@"){if(i&&zt(i.directives)){var p=d.slice(1),m=i.directives.find(function(b){return b.name.value===p}),y=m&&Gi(m,o);return y&&$c(y,u.slice(1))}return}if(f==="$"){var _=d.slice(1);if(o&&ft.call(o,_)){var w=u.slice(0);return w[0]=_,$c(o,w)}return}if(t)return $c(t,u)}),c=JSON.stringify(a);return(t||c!=="{}")&&(s+=":"+c),s})}function pI(n,e){var t=new xn;return TN(n).reduce(function(r,i){var o,s=e(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);r=t.merge(r,s)}return r},Object.create(null))}function TN(n){var e=dI(n);if(!e.paths){var t=e.paths=[],r=[];n.forEach(function(i,o){Qe(i)?(TN(i).forEach(function(s){return t.push(r.concat(s))}),r.length=0):(r.push(i),Qe(n[o+1])||(t.push(r.slice(0)),r.length=0))})}return e.paths}function CN(n,e){return n[e]}function $c(n,e,t){return t=t||CN,DN(e.reduce(function r(i,o){return Qe(i)?i.map(function(s){return r(s,o)}):i&&t(i,o)},n))}function DN(n){return ke(n)?Qe(n)?n.map(DN):pI(Object.keys(n).sort(),function(e){return $c(n,e)}):n}function mI(n){return n.args!==void 0?n.args:n.field?Gi(n.field,n.variables):null}var GQ=function(){},SN=function(n,e){return e.fieldName},AN=function(n,e,t){var r=t.mergeObjects;return r(n,e)},xN=function(n,e){return e},MN=function(){function n(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=A({dataIdFromObject:Jm},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return n.prototype.identify=function(e,t){var r,i=this,o=t&&(t.typename||((r=t.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var s=t&&t.storeObject||e,a=A(A({},t),{typename:o,storeObject:s,readField:t&&t.readField||function(){var f=rg(arguments,s);return i.readField(f,{store:i.cache.data,variables:f.variables})}}),c,u=o&&this.getTypePolicy(o),d=u&&u.keyFn||this.config.dataIdFromObject;return jc.withValue(!0,function(){for(;d;){var f=d(A(A({},e),s),a);if(Qe(f))d=hI(f);else{c=f;break}}}),c=c?String(c):void 0,a.keyObject?[c,a.keyObject]:[c]},n.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(r){var i=e[r],o=i.queryType,s=i.mutationType,a=i.subscriptionType,c=Ct(i,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",r),s&&t.setRootTypename("Mutation",r),a&&t.setRootTypename("Subscription",r),ft.call(t.toBeAdded,r)?t.toBeAdded[r].push(c):t.toBeAdded[r]=[c]})},n.prototype.updateTypePolicy=function(e,t){var r=this,i=this.getTypePolicy(e),o=t.keyFields,s=t.fields;function a(c,u){c.merge=typeof u=="function"?u:u===!0?AN:u===!1?xN:c.merge}a(i,t.merge),i.keyFn=o===!1?GQ:Qe(o)?hI(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(c){var u=r.getFieldPolicy(e,c,!0),d=s[c];if(typeof d=="function")u.read=d;else{var f=d.keyArgs,p=d.read,m=d.merge;u.keyFn=f===!1?SN:Qe(f)?fI(f):typeof f=="function"?f:u.keyFn,typeof p=="function"&&(u.read=p),a(u,m)}u.read&&u.merge&&(u.keyFn=u.keyFn||SN)})},n.prototype.setRootTypename=function(e,t){t===void 0&&(t=e);var r="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[r];t!==i&&(K(!i||i===e,6,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[t]=r,this.rootTypenamesById[r]=t)},n.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){t.getSupertypeSet(r,!0),e[r].forEach(function(i){t.getSupertypeSet(i,!0).add(r);var o=i.match(oI);(!o||o[0]!==i)&&t.fuzzySubtypes.set(i,new RegExp(i))})})},n.prototype.getTypePolicy=function(e){var t=this;if(!ft.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(e)){var c=t.supertypeMap.get(a);c&&c.forEach(function(u){return i.add(u)})}})),i&&i.size&&i.forEach(function(s){var a=t.getTypePolicy(s),c=a.fields,u=Ct(a,["fields"]);Object.assign(r,u),Object.assign(r.fields,c)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){t.updateTypePolicy(e,s)}),this.typePolicies[e]},n.prototype.getFieldPolicy=function(e,t,r){if(e){var i=this.getTypePolicy(e).fields;return i[t]||r&&(i[t]=Object.create(null))}},n.prototype.getSupertypeSet=function(e,t){var r=this.supertypeMap.get(e);return!r&&t&&this.supertypeMap.set(e,r=new Set),r},n.prototype.fragmentMatches=function(e,t,r,i){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var s=e.typeCondition.name.value;if(t===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(t,!0),c=[a],u=function(y){var _=o.getSupertypeSet(y,!1);_&&_.size&&c.indexOf(_)<0&&c.push(_)},d=!!(r&&this.fuzzySubtypes.size),f=!1,p=0;p<c.length;++p){var m=c[p];if(m.has(s))return a.has(s)||(f&&globalThis.__DEV__!==!1&&K.warn(7,t,s),a.add(s)),!0;m.forEach(u),d&&p===c.length-1&&Zm(e.selectionSet,r,i)&&(d=!1,f=!0,this.fuzzySubtypes.forEach(function(y,_){var w=t.match(y);w&&w[0]===t&&u(_)}))}return!1},n.prototype.hasKeyArgs=function(e,t){var r=this.getFieldPolicy(e,t,!1);return!!(r&&r.keyFn)},n.prototype.getStoreFieldName=function(e){var t=e.typename,r=e.fieldName,i=this.getFieldPolicy(t,r,!1),o,s=i&&i.keyFn;if(s&&t)for(var a={typename:t,fieldName:r,field:e.field||null,variables:e.variables},c=mI(e);s;){var u=s(c,a);if(Qe(u))s=fI(u);else{o=u||r;break}}return o===void 0&&(o=e.field?R0(e.field,e.variables):Rm(r,mI(e))),o===!1?r:r===Sr(o)?o:r+":"+o},n.prototype.readField=function(e,t){var r=e.from;if(r){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var o=t.store.getFieldValue(r,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=Sr(s),c=t.store.getFieldValue(r,s),u=this.getFieldPolicy(e.typename,a,!1),d=u&&u.read;if(d){var f=RN(this,r,e,t,t.store.getStorage(De(r)?r.__ref:r,s));return Uc.withValue(this.cache,d,[c,f])}return c}}},n.prototype.getReadFunction=function(e,t){var r=this.getFieldPolicy(e,t,!1);return r&&r.read},n.prototype.getMergeFunction=function(e,t,r){var i=this.getFieldPolicy(e,t,!1),o=i&&i.merge;return!o&&r&&(i=this.getTypePolicy(r),o=i&&i.merge),o},n.prototype.runMergeFunction=function(e,t,r,i,o){var s=r.field,a=r.typename,c=r.merge;return c===AN?PN(i.store)(e,t):c===xN?t:(i.overwrite&&(e=void 0),c(e,t,RN(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},n}();function RN(n,e,t,r,i){var o=n.getStoreFieldName(t),s=Sr(o),a=t.variables||r.variables,c=r.store,u=c.toReference,d=c.canRead;return{args:mI(t),field:t.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:De,toReference:u,storage:i,cache:n.cache,canRead:d,readField:function(){return n.readField(rg(arguments,e,a),r)},mergeObjects:PN(r.store)}}function rg(n,e,t){var r=n[0],i=n[1],o=n.length,s;return typeof r=="string"?s={fieldName:r,from:o>1?i:e}:(s=A({},r),ft.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&K.warn(8,ym(Array.from(n))),s.variables===void 0&&(s.variables=t),s}function PN(n){return function(t,r){if(Qe(t)||Qe(r))throw Ze(9);if(ke(t)&&ke(r)){var i=n.getFieldValue(t,"__typename"),o=n.getFieldValue(r,"__typename"),s=i&&o&&i!==o;if(s)return r;if(De(t)&&zo(r))return n.merge(t.__ref,r),t;if(zo(t)&&De(r))return n.merge(t,r.__ref),r;if(zo(t)&&zo(r))return A(A({},t),r)}return r}}function gI(n,e,t){var r="".concat(e).concat(t),i=n.flavors.get(r);return i||n.flavors.set(r,i=n.clientOnly===e&&n.deferred===t?n:A(A({},n),{clientOnly:e,deferred:t})),i}var FN=function(){function n(e,t,r){this.cache=e,this.reader=t,this.fragments=r}return n.prototype.writeToStore=function(e,t){var r=this,i=t.query,o=t.result,s=t.dataId,a=t.variables,c=t.overwrite,u=zn(i),d=gN();a=A(A({},Gs(u)),a);var f=A(A({store:e,written:Object.create(null),merge:function(m,y){return d.merge(m,y)},variables:a,varString:fn(a)},eg(i,this.fragments)),{overwrite:!!c,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:f});if(!De(p))throw Ze(12,o);return f.incomingById.forEach(function(m,y){var _=m.storeObject,w=m.mergeTree,b=m.fieldNodeSet,k=sr(y);if(w&&w.map.size){var x=r.applyMerges(w,k,_,f);if(De(x))return;_=x}if(globalThis.__DEV__!==!1&&!f.overwrite){var V=Object.create(null);b.forEach(function(C){C.selectionSet&&(V[C.name.value]=!0)});var U=function(C){return V[Sr(C)]===!0},q=function(C){var E=w&&w.map.get(C);return!!(E&&E.info&&E.info.merge)};Object.keys(_).forEach(function(C){U(C)&&!q(C)&&WQ(k,_,C,f.store)})}e.merge(y,_)}),e.retain(p.__ref),p},n.prototype.processSelectionSet=function(e){var t=this,r=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,c=this.cache.policies,u=Object.create(null),d=r&&c.rootTypenamesById[r]||zu(i,o,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof d=="string"&&(u.__typename=d);var f=function(){var x=rg(arguments,u,s.variables);if(De(x.from)){var V=s.incomingById.get(x.from.__ref);if(V){var U=c.readField(A(A({},x),{from:V.storeObject}),s);if(U!==void 0)return U}}return c.readField(x,s)},p=new Set;this.flattenFields(o,i,s,d).forEach(function(x,V){var U,q=nn(V),C=i[q];if(p.add(V),C!==void 0){var E=c.getStoreFieldName({typename:d,fieldName:V.name.value,field:V,variables:x.variables}),I=kN(a,E),D=t.processFieldValue(C,V,V.selectionSet?gI(x,!1,!1):x,I),R=void 0;V.selectionSet&&(De(D)||zo(D))&&(R=f("__typename",D));var M=c.getMergeFunction(d,V.name.value,R);M?I.info={field:V,typename:d,merge:M}:ON(a,E),u=x.merge(u,(U={},U[E]=D,U))}else globalThis.__DEV__!==!1&&!x.clientOnly&&!x.deferred&&!Qs.added(V)&&!c.getReadFunction(d,V.name.value)&&globalThis.__DEV__!==!1&&K.error(13,nn(V),i)});try{var m=c.identify(i,{typename:d,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:u,readField:f}),y=m[0],_=m[1];r=r||y,_&&(u=s.merge(u,_))}catch(x){if(!r)throw x}if(typeof r=="string"){var w=sr(r),b=s.written[r]||(s.written[r]=[]);if(b.indexOf(o)>=0||(b.push(o),this.reader&&this.reader.isFresh(i,w,o,s)))return w;var k=s.incomingById.get(r);return k?(k.storeObject=s.merge(k.storeObject,u),k.mergeTree=yI(k.mergeTree,a),p.forEach(function(x){return k.fieldNodeSet.add(x)})):s.incomingById.set(r,{storeObject:u,mergeTree:ig(a)?void 0:a,fieldNodeSet:p}),w}return u},n.prototype.processFieldValue=function(e,t,r,i){var o=this;return!t.selectionSet||e===null?globalThis.__DEV__!==!1?Om(e):e:Qe(e)?e.map(function(s,a){var c=o.processFieldValue(s,t,r,kN(i,a));return ON(i,a),c}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:r,mergeTree:i})},n.prototype.flattenFields=function(e,t,r,i){i===void 0&&(i=zu(t,e,r.fragmentMap));var o=new Map,s=this.cache.policies,a=new hn(!1);return function c(u,d){var f=a.lookup(u,d.clientOnly,d.deferred);f.visited||(f.visited=!0,u.selections.forEach(function(p){if(Tr(p,r.variables)){var m=d.clientOnly,y=d.deferred;if(!(m&&y)&&zt(p.directives)&&p.directives.forEach(function(b){var k=b.name.value;if(k==="client"&&(m=!0),k==="defer"){var x=Gi(b,r.variables);(!x||x.if!==!1)&&(y=!0)}}),pn(p)){var _=o.get(p);_&&(m=m&&_.clientOnly,y=y&&_.deferred),o.set(p,gI(r,m,y))}else{var w=Hi(p,r.lookupFragment);if(!w&&p.kind===Y.FRAGMENT_SPREAD)throw Ze(14,p.name.value);w&&s.fragmentMatches(w,i,t,r.variables)&&c(w.selectionSet,gI(r,m,y))}}}))}(e,r),o},n.prototype.applyMerges=function(e,t,r,i,o){var s,a=this;if(e.map.size&&!De(r)){var c=!Qe(r)&&(De(t)||zo(t))?t:void 0,u=r;c&&!o&&(o=[De(c)?c.__ref:c]);var d,f=function(p,m){return Qe(p)?typeof m=="number"?p[m]:void 0:i.store.getFieldValue(p,String(m))};e.map.forEach(function(p,m){var y=f(c,m),_=f(u,m);if(_!==void 0){o&&o.push(m);var w=a.applyMerges(p,y,_,i,o);w!==_&&(d=d||new Map,d.set(m,w)),o&&K(o.pop()===m)}}),d&&(r=Qe(u)?u.slice(0):A({},u),d.forEach(function(p,m){r[m]=p}))}return e.info?this.cache.policies.runMergeFunction(t,r,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):r},n}();var LN=[];function kN(n,e){var t=n.map;return t.has(e)||t.set(e,LN.pop()||{map:new Map}),t.get(e)}function yI(n,e){if(n===e||!e||ig(e))return n;if(!n||ig(n))return e;var t=n.info&&e.info?A(A({},n.info),e.info):n.info||e.info,r=n.map.size&&e.map.size,i=r?new Map:n.map.size?n.map:e.map,o={info:t,map:i};if(r){var s=new Set(e.map.keys());n.map.forEach(function(a,c){o.map.set(c,yI(a,e.map.get(c))),s.delete(c)}),s.forEach(function(a){o.map.set(a,yI(e.map.get(a),n.map.get(a)))})}return o}function ig(n){return!n||!(n.info||n.map.size)}function ON(n,e){var t=n.map,r=t.get(e);r&&ig(r)&&(LN.push(r),t.delete(e))}var NN=new Set;function WQ(n,e,t,r){var i=function(f){var p=r.getFieldValue(f,t);return typeof p=="object"&&p},o=i(n);if(o){var s=i(e);if(s&&!De(o)&&!qe(o,s)&&!Object.keys(o).every(function(f){return r.getFieldValue(s,f)!==void 0})){var a=r.getFieldValue(n,"__typename")||r.getFieldValue(e,"__typename"),c=Sr(t),u="".concat(a,".").concat(c);if(!NN.has(u)){NN.add(u);var d=[];!Qe(o)&&!Qe(s)&&[o,s].forEach(function(f){var p=r.getFieldValue(f,"__typename");typeof p=="string"&&!d.includes(p)&&d.push(p)}),globalThis.__DEV__!==!1&&K.warn(15,c,a,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",u,A({},o),A({},s))}}}}var cd=function(n){gt(e,n);function e(t){t===void 0&&(t={});var r=n.call(this)||this;return r.watches=new Set,r.addTypenameTransform=new Oc(Qs),r.assumeImmutableResults=!0,r.makeVar=ng,r.txCount=0,r.config=pN(t),r.addTypename=!!r.config.addTypename,r.policies=new MN({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var t=this.data=new Bc.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var r=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new FN(this,this.storeReader=new EN({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Xm(this.config),canon:t?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Ki(function(s,a){return r.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize||Pt["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(s){var a=s.optimistic?r.optimisticData:r.data;if(Xs(a)){var c=s.optimistic,u=s.id,d=s.variables;return a.makeCacheKey(s.query,s.callback,fn({optimistic:c,id:u,variables:d}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var r=t.returnPartialData,i=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(A(A({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof od)return null;throw o}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(t){if(ft.call(t,"id")&&!t.id)return!1;var r=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore(A(A({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var r=this;return this.watches.size||bN(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){r.watches.delete(t)&&!r.watches.size&&uI(r),r.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){var r;fn.reset(),Dr.reset(),this.addTypenameTransform.resetCache(),(r=this.config.fragments)===null||r===void 0||r.resetCaches();var i=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),i},e.prototype.retain=function(t,r){return(r?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,r){return(r?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(De(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(r){globalThis.__DEV__!==!1&&K.warn(r)}},e.prototype.evict=function(t){if(!t.id){if(ft.call(t,"id"))return!1;t=A(A({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(t){var r=this;return this.init(),fn.reset(),t&&t.discardWatches?(this.watches.forEach(function(i){return r.maybeBroadcastWatch.forget(i)}),this.watches.clear(),uI(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var r=this.optimisticData.removeLayer(t);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(t){var r=this,i=t.update,o=t.optimistic,s=o===void 0?!0:o,a=t.removeOptimistic,c=t.onWatchUpdated,u,d=function(p){var m=r,y=m.data,_=m.optimisticData;++r.txCount,p&&(r.data=r.optimisticData=p);try{return u=i(r)}finally{--r.txCount,r.data=y,r.optimisticData=_}},f=new Set;return c&&!this.txCount&&this.broadcastWatches(A(A({},t),{onWatchUpdated:function(p){return f.add(p),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,d):s===!1?d(this.data):d(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),c&&f.size?(this.broadcastWatches(A(A({},t),{onWatchUpdated:function(p,m){var y=c.call(this,p,m);return y!==!1&&f.delete(p),y}})),f.size&&f.forEach(function(p){return r.maybeBroadcastWatch.dirty(p)})):this.broadcastWatches(t),u},e.prototype.performTransaction=function(t,r){return this.batch({update:t,optimistic:r||r!==null})},e.prototype.transformDocument=function(t){return this.addTypenameToDocument(this.addFragmentsToDocument(t))},e.prototype.fragmentMatches=function(t,r){return this.policies.fragmentMatches(t,r)},e.prototype.lookupFragment=function(t){var r;return((r=this.config.fragments)===null||r===void 0?void 0:r.lookup(t))||null},e.prototype.broadcastWatches=function(t){var r=this;this.txCount||this.watches.forEach(function(i){return r.maybeBroadcastWatch(i,t)})},e.prototype.addFragmentsToDocument=function(t){var r=this.config.fragments;return r?r.transform(t):t},e.prototype.addTypenameToDocument=function(t){return this.addTypename?this.addTypenameTransform.transformDocument(t):t},e.prototype.broadcastWatch=function(t,r){var i=t.lastDiff,o=this.diff(t);r&&(t.optimistic&&typeof r.optimistic=="string"&&(o.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,t,o,i)===!1)||(!i||!qe(i.result,o.result))&&t.callback(t.lastDiff=o,i)},e}(Ym);globalThis.__DEV__!==!1&&(cd.prototype.getMemoryInternals=lO);var Me=function(n){return n[n.loading=1]="loading",n[n.setVariables=2]="setVariables",n[n.fetchMore=3]="fetchMore",n[n.refetch=4]="refetch",n[n.poll=6]="poll",n[n.ready=7]="ready",n[n.error=8]="error",n}(Me||{});function Zi(n){return n?n<7:!1}var VN=Object.assign,QQ=Object.hasOwnProperty,og=function(n){gt(e,n);function e(t){var r=t.queryManager,i=t.queryInfo,o=t.options,s=n.call(this,function(w){try{var b=w._subscription._observer;b&&!b.error&&(b.error=KQ)}catch{}var k=!s.observers.size;s.observers.add(w);var x=s.last;return x&&x.error?w.error&&w.error(x.error):x&&x.result&&w.next&&w.next(s.maskResult(x.result)),k&&s.reobserve().catch(function(){}),function(){s.observers.delete(w)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=r,s.waitForOwnResult=vI(o.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var a=r.defaultOptions.watchQuery,c=a===void 0?{}:a,u=c.fetchPolicy,d=u===void 0?"cache-first":u,f=o.fetchPolicy,p=f===void 0?d:f,m=o.initialFetchPolicy,y=m===void 0?p==="standby"?d:p:m;s.options=A(A({},o),{initialFetchPolicy:y,fetchPolicy:p}),s.queryId=i.queryId||r.generateQueryId();var _=zn(s.query);return s.queryName=_&&_.name&&_.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(r,i){var o={next:function(a){r(a),t.observers.delete(o),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=t.subscribe(o)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentFullResult=function(t){t===void 0&&(t=!0);var r=this.getLastResult(!0),i=this.queryInfo.networkStatus||r&&r.networkStatus||Me.ready,o=A(A({},r),{loading:Zi(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(vI(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var c=this.queryInfo.getDiff();(c.complete||this.options.returnPartialData)&&(o.data=c.result),qe(o.data,{})&&(o.data=void 0),c.complete?(delete o.partial,c.complete&&o.networkStatus===Me.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=Me.ready,o.loading=!1)):o.partial=!0,o.networkStatus===Me.ready&&(o.error||o.errors)&&(o.networkStatus=Me.error),globalThis.__DEV__!==!1&&!c.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&EI(c.missing)}return t&&this.updateLastResult(o),o},e.prototype.getCurrentResult=function(t){return t===void 0&&(t=!0),this.maskResult(this.getCurrentFullResult(t))},e.prototype.isDifferentFromLastResult=function(t,r){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query),o=this.queryManager.dataMasking,s=o?i.nonReactiveQuery:this.query,a=o||i.hasNonreactiveDirective?!Hm(s,this.last.result,t,this.variables):!qe(this.last.result,t);return a||r&&!qe(this.last.variables,r)},e.prototype.getLast=function(t,r){var i=this.last;if(i&&i[t]&&(!r||qe(i.variables,this.variables)))return i[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var r,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&t&&QQ.call(t,"variables")){var s=qu(this.query),a=s.variableDefinitions;(!a||!a.some(function(c){return c.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&K.warn(21,t,((r=s.name)===null||r===void 0?void 0:r.value)||s)}return t&&!qe(this.options.variables,t)&&(i.variables=this.options.variables=A(A({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(i,Me.refetch)},e.prototype.fetchMore=function(t){var r=this,i=A(A({},t.query?t:A(A(A(A({},this.options),{query:this.options.query}),t),{variables:A(A({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=t.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=Me.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var c=new Set,u=t?.updateQuery,d=this.options.fetchPolicy!=="no-cache";return d||K(u,22),this.queryManager.fetchQuery(o,i,Me.fetchMore).then(function(f){if(r.queryManager.removeQuery(o),s.networkStatus===Me.fetchMore&&(s.networkStatus=a),d)r.queryManager.cache.batch({update:function(y){var _=t.updateQuery;_?y.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(w){return _(w,{fetchMoreResult:f.data,variables:i.variables})}):y.writeQuery({query:i.query,variables:i.variables,data:f.data})},onWatchUpdated:function(y){c.add(y.query)}});else{var p=r.getLast("result"),m=u(p.data,{fetchMoreResult:f.data,variables:i.variables});r.reportResult(A(A({},p),{networkStatus:a,loading:Zi(a),data:m}),r.variables)}return r.maskResult(f)}).finally(function(){d&&!c.has(r.query)&&_I(r)})},e.prototype.subscribeToMore=function(t){var r=this,i=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(o){var s=t.updateQuery;s&&r.updateQuery(function(a,c){return s(a,A({subscriptionData:o},c))})},error:function(o){if(t.onError){t.onError(o);return}globalThis.__DEV__!==!1&&K.error(23,o)}});return this.subscriptions.add(i),function(){r.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.silentSetOptions=function(t){var r=ri(this.options,t||{});VN(this.options,r)},e.prototype.setVariables=function(t){return qe(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},Me.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var r=this.queryManager,i=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),o=i.result,s=i.complete,a=t(o,{variables:this.variables,complete:!!s,previousData:o});a&&(r.cache.writeQuery({query:this.options.query,data:a,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,r){if(r.nextFetchPolicy){var i=r.fetchPolicy,o=i===void 0?"cache-first":i,s=r.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(o,{reason:t,options:r,observable:this,initialFetchPolicy:a}):t==="variables-changed"?r.fetchPolicy=a:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(t,r,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,t,r,i)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var r=this,i=r.pollingInfo,o=r.options.pollInterval;if(!o||!this.hasObservers()){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){K(o,24);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){var u,d;t.pollingInfo&&(!Zi(t.queryInfo.networkStatus)&&!(!((d=(u=t.options).skipPollAttempt)===null||d===void 0)&&d.call(u))?t.reobserve({fetchPolicy:t.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},Me.poll).then(c,c):c())},c=function(){var u=t.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(a,u.interval))};c()}}},e.prototype.updateLastResult=function(t,r){r===void 0&&(r=this.variables);var i=this.getLastError();return i&&this.last&&!qe(r,this.last.variables)&&(i=void 0),this.last=A({result:this.queryManager.assumeImmutableResults?t:Om(t),variables:r},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(t,r){var i=this;this.isTornDown=!1;var o=r===Me.refetch||r===Me.fetchMore||r===Me.poll,s=this.options.variables,a=this.options.fetchPolicy,c=ri(this.options,t||{}),u=o?c:VN(this.options,c),d=this.transformDocument(u.query);this.lastQuery=d,o||(this.updatePolling(),t&&t.variables&&!qe(t.variables,s)&&u.fetchPolicy!=="standby"&&(u.fetchPolicy===a||typeof u.nextFetchPolicy=="function")&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=Me.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=vI(u.fetchPolicy));var f=function(){i.concast===y&&(i.waitForOwnResult=!1)},p=u.variables&&A({},u.variables),m=this.fetch(u,r,d),y=m.concast,_=m.fromLink,w={next:function(b){qe(i.variables,p)&&(f(),i.reportResult(b,p))},error:function(b){qe(i.variables,p)&&(zm(b)||(b=new Yi({networkError:b})),f(),i.reportError(b,p))}};return!o&&(_||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=y,this.observer=w),y.addObserver(w),y},e.prototype.reobserve=function(t,r){return G0(this.reobserveAsConcast(t,r).promise.then(this.maskResult))},e.prototype.resubscribeAfterError=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,t);return this.last=i,o},e.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},e.prototype.reportResult=function(t,r){var i=this.getLastError(),o=this.isDifferentFromLastResult(t,r);(i||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,r),(i||o)&&Ys(this.observers,"next",this.maskResult(t))},e.prototype.reportError=function(t,r){var i=A(A({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:Me.error,loading:!1});this.updateLastResult(i,r),Ys(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(t){return this.queryManager.transform(t)},e.prototype.maskResult=function(t){return t&&"data"in t?A(A({},t),{data:this.queryManager.maskOperation({document:this.query,data:t.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):t},e}(ge);Fm(og);function _I(n){var e=n.options,t=e.fetchPolicy,r=e.nextFetchPolicy;return t==="cache-and-network"||t==="network-only"?n.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=r,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):t}}):n.reobserve()}function KQ(n){globalThis.__DEV__!==!1&&K.error(25,n.message,n.stack)}function EI(n){globalThis.__DEV__!==!1&&n&&globalThis.__DEV__!==!1&&K.debug(26,n)}function vI(n){return n==="network-only"||n==="no-cache"||n==="standby"}var zc=new(Un?WeakMap:Map);function wI(n,e){var t=n[e];typeof t=="function"&&(n[e]=function(){return zc.set(n,(zc.get(n)+1)%1e15),t.apply(this,arguments)})}function jN(n){n.notifyTimeout&&(clearTimeout(n.notifyTimeout),n.notifyTimeout=void 0)}var sg=function(){function n(e,t){t===void 0&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;zc.has(r)||(zc.set(r,0),wI(r,"evict"),wI(r,"modify"),wI(r,"reset"))}return n.prototype.init=function(e){var t=e.networkStatus||Me.loading;return this.variables&&this.networkStatus!==Me.loading&&!qe(this.variables,e.variables)&&(t=Me.setVariables),qe(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},n.prototype.reset=function(){jN(this),this.dirty=!1},n.prototype.resetDiff=function(){this.lastDiff=void 0},n.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&qe(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&t.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(e);return this.updateLastDiff(r,e),r},n.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},n.prototype.getDiffOptions=function(e){var t;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(t=this.observableQuery)===null||t===void 0?void 0:t.options.canonizeResults}},n.prototype.setDiff=function(e){var t=this,r,i=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(!((r=this.observableQuery)===null||r===void 0)&&r.getLastError())||(this.updateLastDiff(e),!this.dirty&&!qe(i&&i.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0))))},n.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=t.getDiff();r.fromOptimisticTransaction?e.observe():_I(e)})):delete this.oqListener)},n.prototype.notify=function(){var e=this;jN(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},n.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Zi(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},n.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel();var e=this.observableQuery;e&&e.stopPolling()}},n.prototype.cancel=function(){var e;(e=this.cancelWatch)===null||e===void 0||e.call(this),this.cancelWatch=void 0},n.prototype.updateWatch=function(e){var t=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var i=A(A({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return t.setDiff(o)}});(!this.lastWatch||!qe(i,this.lastWatch))&&(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=i))}},n.prototype.resetLastWrite=function(){this.lastWrite=void 0},n.prototype.shouldWrite=function(e,t){var r=this.lastWrite;return!(r&&r.dmCount===zc.get(this.cache)&&qe(t,r.variables)&&qe(e.data,r.result.data))},n.prototype.markResult=function(e,t,r,i){var o=this,s=new xn,a=zt(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&zt(e.incremental)){var c=Lm(this.getDiff().result,e);e.data=c}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=a,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):i!==0&&(ag(e,r.errorPolicy)?this.cache.performTransaction(function(d){if(o.shouldWrite(e,r.variables))d.writeQuery({query:t,data:e.data,variables:r.variables,overwrite:i===1}),o.lastWrite={result:e,variables:r.variables,dmCount:zc.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var f=o.getDiffOptions(r.variables),p=d.diff(f);!o.stopped&&qe(o.variables,r.variables)&&o.updateWatch(r.variables),o.updateLastDiff(p,f),p.complete&&(e.data=p.result)}):this.lastWrite=void 0)},n.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Me.ready},n.prototype.markError=function(e){return this.networkStatus=Me.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},n}();function ag(n,e){e===void 0&&(e="none");var t=e==="ignore"||e==="all",r=!Lc(n);return!r&&t&&n.data&&(r=!0),r}var YQ=Object.prototype.hasOwnProperty,BN=Object.create(null),UN=function(){function n(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Rc(Pt["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new hn(!1),this.noCacheWarningsByQueryId=new Set;var r=new Oc(function(o){return t.cache.transformDocument(o)},{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var i=e.documentTransform;this.documentTransform=i?r.concat(i).concat(r):r,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return n.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(Ze(27))},n.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},n.prototype.mutate=function(e){return Nn(this,arguments,void 0,function(t){var r,i,o,s,a,c,u,d=t.mutation,f=t.variables,p=t.optimisticResponse,m=t.updateQueries,y=t.refetchQueries,_=y===void 0?[]:y,w=t.awaitRefetchQueries,b=w===void 0?!1:w,k=t.update,x=t.onQueryUpdated,V=t.fetchPolicy,U=V===void 0?((c=this.defaultOptions.mutate)===null||c===void 0?void 0:c.fetchPolicy)||"network-only":V,q=t.errorPolicy,C=q===void 0?((u=this.defaultOptions.mutate)===null||u===void 0?void 0:u.errorPolicy)||"none":q,E=t.keepRootFields,I=t.context;return ur(this,function(D){switch(D.label){case 0:return K(d,28),K(U==="network-only"||U==="no-cache",29),r=this.generateMutationId(),d=this.cache.transformForLink(this.transform(d)),i=this.getDocumentInfo(d).hasClientExports,f=this.getVariables(d,f),i?[4,this.localState.addExportedVariables(d,f,I)]:[3,2];case 1:f=D.sent(),D.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[r]={mutation:d,variables:f,loading:!0,error:null}),s=p&&this.markMutationOptimistic(p,{mutationId:r,document:d,variables:f,fetchPolicy:U,errorPolicy:C,context:I,updateQueries:m,update:k,keepRootFields:E}),this.broadcastQueries(),a=this,[2,new Promise(function(R,M){return Nm(a.getObservableFromLink(d,A(A({},I),{optimisticResponse:s?p:void 0}),f,{},!1),function(T){if(Lc(T)&&C==="none")throw new Yi({graphQLErrors:Vm(T)});o&&(o.loading=!1,o.error=null);var pt=A({},T);return typeof _=="function"&&(_=_(pt)),C==="ignore"&&Lc(pt)&&delete pt.errors,a.markMutationResult({mutationId:r,result:pt,document:d,variables:f,fetchPolicy:U,errorPolicy:C,context:I,update:k,updateQueries:m,awaitRefetchQueries:b,refetchQueries:_,removeOptimistic:s?r:void 0,onQueryUpdated:x,keepRootFields:E})}).subscribe({next:function(T){a.broadcastQueries(),(!("hasNext"in T)||T.hasNext===!1)&&R(A(A({},T),{data:a.maskOperation({document:d,data:T.data,fetchPolicy:U,id:r})}))},error:function(T){o&&(o.loading=!1,o.error=T),s&&a.cache.removeOptimistic(r),a.broadcastQueries(),M(T instanceof Yi?T:new Yi({networkError:T}))}})})]}})})},n.prototype.markMutationResult=function(e,t){var r=this;t===void 0&&(t=this.cache);var i=e.result,o=[],s=e.fetchPolicy==="no-cache";if(!s&&ag(i,e.errorPolicy)){if($o(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),$o(i)&&zt(i.incremental)){var a=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),c=void 0;a.result&&(c=Lm(a.result,i)),typeof c<"u"&&(i.data=c,o.push({result:c,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(f,p){var m=f.observableQuery,y=m&&m.queryName;if(!(!y||!YQ.call(u,y))){var _=u[y],w=r.queries.get(p),b=w.document,k=w.variables,x=t.diff({query:b,variables:k,returnPartialData:!0,optimistic:!1}),V=x.result,U=x.complete;if(U&&V){var q=_(V,{mutationResult:i,queryName:b&&jo(b)||void 0,queryVariables:k});q&&o.push({result:q,dataId:"ROOT_QUERY",query:b,variables:k})}}})}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var d=[];if(this.refetchQueries({updateCache:function(f){s||o.forEach(function(_){return f.write(_)});var p=e.update,m=!qO(i)||$o(i)&&!i.hasNext;if(p){if(!s){var y=f.diff({id:"ROOT_MUTATION",query:r.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});y.complete&&(i=A(A({},i),{data:y.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}m&&p(f,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&m&&f.modify({id:"ROOT_MUTATION",fields:function(_,w){var b=w.fieldName,k=w.DELETE;return b==="__typename"?_:k}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(f){return d.push(f)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(d).then(function(){return i})}return Promise.resolve(i)},n.prototype.markMutationOptimistic=function(e,t){var r=this,i=typeof e=="function"?e(t.variables,{IGNORE:BN}):e;return i===BN?!1:(this.cache.recordOptimisticTransaction(function(o){try{r.markMutationResult(A(A({},t),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&K.error(s)}},t.mutationId),!0)},n.prototype.fetchQuery=function(e,t,r){return this.fetchConcastWithInfo(e,t,r).concast.promise},n.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,r){e[r]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},n.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},n.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},n.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var r={hasClientExports:E0(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:qi(["nonreactive"],e),nonReactiveQuery:F0(e),clientQuery:this.localState.clientQuery(e),serverQuery:Mm([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:Gs(zn(e)),asQuery:A(A({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?A(A({},i),{operation:"query"}):i})})};t.set(e,r)}return t.get(e)},n.prototype.getVariables=function(e,t){return A(A({},this.getDocumentInfo(e).defaultVars),t)},n.prototype.watchQuery=function(e){var t=this.transform(e.query);e=A(A({},e),{variables:this.getVariables(t,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var r=new sg(this),i=new og({queryManager:this,queryInfo:r,options:e});return i.lastQuery=t,this.queries.set(i.queryId,r),r.init({document:t,observableQuery:i,variables:i.variables}),i},n.prototype.query=function(e,t){var r=this;t===void 0&&(t=this.generateQueryId()),K(e.query,30),K(e.query.kind==="Document",31),K(!e.returnPartialData,32),K(!e.pollInterval,33);var i=this.transform(e.query);return this.fetchQuery(t,A(A({},e),{query:i})).then(function(o){return o&&A(A({},o),{data:r.maskOperation({document:i,data:o.data,fetchPolicy:e.fetchPolicy,id:t})})}).finally(function(){return r.stopQuery(t)})},n.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},n.prototype.generateRequestId=function(){return this.requestIdCounter++},n.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},n.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},n.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(Ze(34)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=Me.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},n.prototype.getObservableQueries=function(e){var t=this;e===void 0&&(e="active");var r=new Map,i=new Map,o=new Map,s=new Set;return Array.isArray(e)&&e.forEach(function(a){if(typeof a=="string")i.set(a,a),o.set(a,!1);else if(x0(a)){var c=Dr(t.transform(a));i.set(c,jo(a)),o.set(c,!1)}else ke(a)&&a.query&&s.add(a)}),this.queries.forEach(function(a,c){var u=a.observableQuery,d=a.document;if(u){if(e==="all"){r.set(c,u);return}var f=u.queryName,p=u.options.fetchPolicy;if(p==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||f&&o.has(f)||d&&o.has(Dr(d)))&&(r.set(c,u),f&&o.set(f,!0),d&&o.set(Dr(d),!0))}}),s.size&&s.forEach(function(a){var c=Lu("legacyOneTimeQuery"),u=t.getQuery(c).init({document:a.query,variables:a.variables}),d=new og({queryManager:t,queryInfo:u,options:A(A({},a),{fetchPolicy:"network-only"})});K(d.queryId===c),u.setObservableQuery(d),r.set(c,d)}),globalThis.__DEV__!==!1&&o.size&&o.forEach(function(a,c){if(!a){var u=i.get(c);u?globalThis.__DEV__!==!1&&K.warn(35,u):globalThis.__DEV__!==!1&&K.warn(36)}}),r},n.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&r.push(i.refetch()),t.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},n.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},n.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,i=e.variables,o=e.fetchPolicy,s=e.errorPolicy,a=s===void 0?"none":s,c=e.context,u=c===void 0?{}:c,d=e.extensions,f=d===void 0?{}:d;r=this.transform(r),i=this.getVariables(r,i);var p=function(y){return t.getObservableFromLink(r,u,y,f).map(function(_){o!=="no-cache"&&(ag(_,a)&&t.cache.write({query:r,result:_.data,dataId:"ROOT_SUBSCRIPTION",variables:y}),t.broadcastQueries());var w=Lc(_),b=$m(_);if(w||b){var k={};if(w&&(k.graphQLErrors=_.errors),b&&(k.protocolErrors=_.extensions[Js]),a==="none"||b)throw new Yi(k)}return a==="ignore"&&delete _.errors,_})};if(this.getDocumentInfo(r).hasClientExports){var m=this.localState.addExportedVariables(r,i,u).then(p);return new ge(function(y){var _=null;return m.then(function(w){return _=w.subscribe(y)},y.error),function(){return _&&_.unsubscribe()}})}return p(i)},n.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},n.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},n.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},n.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},n.prototype.getLocalState=function(){return this.localState},n.prototype.getObservableFromLink=function(e,t,r,i,o){var s=this,a;o===void 0&&(o=(a=t?.queryDeduplication)!==null&&a!==void 0?a:this.queryDeduplication);var c,u=this.getDocumentInfo(e),d=u.serverQuery,f=u.clientQuery;if(d){var p=this,m=p.inFlightLinkObservables,y=p.link,_={query:d,variables:r,operationName:jo(d)||void 0,context:this.prepareContext(A(A({},t),{forceFetch:!o})),extensions:i};if(t=_.context,o){var w=Dr(d),b=fn(r),k=m.lookup(w,b);if(c=k.observable,!c){var x=new Zs([Vc(y,_)]);c=k.observable=x,x.beforeNext(function V(U,q){U==="next"&&"hasNext"in q&&q.hasNext?x.beforeNext(V):m.remove(w,b)})}}else c=new Zs([Vc(y,_)])}else c=new Zs([ge.of({data:{}})]),t=this.prepareContext(t);return f&&(c=Nm(c,function(V){return s.localState.runResolvers({document:f,remoteResult:V,context:t,variables:r})})),c},n.prototype.getResultsFromLink=function(e,t,r){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(r.query);return Nm(this.getObservableFromLink(o,r.context,r.variables),function(s){var a=Vm(s),c=a.length>0,u=r.errorPolicy;if(i>=e.lastRequestId){if(c&&u==="none")throw e.markError(new Yi({graphQLErrors:a}));e.markResult(s,o,r,t),e.markReady()}var d={data:s.data,loading:!1,networkStatus:Me.ready};return c&&u==="none"&&(d.data=void 0),c&&u!=="ignore"&&(d.errors=a,d.networkStatus=Me.error),d},function(s){var a=zm(s)?s:new Yi({networkError:s});throw i>=e.lastRequestId&&e.markError(a),a})},n.prototype.fetchConcastWithInfo=function(e,t,r,i){var o=this;r===void 0&&(r=Me.loading),i===void 0&&(i=t.query);var s=this.getVariables(i,t.variables),a=this.getQuery(e),c=this.defaultOptions.watchQuery,u=t.fetchPolicy,d=u===void 0?c&&c.fetchPolicy||"cache-first":u,f=t.errorPolicy,p=f===void 0?c&&c.errorPolicy||"none":f,m=t.returnPartialData,y=m===void 0?!1:m,_=t.notifyOnNetworkStatusChange,w=_===void 0?!1:_,b=t.context,k=b===void 0?{}:b,x=Object.assign({},t,{query:i,variables:s,fetchPolicy:d,errorPolicy:p,returnPartialData:y,notifyOnNetworkStatusChange:w,context:k}),V=function(I){x.variables=I;var D=o.fetchQueryByPolicy(a,x,r);return x.fetchPolicy!=="standby"&&D.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",t),D},U=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(I){U(),setTimeout(function(){return q.cancel(I)})});var q,C;if(this.getDocumentInfo(x.query).hasClientExports)q=new Zs(this.localState.addExportedVariables(x.query,x.variables,x.context).then(V).then(function(I){return I.sources})),C=!0;else{var E=V(x.variables);C=E.fromLink,q=new Zs(E.sources)}return q.promise.then(U,U),{concast:q,fromLink:C}},n.prototype.refetchQueries=function(e){var t=this,r=e.updateCache,i=e.include,o=e.optimistic,s=o===void 0?!1:o,a=e.removeOptimistic,c=a===void 0?s?Lu("refetchQueries"):void 0:a,u=e.onQueryUpdated,d=new Map;i&&this.getObservableQueries(i).forEach(function(p,m){d.set(m,{oq:p,lastDiff:t.getQuery(m).getDiff()})});var f=new Map;return r&&this.cache.batch({update:r,optimistic:s&&c||!1,removeOptimistic:c,onWatchUpdated:function(p,m,y){var _=p.watcher instanceof sg&&p.watcher.observableQuery;if(_){if(u){d.delete(_.queryId);var w=u(_,m,y);return w===!0&&(w=_.refetch()),w!==!1&&f.set(_,w),w}u!==null&&d.set(_.queryId,{oq:_,lastDiff:y,diff:m})}}}),d.size&&d.forEach(function(p,m){var y=p.oq,_=p.lastDiff,w=p.diff,b;if(u){if(!w){var k=y.queryInfo;k.reset(),w=k.getDiff()}b=u(y,w,_)}(!u||b===!0)&&(b=y.refetch()),b!==!1&&f.set(y,b),m.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(m)}),c&&this.cache.removeOptimistic(c),f},n.prototype.maskOperation=function(e){var t,r,i,o=e.document,s=e.data;if(globalThis.__DEV__!==!1){var a=e.fetchPolicy,c=e.id,u=(t=zn(o))===null||t===void 0?void 0:t.operation,d=((r=u?.[0])!==null&&r!==void 0?r:"o")+c;this.dataMasking&&a==="no-cache"&&!T0(o)&&!this.noCacheWarningsByQueryId.has(d)&&(this.noCacheWarningsByQueryId.add(d),globalThis.__DEV__!==!1&&K.warn(37,(i=jo(o))!==null&&i!==void 0?i:"Unnamed ".concat(u??"operation")))}return this.dataMasking?iI(s,o,this.cache):s},n.prototype.maskFragment=function(e){var t=e.data,r=e.fragment,i=e.fragmentName;return this.dataMasking?id(t,r,this.cache,i):t},n.prototype.fetchQueryByPolicy=function(e,t,r){var i=this,o=t.query,s=t.variables,a=t.fetchPolicy,c=t.refetchWritePolicy,u=t.errorPolicy,d=t.returnPartialData,f=t.context,p=t.notifyOnNetworkStatusChange,m=e.networkStatus;e.init({document:o,variables:s,networkStatus:r});var y=function(){return e.getDiff()},_=function(V,U){U===void 0&&(U=e.networkStatus||Me.loading);var q=V.result;globalThis.__DEV__!==!1&&!d&&!qe(q,{})&&EI(V.missing);var C=function(E){return ge.of(A({data:E,loading:Zi(U),networkStatus:U},V.complete?null:{partial:!0}))};return q&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:q},context:f,variables:s,onlyRunForcedResolvers:!0}).then(function(E){return C(E.data||void 0)}):u==="none"&&U===Me.refetch&&Array.isArray(V.missing)?C(void 0):C(q)},w=a==="no-cache"?0:r===Me.refetch&&c!=="merge"?1:2,b=function(){return i.getResultsFromLink(e,w,{query:o,variables:s,context:f,fetchPolicy:a,errorPolicy:u})},k=p&&typeof m=="number"&&m!==r&&Zi(r);switch(a){default:case"cache-first":{var x=y();return x.complete?{fromLink:!1,sources:[_(x,e.markReady())]}:d||k?{fromLink:!0,sources:[_(x),b()]}:{fromLink:!0,sources:[b()]}}case"cache-and-network":{var x=y();return x.complete||d||k?{fromLink:!0,sources:[_(x),b()]}:{fromLink:!0,sources:[b()]}}case"cache-only":return{fromLink:!1,sources:[_(y(),e.markReady())]};case"network-only":return k?{fromLink:!0,sources:[_(y()),b()]}:{fromLink:!0,sources:[b()]};case"no-cache":return k?{fromLink:!0,sources:[_(e.getDiff()),b()]}:{fromLink:!0,sources:[b()]};case"standby":return{fromLink:!1,sources:[]}}},n.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new sg(this,e)),this.queries.get(e)},n.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return A(A(A({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},n}();var $N=function(){function n(e){var t=e.cache,r=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,r&&(this.client=r),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return n.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){t.resolvers=L0(t.resolvers,r)}):this.resolvers=L0(this.resolvers,e)},n.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},n.prototype.getResolvers=function(){return this.resolvers||{}},n.prototype.runResolvers=function(e){return Nn(this,arguments,void 0,function(t){var r=t.document,i=t.remoteResult,o=t.context,s=t.variables,a=t.onlyRunForcedResolvers,c=a===void 0?!1:a;return ur(this,function(u){return r?[2,this.resolveDocument(r,i.data,o,s,this.fragmentMatcher,c).then(function(d){return A(A({},i),{data:d.result})})]:[2,i]})})},n.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},n.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},n.prototype.clientQuery=function(e){return qi(["client"],e)&&this.resolvers?e:null},n.prototype.serverQuery=function(e){return Yu(e)},n.prototype.prepareContext=function(e){var t=this.cache;return A(A({},e),{cache:t,getCacheKey:function(r){return t.identify(r)}})},n.prototype.addExportedVariables=function(e){return Nn(this,arguments,void 0,function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),ur(this,function(o){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,r)||{},this.prepareContext(i),r).then(function(s){return A(A({},r),s.exportedVariables)})]:[2,A({},r)]})})},n.prototype.shouldForceResolvers=function(e){var t=!1;return Mt(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(t=r.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),t))return zi}}}),t},n.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:N0(e),variables:t,returnPartialData:!0,optimistic:!1}).result},n.prototype.resolveDocument=function(e,t){return Nn(this,arguments,void 0,function(r,i,o,s,a,c){var u,d,f,p,m,y,_,w,b,k,x;return o===void 0&&(o={}),s===void 0&&(s={}),a===void 0&&(a=function(){return!0}),c===void 0&&(c=!1),ur(this,function(V){return u=Cr(r),d=qn(r),f=$n(d),p=this.collectSelectionsToResolve(u,f),m=u.operation,y=m?m.charAt(0).toUpperCase()+m.slice(1):"Query",_=this,w=_.cache,b=_.client,k={fragmentMap:f,context:A(A({},o),{cache:w,client:b}),variables:s,fragmentMatcher:a,defaultOperationType:y,exportedVariables:{},selectionsToResolve:p,onlyRunForcedResolvers:c},x=!1,[2,this.resolveSelectionSet(u.selectionSet,x,i,k).then(function(U){return{result:U,exportedVariables:k.exportedVariables}})]})})},n.prototype.resolveSelectionSet=function(e,t,r,i){return Nn(this,void 0,void 0,function(){var o,s,a,c,u,d=this;return ur(this,function(f){return o=i.fragmentMap,s=i.context,a=i.variables,c=[r],u=function(p){return Nn(d,void 0,void 0,function(){var m,y;return ur(this,function(_){return!t&&!i.selectionsToResolve.has(p)?[2]:Tr(p,a)?pn(p)?[2,this.resolveField(p,t,r,i).then(function(w){var b;typeof w<"u"&&c.push((b={},b[nn(p)]=w,b))})]:(M0(p)?m=p:(m=o[p.name.value],K(m,19,p.name.value)),m&&m.typeCondition&&(y=m.typeCondition.name.value,i.fragmentMatcher(r,y,s))?[2,this.resolveSelectionSet(m.selectionSet,t,r,i).then(function(w){c.push(w)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return Ks(c)})]})})},n.prototype.resolveField=function(e,t,r,i){return Nn(this,void 0,void 0,function(){var o,s,a,c,u,d,f,p,m,y=this;return ur(this,function(_){return r?(o=i.variables,s=e.name.value,a=nn(e),c=s!==a,u=r[a]||r[s],d=Promise.resolve(u),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(f=r.__typename||i.defaultOperationType,p=this.resolvers&&this.resolvers[f],p&&(m=p[c?s:a],m&&(d=Promise.resolve(Uc.withValue(this.cache,m,[r,Gi(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,d.then(function(w){var b,k;if(w===void 0&&(w=u),e.directives&&e.directives.forEach(function(V){V.name.value==="export"&&V.arguments&&V.arguments.forEach(function(U){U.name.value==="as"&&U.value.kind==="StringValue"&&(i.exportedVariables[U.value.value]=w)})}),!e.selectionSet||w==null)return w;var x=(k=(b=e.directives)===null||b===void 0?void 0:b.some(function(V){return V.name.value==="client"}))!==null&&k!==void 0?k:!1;if(Array.isArray(w))return y.resolveSubSelectedArray(e,t||x,w,i);if(e.selectionSet)return y.resolveSelectionSet(e.selectionSet,t||x,w,i)})]):[2,null]})})},n.prototype.resolveSubSelectedArray=function(e,t,r,i){var o=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(e,t,s,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,t,s,i)}))},n.prototype.collectSelectionsToResolve=function(e,t){var r=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),Mt(s,{Directive:function(c,u,d,f,p){c.name.value==="client"&&p.forEach(function(m){r(m)&&Uu(m)&&a.add(m)})},FragmentSpread:function(c,u,d,f,p){var m=t[c.name.value];K(m,20,c.name.value);var y=o(m);y.size>0&&(p.forEach(function(_){r(_)&&Uu(_)&&a.add(_)}),a.add(c),y.forEach(function(_){a.add(_)}))}})}return i.get(s)}return o(e)},n}();var zN=!1;var ld=function(){function n(e){var t=this,r;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw Ze(16);var i=e.uri,o=e.credentials,s=e.headers,a=e.cache,c=e.documentTransform,u=e.ssrMode,d=u===void 0?!1:u,f=e.ssrForceFetchDelay,p=f===void 0?0:f,m=e.connectToDevTools,y=e.queryDeduplication,_=y===void 0?!0:y,w=e.defaultOptions,b=e.defaultContext,k=e.assumeImmutableResults,x=k===void 0?a.assumeImmutableResults:k,V=e.resolvers,U=e.typeDefs,q=e.fragmentMatcher,C=e.name,E=e.version,I=e.devtools,D=e.dataMasking,R=e.link;R||(R=i?new tI({uri:i,credentials:o,headers:s}):kt.empty()),this.link=R,this.cache=a,this.disableNetworkFetches=d||p>0,this.queryDeduplication=_,this.defaultOptions=w||Object.create(null),this.typeDefs=U,this.devtoolsConfig=A(A({},I),{enabled:(r=I?.enabled)!==null&&r!==void 0?r:m}),this.devtoolsConfig.enabled===void 0&&(this.devtoolsConfig.enabled=globalThis.__DEV__!==!1),p&&setTimeout(function(){return t.disableNetworkFetches=!1},p),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Fu,this.localState=new $N({cache:a,client:this,resolvers:V,fragmentMatcher:q}),this.queryManager=new UN({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:b,documentTransform:c,queryDeduplication:_,ssrMode:d,dataMasking:!!D,clientAwareness:{name:C,version:E},localState:this.localState,assumeImmutableResults:x,onBroadcast:this.devtoolsConfig.enabled?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return n.prototype.connectToDevTools=function(){if(!(typeof window>"u")){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,!zN&&globalThis.__DEV__!==!1&&(zN=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout(function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var r=window.navigator,i=r&&r.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&K.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))}},Object.defineProperty(n.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),n.prototype.stop=function(){this.queryManager.stop()},n.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Ju(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=A(A({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},n.prototype.query=function(e){return this.defaultOptions.query&&(e=Ju(this.defaultOptions.query,e)),K(e.fetchPolicy!=="cache-and-network",17),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=A(A({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},n.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Ju(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},n.prototype.subscribe=function(e){var t=this,r=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map(function(i){return A(A({},i),{data:t.queryManager.maskOperation({document:e.query,data:i.data,fetchPolicy:e.fetchPolicy,id:r})})})},n.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},n.prototype.watchFragment=function(e){var t;return this.cache.watchFragment(A(A({},e),(t={},t[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,t)))},n.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},n.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},n.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},n.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},n.prototype.__requestRaw=function(e){return Vc(this.link,e)},n.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},n.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},n.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(r){return r!==e})}},n.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},n.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),r=[],i=[];t.forEach(function(s,a){r.push(a),i.push(s)});var o=Promise.all(i);return o.queries=r,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&K.debug(18,s)}),o},n.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},n.prototype.extract=function(e){return this.cache.extract(e)},n.prototype.restore=function(e){return this.cache.restore(e)},n.prototype.addResolvers=function(e){this.localState.addResolvers(e)},n.prototype.setResolvers=function(e){this.localState.setResolvers(e)},n.prototype.getResolvers=function(){return this.localState.getResolvers()},n.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},n.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(n.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),n}();globalThis.__DEV__!==!1&&(ld.prototype.getMemoryInternals=cO);var cg=new Map,bI=new Map,qN=!0,lg=!1;function HN(n){return n.replace(/[\s,]+/g," ").trim()}function ZQ(n){return HN(n.source.body.substring(n.start,n.end))}function JQ(n){var e=new Set,t=[];return n.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var i=r.name.value,o=ZQ(r.loc),s=bI.get(i);s&&!s.has(o)?qN&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||bI.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),t.push(r))}else t.push(r)}),A(A({},n),{definitions:t})}function XQ(n){var e=new Set(n.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(i){var o=r[i];o&&typeof o=="object"&&e.add(o)})});var t=n.loc;return t&&(delete t.startToken,delete t.endToken),n}function eK(n){var e=HN(n);if(!cg.has(e)){var t=Dm(n,{experimentalFragmentVariables:lg,allowLegacyFragmentVariables:lg});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");cg.set(e,XQ(JQ(t)))}return cg.get(e)}function It(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof n=="string"&&(n=[n]);var r=n[0];return e.forEach(function(i,o){i&&i.kind==="Document"?r+=i.loc.source.body:r+=i,r+=n[o+1]}),eK(r)}function GN(){cg.clear(),bI.clear()}function WN(){qN=!1}function QN(){lg=!0}function KN(){lg=!1}var ud={gql:It,resetCaches:GN,disableFragmentWarnings:WN,enableExperimentalFragmentVariables:QN,disableExperimentalFragmentVariables:KN};(function(n){n.gql=ud.gql,n.resetCaches=ud.resetCaches,n.disableFragmentWarnings=ud.disableFragmentWarnings,n.enableExperimentalFragmentVariables=ud.enableExperimentalFragmentVariables,n.disableExperimentalFragmentVariables=ud.disableExperimentalFragmentVariables})(It||(It={}));It.default=It;Vk(globalThis.__DEV__!==!1?"log":"silent");function YN(n){return new ce(e=>(n().then(t=>{e.closed||(e.next(t),e.complete())},t=>{e.closed||e.error(t)}),()=>e.unsubscribe()))}function tK(n,e){return e?n.pipe(_i({loading:!0}),ne(t=>ae(B({},t),{loading:!!t.loading}))):n.pipe(ne(t=>ae(B({},t),{loading:!1})))}var TI=class{zone;constructor(e){this.zone=e}now=Date.now?Date.now:()=>+new Date;schedule(e,t=0,r){return this.zone.run(()=>wl.schedule(e,t,r))}};function CI(n){return n[pi]=()=>n,n}function DI(n,e){return n.pipe(Rr(new TI(e)))}function nK(n){return function(t){return new ce(function(i){let o=n.getCurrentResult(),{loading:s,errors:a,error:c,partial:u,data:d}=o,{partialRefetch:f,fetchPolicy:p}=n.options,m=a||c;return f&&u&&(!d||Object.keys(d).length===0)&&p!=="cache-only"&&!s&&!m&&i.next(ae(B({},o),{loading:!0,networkStatus:Me.loading})),t.subscribe(i)})}}var SI=class{obsQuery;valueChanges;queryId;constructor(e,t,r){this.obsQuery=e;let i=DI(Ee(CI(this.obsQuery)),t);this.valueChanges=r.useInitialLoading?i.pipe(nK(this.obsQuery)):i,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}},rK=new Q("APOLLO_FLAGS"),AI=new Q("APOLLO_OPTIONS"),iK=new Q("APOLLO_NAMED_OPTIONS"),ug=class{ngZone;flags;_client;useInitialLoading;useMutationLoading;constructor(e,t,r){this.ngZone=e,this.flags=t,this._client=r,this.useInitialLoading=t?.useInitialLoading??!1,this.useMutationLoading=t?.useMutationLoading??!1}watchQuery(e){return new SI(this.ensureClient().watchQuery(B({},e)),this.ngZone,B({useInitialLoading:this.useInitialLoading},e))}query(e){return YN(()=>this.ensureClient().query(B({},e)))}mutate(e){return tK(YN(()=>this.ensureClient().mutate(B({},e))),e.useMutationLoading??this.useMutationLoading)}watchFragment(e,t){let r=Ee(CI(this.ensureClient().watchFragment(B({},e))));return t&&t.useZone!==!0?r:DI(r,this.ngZone)}subscribe(e,t){let r=Ee(CI(this.ensureClient().subscribe(B({},e))));return t&&t.useZone!==!0?r:DI(r,this.ngZone)}get client(){return this.ensureClient()}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(this._client)return!0;throw new Error("Client has not been defined yet")}},dg=(()=>{class n extends ug{map=new Map;constructor(t,r,i,o){if(super(t,o),r&&this.createDefault(r),i&&typeof i=="object"){for(let s in i)if(i.hasOwnProperty(s)){let a=i[s];this.create(a,s)}}}create(t,r){II(r)?this.createNamed(r,t):this.createDefault(t)}default(){return this}use(t){return II(t)?this.map.get(t):this.default()}createDefault(t){if(this._client)throw new Error("Apollo has been already created.");this.client=this.ngZone.runOutsideAngular(()=>new ld(t))}createNamed(t,r){if(this.map.has(t))throw new Error(`Client ${t} has been already created`);this.map.set(t,new ug(this.ngZone,this.flags,this.ngZone.runOutsideAngular(()=>new ld(r))))}removeClient(t){II(t)?this.map.delete(t):this._client=void 0}static \u0275fac=function(r){return new(r||n)(J(_e),J(AI,8),J(iK,8),J(rK,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();function II(n){return!!n&&n!=="default"}var o1=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(te($r),te(Nt))};static \u0275dir=tt({type:n})}return n})(),sK=(()=>{class n extends o1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ba(n)))(i||n)}})();static \u0275dir=tt({type:n,features:[gr]})}return n})(),NI=new Q("");var aK={provide:NI,useExisting:Ti(()=>ii),multi:!0};function cK(){let n=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lK=new Q(""),ii=(()=>{class n extends o1{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!cK())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(te($r),te(Nt),te(lK,8))};static \u0275dir=tt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Jn([aK]),gr]})}return n})();function FI(n){return n==null||LI(n)===0}function LI(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var wg=new Q(""),VI=new Q(""),uK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Rn=class{static min(e){return dK(e)}static max(e){return hK(e)}static required(e){return fK(e)}static requiredTrue(e){return pK(e)}static email(e){return mK(e)}static minLength(e){return gK(e)}static maxLength(e){return s1(e)}static pattern(e){return yK(e)}static nullValidator(e){return fg()}static compose(e){return h1(e)}static composeAsync(e){return p1(e)}};function dK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function hK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function fK(n){return FI(n.value)?{required:!0}:null}function pK(n){return n.value===!0?null:{required:!0}}function mK(n){return FI(n.value)||uK.test(n.value)?null:{email:!0}}function gK(n){return e=>{let t=e.value?.length??LI(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function s1(n){return e=>{let t=e.value?.length??LI(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function yK(n){if(!n)return fg;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(FI(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function fg(n){return null}function a1(n){return n!=null}function c1(n){return vo(n)?Ee(n):n}function l1(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function u1(n,e){return e.map(t=>t(n))}function vK(n){return!n.validate}function d1(n){return n.map(e=>vK(e)?e:t=>e.validate(t))}function h1(n){if(!n)return null;let e=n.filter(a1);return e.length==0?null:function(t){return l1(u1(t,e))}}function f1(n){return n!=null?h1(d1(n)):null}function p1(n){if(!n)return null;let e=n.filter(a1);return e.length==0?null:function(t){let r=u1(t,e).map(c1);return iv(r).pipe(ne(l1))}}function m1(n){return n!=null?p1(d1(n)):null}function ZN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function g1(n){return n._rawValidators}function y1(n){return n._rawAsyncValidators}function xI(n){return n?Array.isArray(n)?n:[n]:[]}function pg(n,e){return Array.isArray(n)?n.includes(e):n===e}function JN(n,e){let t=xI(e);return xI(n).forEach(i=>{pg(t,i)||t.push(i)}),t}function XN(n,e){return xI(e).filter(t=>!pg(n,t))}var mg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=f1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=m1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ea=class extends mg{name;get formDirective(){return null}get path(){return null}},ta=class extends mg{_parent=null;name=null;valueAccessor=null},gg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},_K={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mEe=ae(B({},_K),{"[class.ng-submitted]":"isSubmitted"}),Go=(()=>{class n extends gg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(te(ta,2))};static \u0275dir=tt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Tn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gr]})}return n})(),bg=(()=>{class n extends gg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(te(ea,10))};static \u0275dir=tt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Tn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gr]})}return n})();var dd="VALID",hg="INVALID",qc="PENDING",hd="DISABLED",Ho=class{},yg=class extends Ho{value;source;constructor(e,t){super(),this.value=e,this.source=t}},fd=class extends Ho{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},pd=class extends Ho{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Hc=class extends Ho{status;source;constructor(e,t){super(),this.status=e,this.source=t}},RI=class extends Ho{source;constructor(e){super(),this.source=e}},MI=class extends Ho{source;constructor(e){super(),this.source=e}};function jI(n){return(Ig(n)?n.validators:n)||null}function EK(n){return Array.isArray(n)?f1(n):n||null}function BI(n,e){return(Ig(e)?e.asyncValidators:n)||null}function wK(n){return Array.isArray(n)?m1(n):n||null}function Ig(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function v1(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function _1(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Gc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xn(this.statusReactive)}set status(e){Xn(()=>this.statusReactive.set(e))}_status=ws(()=>this.statusReactive());statusReactive=Br(void 0);get valid(){return this.status===dd}get invalid(){return this.status===hg}get pending(){return this.status==qc}get disabled(){return this.status===hd}get enabled(){return this.status!==hd}errors;get pristine(){return Xn(this.pristineReactive)}set pristine(e){Xn(()=>this.pristineReactive.set(e))}_pristine=ws(()=>this.pristineReactive());pristineReactive=Br(!0);get dirty(){return!this.pristine}get touched(){return Xn(this.touchedReactive)}set touched(e){Xn(()=>this.touchedReactive.set(e))}_touched=ws(()=>this.touchedReactive());touchedReactive=Br(!1);get untouched(){return!this.touched}_events=new me;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(XN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(XN(e,this._rawAsyncValidators))}hasValidator(e){return pg(this._rawValidators,e)}hasAsyncValidator(e){return pg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ae(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new pd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ae(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new fd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new fd(!0,r))}markAsPending(e={}){this.status=qc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ae(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hd,this.errors=null,this._forEachChild(i=>{i.disable(ae(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yg(this.value,r)),this._events.next(new Hc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=dd,this._forEachChild(r=>{r.enable(ae(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dd||this.status===qc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yg(this.value,t)),this._events.next(new Hc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ae(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hd:dd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=qc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=c1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Hc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?hd:this.errors?hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qc)?qc:this._anyControlsHaveStatus(hg)?hg:dd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new fd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new pd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ig(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=EK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wK(this._rawAsyncValidators)}},vg=class extends Gc{constructor(e,t,r){super(jI(t),BI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){_1(this,!0,e),Object.keys(e).forEach(r=>{v1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var PI=class extends vg{};var Tg=new Q("",{providedIn:"root",factory:()=>Cg}),Cg="always";function E1(n,e){return[...e.path,n]}function kI(n,e,t=Cg){UI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),IK(n,e),CK(n,e),TK(n,e),bK(n,e)}function e1(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Eg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _g(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function bK(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function UI(n,e){let t=g1(n);e.validator!==null?n.setValidators(ZN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=y1(n);e.asyncValidator!==null?n.setAsyncValidators(ZN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();_g(e._rawValidators,i),_g(e._rawAsyncValidators,i)}function Eg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=g1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=y1(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return _g(e._rawValidators,r),_g(e._rawAsyncValidators,r),t}function IK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&w1(n,e)})}function TK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&w1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function w1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function CK(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function DK(n,e){n==null,UI(n,e)}function SK(n,e){return Eg(n,e)}function b1(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function AK(n){return Object.getPrototypeOf(n.constructor)===sK}function xK(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function I1(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ii?t=o:AK(o)?r=o:i=o}),i||r||t||null}function RK(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function t1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function n1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var md=class extends Gc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(jI(t),BI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ig(t)&&(t.nonNullable||t.initialValueIsDefault)&&(n1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){t1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){t1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){n1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MK=n=>n instanceof md;var PK={provide:ta,useExisting:Ti(()=>gd)},r1=Promise.resolve(),gd=(()=>{class n extends ta{_changeDetectorRef;callSetDisabledState;control=new md;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=I1(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),b1(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){kI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){r1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Dn(r);r1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?E1(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(te(ea,9),te(wg,10),te(VI,10),te(NI,10),te(Cn,8),te(Tg,8))};static \u0275dir=tt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Jn([PK]),gr,Zn]})}return n})();var Dg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var T1=new Q("");var kK={provide:ea,useExisting:Ti(()=>yd)},yd=(()=>{class n extends ea{callSetDisabledState;get submitted(){return Xn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ws(()=>this._submittedReactive());_submittedReactive=Br(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new fe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Eg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return kI(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){e1(t.control||null,t,!1),RK(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),xK(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new RI(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new MI(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(e1(r||null,t),MK(i)&&(kI(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);DK(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&SK(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UI(this.form,this),this._oldForm&&Eg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(te(wg,10),te(VI,10),te(Tg,8))};static \u0275dir=tt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Jn([kK]),gr,Zn]})}return n})();var OK={provide:ta,useExisting:Ti(()=>vd)},vd=(()=>{class n extends ta{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=I1(this,o)}ngOnChanges(t){this._added||this._setUpControl(),b1(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return E1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(te(ea,13),te(wg,10),te(VI,10),te(NI,10),te(T1,8))};static \u0275dir=tt({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Jn([OK]),gr,Zn]})}return n})();function NK(n){return typeof n=="number"?n:parseInt(n,10)}var FK=(()=>{class n{_validator=fg;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,features:[Zn]})}return n})();var LK={provide:wg,useExisting:Ti(()=>_d),multi:!0},_d=(()=>{class n extends FK{maxlength;inputName="maxlength";normalizeInput=t=>NK(t);createValidator=t=>s1(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ba(n)))(i||n)}})();static \u0275dir=tt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&xi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Jn([LK]),gr]})}return n})();var C1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({})}return n})(),OI=class extends Gc{constructor(e,t,r){super(jI(t),BI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){_1(this,!1,e),e.forEach((r,i)=>{v1(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function i1(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Sg=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return i1(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new vg(i,o)}record(t,r=null){let i=this._reduceControls(t);return new PI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(i1(r)?o=r:(o.validators=r,o.asyncValidators=i),new md(t,ae(B({},o),{nonNullable:!0}))):new md(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new OI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof md)return t;if(t instanceof Gc)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Wo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tg,useValue:t.callSetDisabledState??Cg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({imports:[C1]})}return n})(),Ag=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:T1,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Tg,useValue:t.callSetDisabledState??Cg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({imports:[C1]})}return n})();var D1=n=>({"is-invalid":n});function VK(n,e){n&1&&(N(0,"div"),z(1,"Email \xE9 obrigat\xF3rio"),L())}function jK(n,e){n&1&&(N(0,"div"),z(1,"Digite um email v\xE1lido"),L())}function BK(n,e){if(n&1&&(N(0,"div",14),pe(1,VK,2,0,"div",15)(2,jK,2,0,"div",15),L()),n&2){let t=oe();H(),X("ngIf",t.f.email.errors.required),H(),X("ngIf",t.f.email.errors.email)}}function UK(n,e){n&1&&(N(0,"div"),z(1,"Senha \xE9 obrigat\xF3ria"),L())}function $K(n,e){n&1&&(N(0,"div"),z(1,"Senha deve ter pelo menos 6 caracteres"),L())}function zK(n,e){if(n&1&&(N(0,"div",14),pe(1,UK,2,0,"div",15)(2,$K,2,0,"div",15),L()),n&2){let t=oe();H(),X("ngIf",t.f.password.errors.required),H(),X("ngIf",t.f.password.errors.minlength)}}function qK(n,e){n&1&&st(0,"span",16)}var S1=(()=>{class n{constructor(t,r,i,o){this.formBuilder=t,this.authService=r,this.router=i,this.toastService=o,this.loading=!1,this.submitted=!1,this.loginForm=this.formBuilder.group({email:["",[Rn.required,Rn.email]],password:["",[Rn.required,Rn.minLength(6)]]})}get f(){return this.loginForm.controls}onSubmit(){if(this.submitted=!0,this.loginForm.invalid)return;this.loading=!0;let{email:t,password:r}=this.loginForm.value;this.authService.login(t,r).subscribe({next:()=>{this.router.navigate(["/board"]),this.toastService.show("Login realizado com sucesso!","success")},error:i=>{console.error("Erro no login:",i),this.loading=!1,this.toastService.show("Erro ao fazer login. Verifique suas credenciais.","error")},complete:()=>{this.loading=!1}})}static{this.\u0275fac=function(r){return new(r||n)(te(Sg),te(Lt),te(Jt),te(nr))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-login"]],decls:24,vars:11,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password",3,"ngClass"],[1,"form-buttons"],["type","submit",1,"primary-button",3,"disabled"],["class","spinner",4,"ngIf"],[1,"auth-footer"],["routerLink","/register"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"h2"),z(3,"Login"),L(),N(4,"form",2),de("ngSubmit",function(){return i.onSubmit()}),N(5,"div",3)(6,"label",4),z(7,"Email"),L(),st(8,"input",5),pe(9,BK,3,2,"div",6),L(),N(10,"div",3)(11,"label",7),z(12,"Senha"),L(),st(13,"input",8),pe(14,zK,3,2,"div",6),L(),N(15,"div",9)(16,"button",10),pe(17,qK,1,0,"span",11),z(18," Entrar "),L()()(),N(19,"div",12)(20,"p"),z(21,"N\xE3o tem uma conta? "),N(22,"a",13),z(23,"Cadastre-se"),L()()()()()),r&2&&(H(4),X("formGroup",i.loginForm),H(4),X("ngClass",Eo(7,D1,i.submitted&&i.f.email.errors)),H(),X("ngIf",i.submitted&&i.f.email.errors),H(4),X("ngClass",Eo(9,D1,i.submitted&&i.f.password.errors)),H(),X("ngIf",i.submitted&&i.f.password.errors),H(2),X("disabled",i.loading),H(),X("ngIf",i.loading))},dependencies:[At,Za,Sn,Wo,Dg,ii,Go,bg,Ag,yd,vd,fc,hc],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f6f8}.auth-card[_ngcontent-%COMP%]{width:400px;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.form-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:1.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;display:flex;justify-content:center;align-items:center}.primary-button[_ngcontent-%COMP%]{background-color:#4a6ae5;color:#fff}.primary-button[_ngcontent-%COMP%]:hover{background-color:#3f5ac8}.auth-footer[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center;font-size:.875rem}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4a6ae5;text-decoration:none}.spinner[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-right:.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}}return n})();var Rg=n=>({"is-invalid":n});function HK(n,e){n&1&&(N(0,"div"),z(1,"Nome \xE9 obrigat\xF3rio"),L())}function GK(n,e){if(n&1&&(N(0,"div",18),pe(1,HK,2,0,"div",19),L()),n&2){let t=oe();H(),X("ngIf",t.f.name.errors.required)}}function WK(n,e){n&1&&(N(0,"div"),z(1,"Email \xE9 obrigat\xF3rio"),L())}function QK(n,e){n&1&&(N(0,"div"),z(1,"Digite um email v\xE1lido"),L())}function KK(n,e){if(n&1&&(N(0,"div",18),pe(1,WK,2,0,"div",19)(2,QK,2,0,"div",19),L()),n&2){let t=oe();H(),X("ngIf",t.f.email.errors.required),H(),X("ngIf",t.f.email.errors.email)}}function YK(n,e){n&1&&(N(0,"div"),z(1,"Senha \xE9 obrigat\xF3ria"),L())}function ZK(n,e){n&1&&(N(0,"div"),z(1,"Senha deve ter pelo menos 6 caracteres"),L())}function JK(n,e){if(n&1&&(N(0,"div",18),pe(1,YK,2,0,"div",19)(2,ZK,2,0,"div",19),L()),n&2){let t=oe();H(),X("ngIf",t.f.password.errors.required),H(),X("ngIf",t.f.password.errors.minlength)}}function XK(n,e){n&1&&(N(0,"div"),z(1,"Confirma\xE7\xE3o de senha \xE9 obrigat\xF3ria"),L())}function e7(n,e){n&1&&(N(0,"div"),z(1,"As senhas devem coincidir"),L())}function t7(n,e){if(n&1&&(N(0,"div",18),pe(1,XK,2,0,"div",19)(2,e7,2,0,"div",19),L()),n&2){let t=oe();H(),X("ngIf",t.f.confirmPassword.errors.required),H(),X("ngIf",t.f.confirmPassword.errors.mustMatch)}}function n7(n,e){n&1&&st(0,"span",20)}var A1=(()=>{class n{constructor(t,r,i,o){this.formBuilder=t,this.authService=r,this.router=i,this.toastService=o,this.loading=!1,this.submitted=!1,this.registerForm=this.formBuilder.group({name:["",Rn.required],email:["",[Rn.required,Rn.email]],password:["",[Rn.required,Rn.minLength(6)]],confirmPassword:["",Rn.required]},{validator:this.mustMatch("password","confirmPassword")})}get f(){return this.registerForm.controls}mustMatch(t,r){return i=>{let o=i.controls[t],s=i.controls[r];s.errors&&!s.errors.mustMatch||(o.value!==s.value?s.setErrors({mustMatch:!0}):s.setErrors(null))}}onSubmit(){if(this.submitted=!0,this.registerForm.invalid)return;this.loading=!0;let{email:t,password:r}=this.registerForm.value;this.authService.register(t,r).subscribe({next:()=>{this.router.navigate(["/login"]),this.toastService.show("Cadastro realizado com sucesso! Fa\xE7a login para continuar.","success")},error:i=>{console.error("Erro no cadastro:",i),this.loading=!1,this.toastService.show("Erro ao realizar cadastro. Verifique os dados e tente novamente.","error")},complete:()=>{this.loading=!1}})}static{this.\u0275fac=function(r){return new(r||n)(te(Sg),te(Lt),te(Jt),te(nr))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-register"]],decls:34,vars:19,consts:[[1,"auth-container"],[1,"auth-card"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email",3,"ngClass"],["for","password"],["type","password","id","password","formControlName","password",3,"ngClass"],["for","confirmPassword"],["type","password","id","confirmPassword","formControlName","confirmPassword",3,"ngClass"],[1,"form-buttons"],["type","submit",1,"primary-button",3,"disabled"],["class","spinner",4,"ngIf"],[1,"auth-footer"],["routerLink","/login"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"h2"),z(3,"Cadastro"),L(),N(4,"form",2),de("ngSubmit",function(){return i.onSubmit()}),N(5,"div",3)(6,"label",4),z(7,"Nome"),L(),st(8,"input",5),pe(9,GK,2,1,"div",6),L(),N(10,"div",3)(11,"label",7),z(12,"Email"),L(),st(13,"input",8),pe(14,KK,3,2,"div",6),L(),N(15,"div",3)(16,"label",9),z(17,"Senha"),L(),st(18,"input",10),pe(19,JK,3,2,"div",6),L(),N(20,"div",3)(21,"label",11),z(22,"Confirmar Senha"),L(),st(23,"input",12),pe(24,t7,3,2,"div",6),L(),N(25,"div",13)(26,"button",14),pe(27,n7,1,0,"span",15),z(28," Cadastrar "),L()()(),N(29,"div",16)(30,"p"),z(31,"J\xE1 tem uma conta? "),N(32,"a",17),z(33,"Fa\xE7a login"),L()()()()()),r&2&&(H(4),X("formGroup",i.registerForm),H(4),X("ngClass",Eo(11,Rg,i.submitted&&i.f.name.errors)),H(),X("ngIf",i.submitted&&i.f.name.errors),H(4),X("ngClass",Eo(13,Rg,i.submitted&&i.f.email.errors)),H(),X("ngIf",i.submitted&&i.f.email.errors),H(4),X("ngClass",Eo(15,Rg,i.submitted&&i.f.password.errors)),H(),X("ngIf",i.submitted&&i.f.password.errors),H(4),X("ngClass",Eo(17,Rg,i.submitted&&i.f.confirmPassword.errors)),H(),X("ngIf",i.submitted&&i.f.confirmPassword.errors),H(2),X("disabled",i.loading),H(),X("ngIf",i.loading))},dependencies:[At,Za,Sn,Wo,Dg,ii,Go,bg,Ag,yd,vd,fc,hc],styles:[".auth-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f5f6f8}.auth-card[_ngcontent-%COMP%]{width:400px;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #ddd;border-radius:4px;font-size:1rem}input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.form-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-top:1.5rem}button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;display:flex;justify-content:center;align-items:center}.primary-button[_ngcontent-%COMP%]{background-color:#4a6ae5;color:#fff}.primary-button[_ngcontent-%COMP%]:hover{background-color:#3f5ac8}.auth-footer[_ngcontent-%COMP%]{margin-top:1.5rem;text-align:center;font-size:.875rem}.auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4a6ae5;text-decoration:none}.spinner[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-right:.5rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}}return n})();var $I;function r7(){if($I==null){let n=typeof document<"u"?document.head:null;$I=!!(n&&(n.createShadowRoot||n.attachShadow))}return $I}function Mg(n){if(r7()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ed(n){return n.composedPath?n.composedPath()[0]:n.target}function x1(n){return n.buttons===0||n.detail===0}function R1(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function Pg(n,e=0){return i7(n)?Number(n):arguments.length===2?e:0}function i7(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function oi(n){return n instanceof Nt?n.nativeElement:n}function Qo(n,e,t,r,i){let o=parseInt($l.major),s=parseInt($l.minor);return o>19||o===19&&s>0||o===0&&s===0?n.listen(e,t,r,i):(e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)})}var kg=new WeakMap,M1=(()=>{class n{_appRef;_injector=O(We);_environmentInjector=O(Dt);load(t){let r=this._appRef=this._appRef||this._injector.get(fr),i=kg.get(r);i||(i={loaders:new Set,refs:[]},kg.set(r,i),r.onDestroy(()=>{kg.get(r)?.refs.forEach(o=>o.destroy()),kg.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(Mx(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zI;try{zI=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zI=!1}var qI=(()=>{class n{_platformId=O(mr);isBrowser=this._platformId?Wx(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||zI)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var o7=new Q("cdk-dir-doc",{providedIn:"root",factory:s7});function s7(){return O(rt)}var a7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function c7(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?a7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var HI=(()=>{class n{value="ltr";change=new fe;constructor(){let t=O(o7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.value=c7(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l7=20,P1=(()=>{class n{_ngZone=O(_e);_platform=O(qI);_renderer=O(In).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new me;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=l7){return this._platform.isBrowser?new ce(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(Ah(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):W()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Yt(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=oi(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u7=20,k1=(()=>{class n{_platform=O(qI);_listeners;_viewportSize;_change=new me;_document=O(rt,{optional:!0});constructor(){let t=O(_e),r=O(In).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=u7){return t>0?this._change.pipe(Ah(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var O1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({})}return n})();var GI={},N1=(()=>{class n{_appId=O(Ll);getId(t){return this._appId!=="ng"&&(t+=this._appId),GI.hasOwnProperty(t)||(GI[t]=0),`${t}${GI[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F1(n){return Array.isArray(n)?n:[n]}function Z1(n){let e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return r==="canvas"?j1(n,e):(r==="input"||r==="select"||r==="textarea")&&V1(n,e),L1("canvas",n,e,j1),L1("input, textarea, select",n,e,V1),e}function L1(n,e,t,r){let i=e.querySelectorAll(n);if(i.length){let o=t.querySelectorAll(n);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var d7=0;function V1(n,e){e.type!=="file"&&(e.value=n.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${d7++}`)}function j1(n,e){let t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}function eT(n){let e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function KI(n,e,t){let{top:r,bottom:i,left:o,right:s}=n;return t>=r&&t<=i&&e>=o&&e<=s}function Id(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function B1(n,e,t,r){let{top:i,right:o,bottom:s,left:a,width:c,height:u}=n,d=c*e,f=u*e;return r>i-f&&r<s+f&&t>a-d&&t<o+d}var Og=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:eT(t)})})}handleScroll(e){let t=Ed(e),r=this.positions.get(t);if(!r)return null;let i=r.scrollPosition,o,s;if(t===this._document){let u=this.getViewportScrollPosition();o=u.top,s=u.left}else o=t.scrollTop,s=t.scrollLeft;let a=i.top-o,c=i.left-s;return this.positions.forEach((u,d)=>{u.clientRect&&t!==d&&t.contains(d)&&Id(u.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function J1(n,e){let t=n.rootNodes;if(t.length===1&&t[0].nodeType===e.ELEMENT_NODE)return t[0];let r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function tT(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function Wc(n,e){let t=e?"":"none";tT(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function U1(n,e,t){tT(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function Ng(n,e){return e&&e!="none"?n+" "+e:n}function $1(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=Fg(e.left,e.top)}function Fg(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function z1(n){let e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function h7(n){let e=getComputedStyle(n),t=WI(e,"transition-property"),r=t.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=t.indexOf(r),o=WI(e,"transition-duration"),s=WI(e,"transition-delay");return z1(o[i])+z1(s[i])}function WI(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}var f7=new Set(["position"]),YI=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,t,r,i,o,s,a,c,u,d){this._document=e,this._rootElement=t,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=u,this._renderer=d}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),q1(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return h7(this._preview)}addEventListener(e,t){return this._renderer.listen(this._preview,e,t)}_createPreview(){let e=this._previewTemplate,t=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=J1(s,this._document),this._previewEmbeddedView=s,e.matchSize?$1(i,o):i.style.transform=Fg(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Z1(this._rootElement),$1(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return tT(i.style,{"pointer-events":"none",margin:q1(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},f7),Wc(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}};function q1(n){return"showPopover"in n}var p7={passive:!0},H1={passive:!1},m7={passive:!1,capture:!0},g7=800,G1=new Set(["position"]),ZI=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Br(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new me;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=Ne.EMPTY;_pointerUpSubscription=Ne.EMPTY;_scrollSubscription=Ne.EMPTY;_resizeSubscription=Ne.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Wc(t,e)))}_disabled=!1;beforeStarted=new me;started=new me;released=new me;ended=new me;entered=new me;exited=new me;dropped=new me;moved=this._moveEvents;data;constrainPosition;constructor(e,t,r,i,o,s,a){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Og(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>oi(r)),this._handles.forEach(r=>Wc(r,this.disabled)),this._toggleNativeDragInteractions();let t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let t=oi(e);return t!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Qo(this._renderer,t,"mousedown",this._pointerDown,H1),Qo(this._renderer,t,"touchstart",this._pointerDown,p7),Qo(this._renderer,t,"dragstart",this._nativeDragStart,H1)]),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?oi(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Wc(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Wc(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(t.x-this._pickupPositionOnPage.x),o=Math.abs(t.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!a){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,t);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){wd(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let t=this._getShadowRoot(),r=this._dropContainer;if(t&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Qo(this._renderer,t,"selectstart",y7,m7)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new YI(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,t)),U1(i,!1,G1),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();let r=this.isDragging(),i=wd(t),o=!i&&t.button!==0,s=this._rootElement,a=Ed(t),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+g7>Date.now(),u=i?R1(t):x1(t);if(a&&a.draggable&&t.type==="mousedown"&&t.preventDefault(),r||o||c||u)return;if(this._handles.length){let p=s.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=eT(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,t);let f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){U1(this._rootElement,!0,G1),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let t=this._preview.getTransitionDuration();return t===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&Ed(a)===this._preview.element&&a.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,t*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,t=e?e.template:null,r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=J1(this._placeholderRef,this._document)):r=Z1(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t,r){let i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():e,s=wd(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,u=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+u}}_getPointerPositionOnPage(e){let t=this._getViewportScrollPosition(),r=wd(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let t=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||t==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||t==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:u}=this._getPreviewRect(),d=a.top+s,f=a.bottom-(u-s),p=a.left+o,m=a.right-(c-o);r=W1(r,p,m),i=W1(i,d,f)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Wc(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,t){let r=1/this.scale,i=Fg(e*r,t*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Ng(i,this._initialTransform)}_applyPreviewTransform(e,t){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=Fg(e,t);this._preview.setTransform(Ng(i,r))}_getDragDistance(e){let t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(e===0&&t===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(t+=a),c>0&&(t-=c)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){let t=this.dragStartDelay;return typeof t=="number"?t:wd(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){let t=this._parentPositions.handleScroll(e);if(t){let r=Ed(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Id(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Mg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return oi(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let t=this._getTargetHandle(e);t&&!this._disabledHandles.has(t)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}};function W1(n,e,t){return Math.max(e,Math.min(t,n))}function wd(n){return n.type[0]==="t"}function y7(n){n.preventDefault()}function jg(n,e,t){let r=Q1(e,n.length-1),i=Q1(t,n.length-1);if(r===i)return;let o=n[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)n[a]=n[a+s];n[i]=o}function Q1(n,e){return Math.max(0,Math.min(e,n))}var Lg=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,t,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,r,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(w=>w.drag===e),u=o[s],d=o[c].clientRect,f=u.clientRect,p=c>s?1:-1,m=this._getItemOffsetPx(d,f,p),y=this._getSiblingOffsetPx(c,o,p),_=o.slice();return jg(o,c,s),o.forEach((w,b)=>{if(_[b]===w)return;let k=w.drag===e,x=k?m:y,V=k?e.getPlaceholderElement():w.drag.getRootElement();w.offset+=x;let U=Math.round(w.offset*(1/w.drag.scale));a?(V.style.transform=Ng(`translate3d(${U}px, 0, 0)`,w.initialTransform),Id(w.clientRect,0,x)):(V.style.transform=Ng(`translate3d(0, ${U}px, 0)`,w.initialTransform),Id(w.clientRect,x,0))}),this._previousSwap.overlaps=KI(f,t,r),this._previousSwap.drag=u.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),u=s[o];if(u===e&&(u=s[o+1]),!u&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(u=s[0]),a>-1&&s.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){let d=u.getRootElement();d.parentElement.insertBefore(c,d),s.splice(o,0,e)}else this._element.appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let t=e.getRootElement();if(t){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{Id(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(t=>{let r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:eT(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=i?t.left-e.left:t.top-e.top;return r===-1&&(o+=i?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,r){let i=this.orientation==="horizontal",o=t[e].clientRect,s=t[e+r*-1],a=o[i?"width":"height"]*r;if(s){let c=i?"left":"top",u=i?"right":"bottom";r===-1?a-=s.clientRect[c]-o[u]:a+=o[c]-s.clientRect[u]}return a}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?e>=s.right:t>=s.bottom}else{let s=r[0].clientRect;return i?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let u=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&u===this._previousSwap.delta)return!1}return o?t>=Math.floor(c.left)&&t<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},JI=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,t){this._document=e,this._dragDropRegistry=t}start(e){let t=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<t.length;r++){let i=t[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,t,r,i){let o=this._getItemIndexFromPointerPosition(e,t,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let c=this.getItemIndex(e),u=e.getPlaceholderElement(),d=a.getRootElement();o>c?d.after(u):d.before(u),jg(this._activeItems,c,o);let f=this._getRootNode().elementFromPoint(t,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=d===f||d.contains(f),{previousIndex:c,currentIndex:o}}enter(e,t,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,t,r):i;o===-1&&(o=this._getClosestItemIndexToPointer(e,t,r));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,t=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],t.drag=null,t.deltaX=t.deltaY=0,t.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,t,r){let i=this._getRootNode().elementFromPoint(Math.floor(t),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let a=s.getRootElement();return i===a||a.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Mg(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,t,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:c,y:u}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(t-c,r-u);d<i&&(i=d,o=s)}}return o}},K1=.05,X1=.05,ar=function(n){return n[n.NONE=0]="NONE",n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n}(ar||{}),mn=function(n){return n[n.NONE=0]="NONE",n[n.LEFT=1]="LEFT",n[n.RIGHT=2]="RIGHT",n}(mn||{}),XI=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new me;entered=new me;exited=new me;dropped=new me;sorted=new me;receivingStarted=new me;receivingStopped=new me;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=Ne.EMPTY;_verticalScrollDirection=ar.NONE;_horizontalScrollDirection=mn.NONE;_scrollNode;_stopScrollTimers=new me;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o;let s=this.element=oi(e);this._document=r,this.withOrientation("vertical").withElementContainer(s),t.registerDropContainer(this),this._parentPositions=new Og(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof Lg&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new JI(this._document,this._dragDropRegistry);else{let t=new Lg(this._dragDropRegistry);t.direction=this._direction,t.orientation=e,this._sortStrategy=t}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((t,r)=>this.sortPredicate(t,r,this)),this}withScrollableParents(e){let t=this._container;return this._scrollableElements=e.indexOf(t)===-1?[t,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let t=oi(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._domRect||!B1(this._domRect,K1,t,r))return;let o=this._sortStrategy.sort(e,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=ar.NONE,o=mn.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||B1(s.clientRect,K1,e,t)&&([i,o]=v7(a,s.clientRect,this._direction,e,t),(i||o)&&(r=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=eF(c,t),o=tF(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),ov(0,lh).pipe(Ei(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,t=this.autoScrollStep;this._verticalScrollDirection===ar.UP?e.scrollBy(0,-t):this._verticalScrollDirection===ar.DOWN&&e.scrollBy(0,t),this._horizontalScrollDirection===mn.LEFT?e.scrollBy(-t,0):this._horizontalScrollDirection===mn.RIGHT&&e.scrollBy(t,0)})};_isOverContainer(e,t){return this._domRect!=null&&KI(this._domRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._domRect||!KI(this._domRect,t,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(t,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,t){let r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Mg(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}};function eF(n,e){let{top:t,bottom:r,height:i}=n,o=i*X1;return e>=t-o&&e<=t+o?ar.UP:e>=r-o&&e<=r+o?ar.DOWN:ar.NONE}function tF(n,e){let{left:t,right:r,width:i}=n,o=i*X1;return e>=t-o&&e<=t+o?mn.LEFT:e>=r-o&&e<=r+o?mn.RIGHT:mn.NONE}function v7(n,e,t,r,i){let o=eF(e,i),s=tF(e,r),a=ar.NONE,c=mn.NONE;if(o){let u=n.scrollTop;o===ar.UP?u>0&&(a=ar.UP):n.scrollHeight-u>n.clientHeight&&(a=ar.DOWN)}if(s){let u=n.scrollLeft;t==="rtl"?s===mn.RIGHT?u<0&&(c=mn.RIGHT):n.scrollWidth+u>n.clientWidth&&(c=mn.LEFT):s===mn.LEFT?u>0&&(c=mn.LEFT):n.scrollWidth-u>n.clientWidth&&(c=mn.RIGHT)}return[a,c]}var bd={capture:!0},QI={passive:!1,capture:!0},_7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ct({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return n})(),nF=(()=>{class n{_ngZone=O(_e);_document=O(rt);_styleLoader=O(M1);_renderer=O(In).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Br([]);_globalListeners;_draggingPredicate=t=>t.isDragging();_domNodesToDirectives=null;pointerMove=new me;pointerUp=new me;scroll=new me;constructor(){}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=Qo(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,QI)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(t,r){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._styleLoader.load(_7),this._activeDragInstances.update(i=>[...i,t]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),bd],["selectstart",this._preventDefaultWhileDragging,QI]];i?s.push(["touchend",o,bd],["touchcancel",o,bd]):s.push(["mouseup",o,bd]),i||s.push(["mousemove",a=>this.pointerMove.next(a),QI]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,u])=>Qo(this._renderer,this._document,a,c,u))})}}stopDragging(t){this._activeDragInstances.update(r=>{let i=r.indexOf(t);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let r=[this.scroll];return t&&t!==this._document&&r.push(new ce(i=>this._ngZone.runOutsideAngular(()=>{let o=Qo(this._renderer,t,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},bd);return()=>{o()}}))),Il(...r)}registerDirectiveNode(t,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(t,r)}removeDirectiveNode(t){this._domNodesToDirectives?.delete(t)}getDragDirectiveForNode(t){return this._domNodesToDirectives?.get(t)||null}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=t=>{this._activeDragInstances().length>0&&t.preventDefault()};_persistentTouchmoveListener=t=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&t.preventDefault(),this.pointerMove.next(t))};_clearGlobalListeners(){this._globalListeners?.forEach(t=>t()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E7={dragStartThreshold:5,pointerDirectionChangeThreshold:5},nT=(()=>{class n{_document=O(rt);_ngZone=O(_e);_viewportRuler=O(k1);_dragDropRegistry=O(nF);_renderer=O(In).createRenderer(null,null);constructor(){}createDrag(t,r=E7){return new ZI(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(t){return new XI(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vg=new Q("CDK_DRAG_PARENT");var w7=new Q("CdkDragHandle");var rF=new Q("CDK_DRAG_CONFIG"),iF=new Q("CdkDropList"),oF=(()=>{class n{element=O(Nt);dropContainer=O(iF,{optional:!0,skipSelf:!0});_ngZone=O(_e);_viewContainerRef=O(Ai);_dir=O(HI,{optional:!0});_changeDetectorRef=O(Cn);_selfHandle=O(w7,{optional:!0,self:!0});_parentDrag=O(Vg,{optional:!0,skipSelf:!0});_dragDropRegistry=O(nF);_destroyed=new me;_handles=new et([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new fe;released=new fe;ended=new fe;entered=new fe;exited=new fe;dropped=new fe;moved=new ce(t=>{let r=this._dragRef.moved.pipe(ne(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(t);return()=>{r.unsubscribe()}});_injector=O(We);constructor(){let t=this.dropContainer,r=O(rF,{optional:!0}),i=O(nT);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this),t._dropListRef.beforeStarted.pipe(Ei(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Ha(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let r=this._handles.getValue();r.push(t),this._handles.next(r)}_removeHandle(t){let r=this._handles.getValue(),i=r.indexOf(t);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,r=t;this.rootElementSelector&&(r=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):oi(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.scale=this.scale,t.dragStartDelay=typeof i=="object"&&i?i:Pg(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(_n(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){t.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:u,previewContainer:d}=t;this.disabled=c??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Se(t=>{let r=t.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),ot(t=>Il(...t.map(r=>r._stateChanges.pipe(_i(r))))),Ei(this._destroyed)).subscribe(t=>{let r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&Tn("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Dn],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",aE]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Jn([{provide:Vg,useExisting:n}]),Zn]})}return n})(),Y1=new Q("CdkDropListGroup");var sF=(()=>{class n{element=O(Nt);_changeDetectorRef=O(Cn);_scrollDispatcher=O(P1);_dir=O(HI,{optional:!0});_group=O(Y1,{optional:!0,skipSelf:!0});_destroyed=new me;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=O(N1).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new fe;entered=new fe;exited=new fe;sorted=new fe;_unsortedItems=new Set;constructor(){let t=O(nT),r=O(rF,{optional:!0});this._dropListRef=t.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,s)=>this.sortPredicate(i,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),n._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=n._dropLists.indexOf(this);t>-1&&n._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(_i(this._dir.value),Ei(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{let r=F1(this.connectedTo).map(i=>{if(typeof i=="string"){let o=n._dropLists.find(s=>s.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);t.withElementContainer(i)}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Pg(this.autoScrollStep,2),t.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Il(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=t;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(xi("id",i.id),Tn("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Dn],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Dn],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Dn],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Jn([{provide:Y1,useValue:void 0},{provide:iF,useExisting:n}])]})}return n})(),b7=new Q("CdkDragPreview"),aF=(()=>{class n{templateRef=O(yo);_drag=O(Vg,{optional:!0});data;matchSize=!1;constructor(){this._drag?._setPreviewTemplate(this)}ngOnDestroy(){this._drag?._resetPreviewTemplate(this)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:[2,"matchSize","matchSize",Dn]},features:[Jn([{provide:b7,useExisting:n}])]})}return n})(),I7=new Q("CdkDragPlaceholder"),cF=(()=>{class n{templateRef=O(yo);_drag=O(Vg,{optional:!0});data;constructor(){this._drag?._setPlaceholderTemplate(this)}ngOnDestroy(){this._drag?._resetPlaceholderTemplate(this)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=tt({type:n,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[Jn([{provide:I7,useExisting:n}])]})}return n})();var Bg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Bt({type:n});static \u0275inj=jt({providers:[nT],imports:[O1]})}return n})();function C7(n,e){if(n&1&&(N(0,"p",9),z(1),L()),n&2){let t=oe();H(),yr(" ",t.card.description.length>100?t.card.description.substring(0,100)+"...":t.card.description," ")}}function D7(n,e){if(n&1&&(N(0,"span",13),z(1),L()),n&2){let t=e.$implicit,r=oe(2);X("ngStyle",r.getTagStyle(t.color)),H(),yr(" ",t.name," ")}}function S7(n,e){if(n&1&&(N(0,"span",14),z(1),L()),n&2){let t=oe(2);H(),yr("+",t.card.tags.length-3,"")}}function A7(n,e){if(n&1&&(N(0,"div",10),pe(1,D7,2,2,"span",11)(2,S7,2,1,"span",12),L()),n&2){let t=oe();H(),X("ngForOf",t.card.tags.slice(0,3)),H(),X("ngIf",t.card.tags.length>3)}}function x7(n,e){if(n&1&&(N(0,"div",15)(1,"span",16),z(2,"\u{1F4C5}"),L(),N(3,"span"),z(4),L()()),n&2){let t=oe();H(4),_t(t.formatDate(t.card.dueDate))}}function R7(n,e){if(n&1&&(N(0,"div",17)(1,"span",18),z(2,"\u{1F4CE}"),L(),N(3,"span"),z(4),L()()),n&2){let t=oe();H(4),_t(t.card.attachments.length)}}var lF=(()=>{class n{constructor(){this.editCard=new fe,this.deleteCard=new fe}onCardClick(){this.editCard.emit(this.card)}onDoubleClick(t){t.stopPropagation(),this.editCard.emit(this.card)}onDeleteClick(t){t.stopPropagation(),confirm("Tem certeza que deseja remover este card?")&&this.deleteCard.emit(this.card)}formatDate(t){if(!t)return"";try{console.log(`Formatando data no card: ${this.card.title}, valor original:`,t);let r=typeof t=="string"?new Date(t):t;if(isNaN(r.getTime()))return console.error("Data inv\xE1lida:",t),"";let i={day:"2-digit",month:"2-digit",year:"numeric"},o=r.toLocaleDateString(void 0,i);return console.log(`Data formatada: ${o}`),o}catch(r){return console.error("Erro ao formatar data:",r),""}}getTagStyle(t){return{backgroundColor:t,color:this.getContrastColor(t)}}getContrastColor(t){let r=Number.parseInt(t.substr(1,2),16),i=Number.parseInt(t.substr(3,2),16),o=Number.parseInt(t.substr(5,2),16);return(.299*r+.587*i+.114*o)/255>.5?"#000000":"#FFFFFF"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["app-card"]],inputs:{card:"card"},outputs:{editCard:"editCard",deleteCard:"deleteCard"},decls:11,vars:5,consts:[[1,"card-container",3,"click","dblclick"],[1,"card-header"],[1,"card-title"],["aria-label","Remover card",1,"delete-button",3,"click"],["class","card-description",4,"ngIf"],[1,"card-footer"],["class","card-tags",4,"ngIf"],["class","card-due-date",4,"ngIf"],["class","card-attachments",4,"ngIf"],[1,"card-description"],[1,"card-tags"],["class","tag",3,"ngStyle",4,"ngFor","ngForOf"],["class","tag-more",4,"ngIf"],[1,"tag",3,"ngStyle"],[1,"tag-more"],[1,"card-due-date"],[1,"due-date-icon"],[1,"card-attachments"],[1,"attachment-icon"]],template:function(r,i){r&1&&(N(0,"div",0),de("click",function(){return i.onCardClick()})("dblclick",function(s){return i.onDoubleClick(s)}),N(1,"div",1)(2,"h3",2),z(3),L(),N(4,"button",3),de("click",function(s){return i.onDeleteClick(s)}),z(5,"\xD7"),L()(),pe(6,C7,2,1,"p",4),N(7,"div",5),pe(8,A7,3,2,"div",6)(9,x7,5,1,"div",7)(10,R7,5,1,"div",8),L()()),r&2&&(H(3),_t(i.card.title||"Sem t\xEDtulo"),H(3),X("ngIf",i.card.description),H(2),X("ngIf",i.card.tags&&i.card.tags.length>0),H(),X("ngIf",i.card.dueDate),H(),X("ngIf",i.card.attachments&&i.card.attachments.length>0))},dependencies:[At,zr,Sn,zx],styles:[".card-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:6px;box-shadow:0 1px 3px #0000001a;padding:12px;margin-bottom:8px;cursor:pointer;transition:all .3s ease;border:1px solid #eee}.card-container[_ngcontent-%COMP%]:hover{box-shadow:0 3px 6px #00000026;transform:translateY(-2px)}.card-container[_ngcontent-%COMP%]:active{transform:translateY(0)}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.card-title[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;font-weight:600;font-size:14px;color:#333;line-height:1.4;flex:1;word-break:break-word}.delete-button[_ngcontent-%COMP%]{background:none;border:none;color:#999;font-size:16px;cursor:pointer;padding:0 4px;margin-left:8px;border-radius:4px;transition:all .2s ease;line-height:1;flex-shrink:0}.delete-button[_ngcontent-%COMP%]:hover{color:#ff647c;background-color:#ff647c1a}.card-description[_ngcontent-%COMP%]{margin:0 0 12px;font-family:Inter,sans-serif;font-size:13px;color:#666;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word}.card-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;font-size:12px}.card-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;margin-right:auto}.tag[_ngcontent-%COMP%]{padding:2px 6px;border-radius:4px;font-size:11px;font-weight:500;white-space:nowrap}.tag-more[_ngcontent-%COMP%]{font-size:11px;color:#888}.card-due-date[_ngcontent-%COMP%], .card-attachments[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#666}.due-date-icon[_ngcontent-%COMP%], .attachment-icon[_ngcontent-%COMP%]{font-size:12px}@media (max-width: 1024px){.card-container[_ngcontent-%COMP%]{padding:11px}.card-description[_ngcontent-%COMP%]{-webkit-line-clamp:2}}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]{padding:10px;transition:all .2s ease}.card-title[_ngcontent-%COMP%]{font-size:13px}.card-description[_ngcontent-%COMP%]{font-size:12px;margin:0 0 10px}.card-footer[_ngcontent-%COMP%]{gap:6px}.delete-button[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.card-container[_ngcontent-%COMP%]{padding:8px;margin-bottom:6px}.card-container[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.card-header[_ngcontent-%COMP%]{margin-bottom:6px}.card-title[_ngcontent-%COMP%]{font-size:12px}.card-description[_ngcontent-%COMP%]{margin:0 0 8px;font-size:11px;-webkit-line-clamp:2;line-height:1.3}.card-footer[_ngcontent-%COMP%]{gap:6px;font-size:10px}.tag[_ngcontent-%COMP%]{padding:1px 4px;font-size:10px}.delete-button[_ngcontent-%COMP%]{font-size:12px;padding:0 3px;margin-left:6px}}@media (max-width: 375px){.card-container[_ngcontent-%COMP%]{padding:7px;margin-bottom:5px}.card-header[_ngcontent-%COMP%]{margin-bottom:5px}.card-description[_ngcontent-%COMP%]{margin:0 0 6px;font-size:10px;-webkit-line-clamp:2}.card-footer[_ngcontent-%COMP%]{gap:4px;font-size:9px}.tag[_ngcontent-%COMP%]{padding:1px 3px;font-size:9px}}@media (hover: none){.card-container[_ngcontent-%COMP%]:hover{transform:none;box-shadow:0 1px 3px #0000001a}}"]})}}return n})();var uF=(()=>{class n{constructor(){this.action=new fe,this.clickOutside=new fe}onAction(t){this.action.emit(t)}onDocumentClick(t){let r=t.target,i=r.classList.contains("menu-button");!!!r.closest("app-column-menu")&&!i&&this.clickOutside.emit()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["app-column-menu"]],hostBindings:function(r,i){r&1&&de("click",function(s){return i.onDocumentClick(s)},!1,LA)},outputs:{action:"action",clickOutside:"clickOutside"},decls:21,vars:0,consts:[[1,"menu-container"],[1,"menu-item",3,"click"],[1,"menu-icon"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"button",1),de("click",function(){return i.onAction("rename")}),N(2,"span",2),z(3,"\u270F\uFE0F"),L(),N(4,"span"),z(5,"Renomear coluna"),L()(),N(6,"button",1),de("click",function(){return i.onAction("add-card")}),N(7,"span",2),z(8,"\u2795"),L(),N(9,"span"),z(10,"Adicionar novo card"),L()(),N(11,"button",1),de("click",function(){return i.onAction("change-color")}),N(12,"span",2),z(13,"\u{1F3A8}"),L(),N(14,"span"),z(15,"Mudar cor de destaque"),L()(),N(16,"button",1),de("click",function(){return i.onAction("archive")}),N(17,"span",2),z(18,"\u{1F5D1}\uFE0F"),L(),N(19,"span"),z(20,"Arquivar coluna"),L()()())},dependencies:[At],styles:[".menu-container[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#fff;border-radius:6px;box-shadow:0 4px 12px #00000026;z-index:10;min-width:200px;animation:_ngcontent-%COMP%_menuFadeIn .1s ease;transform-origin:top right;will-change:transform,opacity}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;width:100%;padding:10px 12px;background:none;border:none;text-align:left;cursor:pointer;font-family:Inter,sans-serif;font-size:14px;color:#333}.menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.menu-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:6px;border-top-right-radius:6px}.menu-item[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.menu-icon[_ngcontent-%COMP%]{font-size:16px}@keyframes _ngcontent-%COMP%_menuFadeIn{0%{opacity:0;transform:translateY(-5px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}"],changeDetection:0})}}return n})();var dF=(()=>{class n{transform(t,r){return!t||!Array.isArray(t)||t.length===0?t:[...t].sort((i,o)=>{if(!i||!o)return 0;let s=i[r],a=o[r];return r==="order"?(typeof s=="number"?s:0)-(typeof a=="number"?a:0):s==null?1:a==null||s<a?-1:s>a?1:0})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275pipe=jl({name:"sortBy",type:n,pure:!1})}}return n})();function M7(n,e){if(n&1){let t=St();N(0,"div",10),de("click",function(){Le(t);let i=oe();return Ve(i.onTitleClick())}),N(1,"h2",11),z(2),L(),N(3,"span",12),z(4),L()()}if(n&2){let t=oe();H(2),_t(t.column.title),H(2),_t(t.column.cards.length||0)}}function P7(n,e){if(n&1){let t=St();N(0,"div",13)(1,"input",14),Es("ngModelChange",function(i){Le(t);let o=oe();return Qa(o.editableTitle,i)||(o.editableTitle=i),Ve(i)}),de("blur",function(){Le(t);let i=oe();return Ve(i.onTitleBlur())})("keydown",function(i){Le(t);let o=oe();return Ve(o.onTitleKeydown(i))}),L()()}if(n&2){let t=oe();H(),X("id","column-title-"+t.column.id),_s("ngModel",t.editableTitle)}}function k7(n,e){if(n&1){let t=St();Ga(0),N(1,"app-column-menu",15),de("action",function(i){Le(t);let o=oe();return Ve(o.onMenuAction(i))})("clickOutside",function(){Le(t);let i=oe();return Ve(i.showMenu=!1)}),L(),Wa()}}function O7(n,e){if(n&1){let t=St();N(0,"div",16)(1,"button",17),de("click",function(){Le(t);let i=oe();return Ve(i.onAddCard())}),z(2,"+ Adicionar Card"),L()()}}function N7(n,e){if(n&1&&(N(0,"span",26),z(1),Ul(2,"slice"),L()),n&2){let t=oe(2).$implicit;H(),eE(" ",Ax(2,2,t.description,0,50),"",t.description.length>50?"...":""," ")}}function F7(n,e){if(n&1&&(N(0,"span",29),z(1),L()),n&2){let t=e.$implicit;_o("background-color",t.color||"#ccc"),H(),yr(" ",t.name," ")}}function L7(n,e){if(n&1&&(N(0,"div",27),pe(1,F7,2,3,"span",28),L()),n&2){let t=oe(2).$implicit;H(),X("ngForOf",t.tags.slice(0,3))}}function V7(n,e){if(n&1&&(N(0,"div",22)(1,"div",23)(2,"h3"),z(3),L(),pe(4,N7,3,6,"span",24)(5,L7,2,1,"div",25),L()()),n&2){let t=oe().$implicit;H(3),_t(t.title),H(),X("ngIf",t.description),H(),X("ngIf",t.tags&&t.tags.length>0)}}function j7(n,e){n&1&&st(0,"div",30)}function B7(n,e){if(n&1){let t=St();N(0,"app-card",19),de("editCard",function(i){Le(t);let o=oe(2);return Ve(o.onEditCard(i))})("deleteCard",function(i){Le(t);let o=oe(2);return Ve(o.onDeleteCard(i))}),pe(1,V7,6,3,"div",20)(2,j7,1,0,"div",21),L()}if(n&2){let t=e.$implicit;X("card",t)("cdkDragData",t)("cdkDragDisabled",!1)}}function U7(n,e){if(n&1&&(Ga(0),pe(1,B7,3,3,"app-card",18),Ul(2,"sortBy"),Wa()),n&2){let t=oe();H(),X("ngForOf",Sx(2,2,t.column.cards,"order"))("ngForTrackBy",t.trackByCardId)}}var hF=(()=>{class n{constructor(t){this.elementRef=t,this.connectedLists=[],this.addCard=new fe,this.editCard=new fe,this.deleteCard=new fe,this.updateColumn=new fe,this.deleteColumn=new fe,this.cardDropped=new fe,this.isEditingTitle=!1,this.showMenu=!1,this.editableTitle=""}onTitleClick(){this.editableTitle=this.column.title,this.isEditingTitle=!0,setTimeout(()=>{document.getElementById("column-title-"+this.column.id)?.focus()},0)}onTitleBlur(){this.editableTitle.trim()&&(this.column.title=this.editableTitle.trim().substring(0,30),this.updateColumn.emit(this.column)),this.isEditingTitle=!1}onTitleKeydown(t){t.key==="Enter"?(t.preventDefault(),t.target.blur()):t.key==="Escape"&&(this.isEditingTitle=!1)}onAddCard(){this.addCard.emit(this.column)}onEditCard(t){this.editCard.emit({card:t,column:this.column})}onDeleteCard(t){this.deleteCard.emit({cardId:t.id,columnId:this.column.id})}onMenuToggle(){window.requestAnimationFrame(()=>{this.showMenu=!this.showMenu})}onMenuAction(t){switch(t){case"rename":this.onTitleClick();break;case"add-card":this.onAddCard();break;case"archive":this.deleteColumn.emit(this.column.id);break;case"change-color":this.column.color=this.getRandomColor(),this.updateColumn.emit(this.column);break}this.showMenu=!1}onDrop(t){if(!t.item.data&&t.previousContainer&&t.previousIndex>=0){let r=t.previousContainer.data;Array.isArray(r)&&r.length>t.previousIndex&&(t.item.data=r[t.previousIndex])}this.cardDropped.emit(t)}canDrop(){return t=>{if(!this.column.cardLimit)return!0;let r=t.data;return r&&this.column.cards.some(i=>i.id===r.id)?!0:this.column.cards.length<this.column.cardLimit}}getRandomColor(){let t=["#2D8CFF","#00C781","#FF647C","#FFAA15","#7D4CDB","#6FFFB0"];return t[Math.floor(Math.random()*t.length)]}trackByCardId(t,r){return r.id}static{this.\u0275fac=function(r){return new(r||n)(te(Nt))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-column"]],inputs:{column:"column",connectedLists:"connectedLists"},outputs:{addCard:"addCard",editCard:"editCard",deleteCard:"deleteCard",updateColumn:"updateColumn",deleteColumn:"deleteColumn",cardDropped:"cardDropped"},decls:16,vars:12,consts:[[1,"column-container"],[1,"column-header"],["class","column-title-container",3,"click",4,"ngIf"],["class","column-title-edit",4,"ngIf"],["aria-label","Menu de op\xE7\xF5es da coluna",1,"menu-button",3,"click"],[4,"ngIf"],["cdkDropList","",1,"cards-container",3,"cdkDropListDropped","cdkDropListData","id","cdkDropListConnectedTo","cdkDropListEnterPredicate"],["class","empty-state",4,"ngIf"],[1,"add-card-container"],[1,"add-card-button",3,"click"],[1,"column-title-container",3,"click"],[1,"column-title"],[1,"card-count"],[1,"column-title-edit"],["type","text","maxlength","30",3,"ngModelChange","blur","keydown","id","ngModel"],[3,"action","clickOutside"],[1,"empty-state"],[3,"click"],["cdkDrag","","cdkDragBoundary",".board-container",3,"card","cdkDragData","cdkDragDisabled","editCard","deleteCard",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","","cdkDragBoundary",".board-container",3,"editCard","deleteCard","card","cdkDragData","cdkDragDisabled"],["class","card-preview",4,"cdkDragPreview"],["class","card-placeholder",4,"cdkDragPlaceholder"],[1,"card-preview"],[1,"card-preview-content"],["class","card-description-preview",4,"ngIf"],["class","card-tags-preview",4,"ngIf"],[1,"card-description-preview"],[1,"card-tags-preview"],["class","card-tag-preview",3,"backgroundColor",4,"ngFor","ngForOf"],[1,"card-tag-preview"],[1,"card-placeholder"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1),pe(2,M7,5,2,"div",2)(3,P7,2,2,"div",3),N(4,"button",4),de("click",function(){return i.onMenuToggle()}),N(5,"span"),z(6,"\u22EF"),L()(),pe(7,k7,2,0,"ng-container",5),L(),N(8,"div",6),de("cdkDropListDropped",function(s){return i.onDrop(s)}),pe(9,O7,3,0,"div",7)(10,U7,3,5,"ng-container",5),L(),N(11,"div",8)(12,"button",9),de("click",function(){return i.onAddCard()}),N(13,"span"),z(14,"+"),L(),z(15," Adicionar Card "),L()()()),r&2&&(_o("border-top-color",i.column.color||"#2D8CFF"),H(2),X("ngIf",!i.isEditingTitle),H(),X("ngIf",i.isEditingTitle),H(),xi("data-column-id",i.column.id),H(3),X("ngIf",i.showMenu),H(),X("cdkDropListData",i.column.cards)("id","list-"+i.column.id)("cdkDropListConnectedTo",i.connectedLists)("cdkDropListEnterPredicate",i.canDrop()),H(),X("ngIf",!i.column.cards||i.column.cards.length===0),H(),X("ngIf",i.column.cards&&i.column.cards.length>0))},dependencies:[At,zr,Sn,Gx,Wo,ii,Go,_d,gd,Bg,sF,oF,aF,cF,lF,uF,dF],styles:['@charset "UTF-8";.column-container[_ngcontent-%COMP%]{flex:0 0 300px;min-width:250px;max-width:350px;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000000d;display:flex;flex-direction:column;height:fit-content;max-height:100%;border-top:3px solid #2D8CFF;transition:box-shadow .3s ease,transform .2s ease}.column-container[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a}.column-header[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;position:relative}.column-title-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;flex:1;overflow:hidden}.column-title[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;font-weight:700;font-size:16px;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.card-count[_ngcontent-%COMP%]{background-color:#f0f0f0;border-radius:12px;padding:2px 8px;font-size:12px;color:#666;white-space:nowrap;flex-shrink:0}.column-title-edit[_ngcontent-%COMP%]{flex:1}.column-title-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:4px 8px;border:1px solid #2D8CFF;border-radius:4px;font-family:Inter,sans-serif;font-weight:700;font-size:16px;outline:none}.menu-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background-color:transparent;border:none;border-radius:4px;color:#666;cursor:pointer;font-size:18px;margin-left:auto;transform:rotate(90deg);transition:background-color .15s ease;will-change:transform,background-color}.menu-button[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:#333}.menu-button[_ngcontent-%COMP%]:active{background-color:#0000001a}.menu-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1;transform:translateY(-1px)}.cards-container[_ngcontent-%COMP%]{padding:8px;overflow-y:auto;flex:1;min-height:50px;max-height:calc(100vh - 200px)}.cards-container.cdk-drop-list-dragging[_ngcontent-%COMP%]{background-color:#2d8cff0d;border:2px dashed #2D8CFF;border-radius:6px}.cards-container.cdk-drop-list-receiving[_ngcontent-%COMP%]{background-color:#00c7810d;transition:background-color .2s ease}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px}.cards-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#aaa}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px 16px;background-color:#f9f9f9;border-radius:6px;border:2px dashed #eee}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;color:#888;font-size:14px;text-align:center}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #2D8CFF;color:#2d8cff;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:14px}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#2d8cff1a}.add-card-container[_ngcontent-%COMP%]{padding:8px}.add-card-button[_ngcontent-%COMP%]{width:100%;padding:8px;background-color:transparent;border:none;border-radius:4px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;font-family:Inter,sans-serif;font-size:14px;color:#666;transition:all .2s ease}.add-card-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0;color:#2d8cff}.add-card-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.card-preview[_ngcontent-%COMP%]{padding:12px;background-color:#fff;border-radius:6px;box-shadow:0 4px 12px #00000026;width:280px;font-family:Inter,sans-serif;font-size:14px;opacity:.8;transform:rotate(3deg)}.card-preview[_ngcontent-%COMP%]   .card-preview-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.card-preview[_ngcontent-%COMP%]   .card-preview-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#333}.card-preview[_ngcontent-%COMP%]   .card-preview-content[_ngcontent-%COMP%]   .card-description-preview[_ngcontent-%COMP%]{font-size:12px;color:#666;line-height:1.4}.card-preview[_ngcontent-%COMP%]   .card-preview-content[_ngcontent-%COMP%]   .card-tags-preview[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.card-preview[_ngcontent-%COMP%]   .card-preview-content[_ngcontent-%COMP%]   .card-tags-preview[_ngcontent-%COMP%]   .card-tag-preview[_ngcontent-%COMP%]{padding:2px 6px;border-radius:3px;font-size:10px;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:80px}.card-placeholder[_ngcontent-%COMP%]{background-color:#2d8cff1a;border:2px dashed #2D8CFF;border-radius:6px;min-height:80px;margin-bottom:8px;animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.6}50%{opacity:.8}to{opacity:.6}}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cards-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   app-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}@media (max-width: 1024px){.column-container[_ngcontent-%COMP%]{flex:0 0 290px;min-width:290px}.column-title[_ngcontent-%COMP%]{max-width:180px}}@media (max-width: 768px){.column-container[_ngcontent-%COMP%]{flex:0 0 280px;min-width:280px}.cards-container[_ngcontent-%COMP%]{max-height:calc(100vh - 220px)}.column-title[_ngcontent-%COMP%]{max-width:160px;font-size:15px}.card-count[_ngcontent-%COMP%]{font-size:11px;padding:2px 6px}}@media (max-width: 480px){.column-container[_ngcontent-%COMP%]{flex:0 0 260px;min-width:260px;transform:scale(.98);border-top-width:2px}.column-header[_ngcontent-%COMP%]{padding:10px}.column-title[_ngcontent-%COMP%]{font-size:14px;max-width:150px}.cards-container[_ngcontent-%COMP%]{padding:6px;max-height:calc(100vh - 200px)}.add-card-container[_ngcontent-%COMP%]{padding:6px}.add-card-button[_ngcontent-%COMP%]{padding:6px;font-size:13px}.menu-button[_ngcontent-%COMP%]{width:24px;height:24px;font-size:16px}.empty-state[_ngcontent-%COMP%]{padding:16px 12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;font-size:13px}}@media (max-width: 375px){.column-container[_ngcontent-%COMP%]{flex:0 0 240px;min-width:240px}.column-title[_ngcontent-%COMP%]{max-width:130px}}@media (max-height: 600px){.cards-container[_ngcontent-%COMP%]{max-height:calc(100vh - 180px)}}@media (max-height: 500px){.cards-container[_ngcontent-%COMP%]{max-height:calc(100vh - 150px)}.empty-state[_ngcontent-%COMP%]{padding:10px}}']})}}return n})();function $7(n,e){if(n&1&&(N(0,"div",24),z(1),L()),n&2){let t=oe();H(),_t(t.titleError)}}function z7(n,e){if(n&1){let t=St();N(0,"button",25),de("click",function(){let i=Le(t).$implicit,o=oe();return Ve(o.toggleTag(i))}),z(1),L()}if(n&2){let t=e.$implicit,r=oe();_o("background-color",r.isTagSelected(t.id)?t.color:"transparent")("color",r.isTagSelected(t.id)?"#fff":"#333")("border-color",t.color),Tn("selected",r.isTagSelected(t.id)),H(),yr(" ",t.name," ")}}function q7(n,e){if(n&1&&(N(0,"div",28)(1,"span",29),z(2),L(),N(3,"button",30),z(4,"\xD7"),L()()),n&2){let t=e.$implicit;H(2),_t(t.name)}}function H7(n,e){if(n&1&&(N(0,"div",26),pe(1,q7,5,1,"div",27),L()),n&2){let t=oe();H(),X("ngForOf",t.editedCard.attachments)}}var fF=(()=>{class n{constructor(){this.card=null,this.isEdit=!1,this.save=new fe,this.close=new fe,this.editedCard=this.createEmptyCard(),this.titleError="",this.availableTags=[{id:"tag1",name:"Urgente",color:"#FF647C"},{id:"tag2",name:"Bug",color:"#FFAA15"},{id:"tag3",name:"Feature",color:"#00C781"},{id:"tag4",name:"Melhoria",color:"#2D8CFF"},{id:"tag5",name:"Documenta\xE7\xE3o",color:"#7D4CDB"}]}ngOnInit(){if(this.card){if(console.log("Card recebido para edi\xE7\xE3o:",this.card),console.log("Tipo da dueDate:",this.card.dueDate?typeof this.card.dueDate:"undefined"),this.editedCard=JSON.parse(JSON.stringify(this.card)),this.editedCard.dueDate)try{console.log("Convertendo dueDate para formato de input HTML:",this.editedCard.dueDate);let t=typeof this.editedCard.dueDate=="string"?new Date(this.editedCard.dueDate):this.editedCard.dueDate;if(t instanceof Date&&!isNaN(t.getTime())){let r=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),s=`${r}-${i}-${o}`;console.log("Data formatada para input HTML:",s),this.editedCard.dueDate=s}else console.error("Data inv\xE1lida recebida:",this.editedCard.dueDate),this.editedCard.dueDate=void 0}catch(t){console.error("Erro ao processar data de vencimento:",t),this.editedCard.dueDate=void 0}this.editedCard.tags=this.editedCard.tags||[],this.editedCard.attachments=this.editedCard.attachments||[],typeof this.editedCard.order!="number"&&(this.editedCard.order=0)}else this.editedCard=this.createEmptyCard()}onSave(){if(!this.editedCard.title.trim()){this.titleError="O t\xEDtulo \xE9 obrigat\xF3rio";return}if(this.editedCard.title.length>50){this.titleError="O t\xEDtulo deve ter no m\xE1ximo 50 caracteres";return}typeof this.editedCard.order!="number"&&(this.editedCard.order=0),this.editedCard.tags=this.editedCard.tags||[],this.editedCard.attachments=this.editedCard.attachments||[];let t;if(this.editedCard.dueDate)try{if(console.log("Processando data para salvar:",this.editedCard.dueDate),typeof this.editedCard.dueDate=="string"){let i=new Date(this.editedCard.dueDate);isNaN(i.getTime())?console.error("Data inv\xE1lida ao salvar:",this.editedCard.dueDate):(t=i,console.log("Data convertida para objeto Date:",t))}else this.editedCard.dueDate instanceof Date&&(t=this.editedCard.dueDate,console.log("Usando objeto Date existente:",t))}catch(i){console.error("Erro ao processar data para salvar:",i)}let r=ae(B({},this.editedCard),{dueDate:t});console.log("Card preparado para salvar:",r),this.save.emit(r)}onClose(){this.close.emit()}onOverlayClick(t){t.target.classList.contains("modal-overlay")&&this.onClose()}toggleTag(t){let r=this.editedCard.tags.findIndex(i=>i.id===t.id);r===-1?this.editedCard.tags.push(t):this.editedCard.tags.splice(r,1)}isTagSelected(t){return this.editedCard.tags.some(r=>r.id===t)}createEmptyCard(){return{id:"card_"+Date.now(),title:"",description:"",tags:[],attachments:[],order:0}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ct({type:n,selectors:[["app-card-modal"]],inputs:{card:"card",isEdit:"isEdit"},outputs:{save:"save",close:"close"},decls:44,vars:12,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container"],[1,"modal-header"],["aria-label","Fechar",1,"close-button",3,"click"],[1,"modal-body"],[1,"form-group"],["for","card-title"],[1,"required"],["type","text","id","card-title","maxlength","50","placeholder","T\xEDtulo do card (m\xE1x. 50 caracteres)",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"character-count"],["for","card-description"],["id","card-description","rows","5","placeholder","Descri\xE7\xE3o detalhada do card (suporta markdown b\xE1sico)",3,"ngModelChange","ngModel"],[1,"form-label"],[1,"tags-container"],["class","tag-button",3,"selected","backgroundColor","color","borderColor","click",4,"ngFor","ngForOf"],["for","card-due-date"],["type","date","id","card-due-date",3,"ngModelChange","ngModel"],[1,"attachments-container"],["class","attachment-list",4,"ngIf"],[1,"add-attachment-button"],[1,"modal-footer"],[1,"cancel-button",3,"click"],[1,"save-button",3,"click"],[1,"error-message"],[1,"tag-button",3,"click"],[1,"attachment-list"],["class","attachment-item",4,"ngFor","ngForOf"],[1,"attachment-item"],[1,"attachment-name"],[1,"remove-attachment"]],template:function(r,i){r&1&&(N(0,"div",0),de("click",function(s){return i.onOverlayClick(s)}),N(1,"div",1)(2,"div",2)(3,"h2"),z(4),L(),N(5,"button",3),de("click",function(){return i.onClose()}),z(6,"\xD7"),L()(),N(7,"div",4)(8,"div",5)(9,"label",6),z(10,"T\xEDtulo "),N(11,"span",7),z(12,"*"),L()(),N(13,"input",8),Es("ngModelChange",function(s){return Qa(i.editedCard.title,s)||(i.editedCard.title=s),s}),L(),pe(14,$7,2,1,"div",9),N(15,"div",10),z(16),L()(),N(17,"div",5)(18,"label",11),z(19,"Descri\xE7\xE3o"),L(),N(20,"textarea",12),Es("ngModelChange",function(s){return Qa(i.editedCard.description,s)||(i.editedCard.description=s),s}),L()(),N(21,"div",5)(22,"span",13),z(23,"Tags"),L(),N(24,"div",14),pe(25,z7,2,9,"button",15),L()(),N(26,"div",5)(27,"label",16),z(28,"Data de Vencimento"),L(),N(29,"input",17),Es("ngModelChange",function(s){return Qa(i.editedCard.dueDate,s)||(i.editedCard.dueDate=s),s}),L()(),N(30,"div",5)(31,"span",13),z(32,"Anexos"),L(),N(33,"div",18),pe(34,H7,2,1,"div",19),N(35,"button",20)(36,"span"),z(37,"+"),L(),z(38," Adicionar Anexo "),L()()()(),N(39,"div",21)(40,"button",22),de("click",function(){return i.onClose()}),z(41,"Cancelar"),L(),N(42,"button",23),de("click",function(){return i.onSave()}),z(43,"Salvar"),L()()()()),r&2&&(H(4),_t(i.isEdit?"Editar Card":"Novo Card"),H(9),Tn("error",i.titleError),_s("ngModel",i.editedCard.title),H(),X("ngIf",i.titleError),H(),Tn("limit-reached",i.editedCard.title.length>=50),H(),yr(" ",i.editedCard.title.length,"/50 "),H(4),_s("ngModel",i.editedCard.description),H(5),X("ngForOf",i.availableTags),H(4),_s("ngModel",i.editedCard.dueDate),H(5),X("ngIf",i.editedCard.attachments&&i.editedCard.attachments.length>0))},dependencies:[At,zr,Sn,Wo,ii,Go,_d,gd],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-container[_ngcontent-%COMP%]{width:500px;max-width:90vw;max-height:90vh;background-color:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;display:flex;flex-direction:column;animation:_ngcontent-%COMP%_slideIn .3s ease;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #eee;display:flex;justify-content:space-between;align-items:center}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-family:Inter,sans-serif;font-weight:700;font-size:18px;color:#333}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#666;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px}.close-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.modal-body[_ngcontent-%COMP%]{padding:16px;overflow-y:auto;flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-family:Inter,sans-serif;font-weight:500;font-size:14px;color:#333}.form-group[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ff647c}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-family:Inter,sans-serif;font-size:14px;color:#333;transition:border-color .2s ease}input[type=text][_ngcontent-%COMP%]:focus, input[type=date][_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#2d8cff}input[type=text].error[_ngcontent-%COMP%], input[type=date].error[_ngcontent-%COMP%], textarea.error[_ngcontent-%COMP%]{border-color:#ff647c}.error-message[_ngcontent-%COMP%]{color:#ff647c;font-size:12px;margin-top:4px}.character-count[_ngcontent-%COMP%]{text-align:right;font-size:12px;color:#888;margin-top:4px}.character-count.limit-reached[_ngcontent-%COMP%]{color:#ff647c}.tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.tag-button[_ngcontent-%COMP%]{padding:6px 12px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;border:1px solid;background-color:transparent;transition:all .2s ease}.tag-button[_ngcontent-%COMP%]:hover{opacity:.8}.tag-button.selected[_ngcontent-%COMP%]{color:#fff}.attachments-container[_ngcontent-%COMP%]{border:1px dashed #ddd;border-radius:4px;padding:12px}.attachment-list[_ngcontent-%COMP%]{margin-bottom:12px}.attachment-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;background-color:#f5f5f5;border-radius:4px;margin-bottom:8px}.attachment-name[_ngcontent-%COMP%]{font-size:13px;color:#333;word-break:break-all}.remove-attachment[_ngcontent-%COMP%]{background:none;border:none;color:#666;cursor:pointer;font-size:16px;flex-shrink:0;margin-left:8px}.remove-attachment[_ngcontent-%COMP%]:hover{color:#ff647c}.add-attachment-button[_ngcontent-%COMP%]{width:100%;padding:8px;background-color:transparent;border:1px solid #2D8CFF;border-radius:4px;color:#2d8cff;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;font-size:14px}.add-attachment-button[_ngcontent-%COMP%]:hover{background-color:#2d8cff1a}.add-attachment-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.modal-footer[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #eee;display:flex;justify-content:flex-end;gap:12px}.cancel-button[_ngcontent-%COMP%]{padding:8px 16px;background-color:transparent;border:1px solid #ddd;border-radius:4px;color:#666;font-size:14px;cursor:pointer}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.save-button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#2d8cff;border:none;border-radius:4px;color:#fff;font-size:14px;cursor:pointer}.save-button[_ngcontent-%COMP%]:hover{background-color:#0071f9}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 1024px){.modal-container[_ngcontent-%COMP%]{width:480px}.modal-body[_ngcontent-%COMP%]{padding:14px}}@media (max-width: 768px){.modal-container[_ngcontent-%COMP%]{width:450px}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]{padding:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:14px}.tags-container[_ngcontent-%COMP%]{gap:6px}}@media (max-width: 576px){.modal-overlay[_ngcontent-%COMP%]{align-items:flex-end}.modal-container[_ngcontent-%COMP%]{width:100%;max-width:100%;height:85vh;max-height:85vh;border-radius:12px 12px 0 0;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.modal-header[_ngcontent-%COMP%]{padding:14px 12px}.modal-body[_ngcontent-%COMP%]{padding:12px}}@media (max-width: 480px){.modal-container[_ngcontent-%COMP%]{height:90vh;max-height:90vh}.modal-header[_ngcontent-%COMP%]{padding:12px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px}.close-button[_ngcontent-%COMP%]{width:28px;height:28px;font-size:20px}.modal-body[_ngcontent-%COMP%]{padding:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;margin-bottom:6px}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 10px;font-size:13px}.tag-button[_ngcontent-%COMP%]{padding:4px 10px;font-size:11px}.modal-footer[_ngcontent-%COMP%]{padding:12px;gap:8px}.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}.attachment-item[_ngcontent-%COMP%]{padding:6px}.attachment-name[_ngcontent-%COMP%]{font-size:12px}.add-attachment-button[_ngcontent-%COMP%]{font-size:13px;padding:6px}}@media (max-width: 375px){.modal-container[_ngcontent-%COMP%]{height:95vh;max-height:95vh}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:15px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px}input[type=text][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:7px 8px;font-size:12px}.tag-button[_ngcontent-%COMP%]{padding:3px 8px;font-size:10px}.cancel-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px}}@media (max-height: 600px){.modal-body[_ngcontent-%COMP%]{max-height:calc(100vh - 120px)}}@media (max-height: 500px) and (orientation: landscape){.modal-overlay[_ngcontent-%COMP%]{align-items:flex-start}.modal-container[_ngcontent-%COMP%]{max-height:98vh;border-radius:0 0 8px 8px}.modal-header[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{padding:8px 12px}}"]})}}return n})();var G7=It`
  query GetBoards {
    boards {
      id
      title
      userId
      createdAt
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,W7=It`
  query GetBoard($id: String!) {
    board(id: $id) {
      id
      title
      userId
      createdAt
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,Q7=It`
  mutation CreateBoard($input: BoardInput!) {
    createBoard(input: $input) {
      id
      title
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
        }
      }
    }
  }
`,pF=It`
  mutation UpdateBoard($id: String!, $input: BoardInput!) {
    updateBoard(id: $id, input: $input) {
      id
      title
      userId
      createdAt
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
        }
      }
    }
  }
`,K7=It`
  mutation AddColumn($boardId: String!, $input: ColumnInput!) {
    addColumn(boardId: $boardId, input: $input) {
      id
      title
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
        }
      }
    }
  }
`,Y7=It`
  mutation UpdateColumn($boardId: String!, $columnId: String!, $input: ColumnUpdateInput!) {
    updateColumn(boardId: $boardId, columnId: $columnId, input: $input) {
      id
      title
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,Z7=It`
  mutation DeleteColumn($boardId: String!, $columnId: String!) {
    deleteColumn(boardId: $boardId, columnId: $columnId) {
      id
      columns {
        id
        title
      }
    }
  }
`,J7=It`
  mutation AddCard($boardId: String!, $columnId: String!, $input: CardInput!) {
    addCard(boardId: $boardId, columnId: $columnId, input: $input) {
      id
      columns {
        id
        title
        cards {
          id
          title
          description
          order
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,X7=It`
  mutation UpdateCard($boardId: String!, $columnId: String!, $cardId: String!, $input: CardInput!) {
    updateCard(boardId: $boardId, columnId: $columnId, cardId: $cardId, input: $input) {
      id
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,eY=It`
  mutation DeleteCard($boardId: String!, $columnId: String!, $cardId: String!) {
    deleteCard(boardId: $boardId, columnId: $columnId, cardId: $cardId) {
      id
      title
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,tY=It`
  mutation MoveCard(
    $boardId: String!
    $sourceColumnId: String!
    $targetColumnId: String!
    $cardId: String!
    $newOrder: Float!
  ) {
    moveCard(
      boardId: $boardId
      sourceColumnId: $sourceColumnId
      targetColumnId: $targetColumnId
      cardId: $cardId
      newOrder: $newOrder
    ) {
      id
      title
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
          dueDate
          tags {
            id
            name
            color
          }
          attachments {
            id
            name
            url
            type
          }
        }
      }
    }
  }
`,nY=It`
  mutation ResetBoard($id: String!) {
    resetBoard(id: $id) {
      id
      title
      userId
      createdAt
      columns {
        id
        title
        color
        cardLimit
        cards {
          id
          title
          description
          order
        }
      }
    }
  }
`,mF=(()=>{class n{constructor(t,r){this.apollo=t,this.authService=r}handleError(t,r){return i=>(console.error(`Erro em ${t}:`,i),(i.message?.includes("unauthorized")||i.message?.includes("Unauthorized")||i.networkError?.status===401)&&console.warn("Erro de autentica\xE7\xE3o detectado. O usu\xE1rio pode precisar fazer login novamente."),r!==void 0?W(r):mi(()=>i))}getBoards(){console.log("GraphQL: Solicitando boards do servidor...");let t=this.authService.getToken();return console.log("GraphQL: Token dispon\xEDvel:",t?"Sim":"N\xE3o"),this.apollo.watchQuery({query:G7,fetchPolicy:"network-only",errorPolicy:"all"}).valueChanges.pipe(Se(r=>{console.log("GraphQL: Resposta do servidor:",r.data?"Dados recebidos":"Sem dados",r.error?`Erro: ${r.error.message}`:"Sem erros"),r.data?.boards&&(console.log(`GraphQL: Processando ${r.data.boards.length} boards...`),r.data.boards.forEach((i,o)=>{console.log(`GraphQL: Board ${o}: ID=${i.id}, UserId=${i.userId||"N/A"}, Colunas=${i.columns?.length||0}`)}),r.data.boards.forEach((i,o)=>{if(i.createdAt&&(console.log(`Board ${o} createdAt:`,typeof i.createdAt,i.createdAt),typeof i.createdAt=="object"))try{"toDate"in i.createdAt&&typeof i.createdAt.toDate=="function"?i.createdAt=i.createdAt.toDate().toISOString():"seconds"in i.createdAt?i.createdAt=new Date(i.createdAt.seconds*1e3).toISOString():i.createdAt=new Date().toISOString()}catch(s){console.error("Erro ao converter createdAt:",s),i.createdAt=new Date().toISOString()}i.columns&&i.columns.forEach((s,a)=>{s.cards&&s.cards.forEach((c,u)=>{if(c.dueDate&&(console.log(`Card ${u} em coluna ${a} dueDate:`,typeof c.dueDate,c.dueDate),typeof c.dueDate=="object"))try{"toDate"in c.dueDate&&typeof c.dueDate.toDate=="function"?c.dueDate=c.dueDate.toDate().toISOString():"seconds"in c.dueDate?c.dueDate=new Date(c.dueDate.seconds*1e3).toISOString():c.dueDate=new Date().toISOString()}catch(d){console.error("Erro ao converter dueDate:",d),c.dueDate=void 0}})})}))}),ne(r=>{if(r.error)throw console.error("GraphQL: Erro ao buscar boards:",r.error),new Error(`Erro ao buscar boards: ${r.error.message}`);return!r.data||!r.data.boards?(console.warn("GraphQL: Nenhum board encontrado"),[]):(console.log("GraphQL: Boards recebidos com sucesso:",r.data.boards.length),r.data.boards)}),he(r=>(console.error("GraphQL: Erro ao buscar boards:",r),r.networkError&&(console.error("GraphQL: Erro de rede:",r.networkError),r.networkError.status&&console.error(`GraphQL: Status HTTP: ${r.networkError.status}`)),r.graphQLErrors&&console.error("GraphQL: Erros GraphQL:",r.graphQLErrors),mi(()=>r))))}getBoard(t){return this.apollo.watchQuery({query:W7,variables:{id:t},fetchPolicy:"network-only",errorPolicy:"all"}).valueChanges.pipe(ne(r=>{if(r.error)throw console.error(`Erro ao buscar board ${t}:`,r.error),new Error(`Erro ao buscar board: ${r.error.message}`);if(!r.data.board)throw new Error(`Board ${t} n\xE3o encontrado`);return r.data.board}),he(this.handleError("getBoard")))}createBoard(t){return this.apollo.mutate({mutation:Q7,variables:{input:{title:t}},errorPolicy:"all"}).pipe(ne(r=>{if(r.errors)throw console.error("Erro ao criar board:",r.errors),new Error(`Erro ao criar board: ${r.errors[0].message}`);return console.log("Board criado:",r.data?.createBoard),r.data.createBoard}),he(this.handleError("createBoard")))}updateBoard(t,r){return this.apollo.mutate({mutation:pF,variables:{id:t,input:r},errorPolicy:"all"}).pipe(ne(i=>{if(i.errors)throw console.error(`Erro ao atualizar board ${t}:`,i.errors),new Error(`Erro ao atualizar board: ${i.errors[0].message}`);return console.log("Board atualizado:",i.data?.updateBoard),i.data.updateBoard}),he(this.handleError("updateBoard")))}addColumn(t,r){return this.apollo.mutate({mutation:K7,variables:{boardId:t,input:r},errorPolicy:"all"}).pipe(ne(i=>{if(i.errors)throw console.error(`Erro ao adicionar coluna ao board ${t}:`,i.errors),new Error(`Erro ao adicionar coluna: ${i.errors[0].message}`);return console.log("Coluna adicionada:",i.data?.addColumn),i.data.addColumn}),he(this.handleError("addColumn")))}updateColumn(t,r,i){let o=B({id:r},i);return console.log(`Atualizando coluna ${r} no board ${t}:`,o),this.apollo.mutate({mutation:Y7,variables:{boardId:t,columnId:r,input:o},errorPolicy:"all"}).pipe(ne(s=>{if(s.errors)throw console.error(`Erro ao atualizar coluna ${r}:`,s.errors),new Error(`Erro ao atualizar coluna: ${s.errors[0].message}`);return console.log("Coluna atualizada:",s.data?.updateColumn),s.data.updateColumn}),he(this.handleError("updateColumn")))}deleteColumn(t,r){return this.apollo.mutate({mutation:Z7,variables:{boardId:t,columnId:r},errorPolicy:"all"}).pipe(ne(i=>{if(i.errors)throw console.error(`Erro ao excluir coluna ${r}:`,i.errors),new Error(`Erro ao excluir coluna: ${i.errors[0].message}`);return console.log("Coluna exclu\xEDda:",i.data?.deleteColumn),i.data.deleteColumn}),he(this.handleError("deleteColumn")))}serializeCard(t){let r={title:t.title,description:t.description,order:t.order||0};if(t.tags&&Array.isArray(t.tags)&&(r.tags=t.tags.map(i=>({name:i.name,color:i.color}))),t.dueDate)try{let i;if(t.dueDate instanceof Date)i=t.dueDate.toISOString();else if(typeof t.dueDate=="string"){let o=new Date(t.dueDate);isNaN(o.getTime())||(i=o.toISOString())}else typeof t.dueDate=="object"&&t.dueDate!==null&&("toDate"in t.dueDate&&typeof t.dueDate.toDate=="function"?i=t.dueDate.toDate().toISOString():"seconds"in t.dueDate&&typeof t.dueDate.seconds=="number"?i=new Date(t.dueDate.seconds*1e3).toISOString():i=new Date().toISOString());i&&(r.dueDate=i,console.log("Data serializada:",i))}catch(i){console.error("Erro ao serializar data:",i)}return t.attachments&&Array.isArray(t.attachments)&&(r.attachments=t.attachments.map(i=>({name:i.name,url:i.url,type:i.type}))),console.log("Card serializado para envio:",r),r}addCard(t,r,i){console.log(`Adicionando card \xE0 coluna ${r} no board ${t}:`,i);let o=this.serializeCard(i);return this.apollo.mutate({mutation:J7,variables:{boardId:t,columnId:r,input:o},errorPolicy:"all"}).pipe(ne(s=>{if(s.errors)throw console.error(`Erro ao adicionar card na coluna ${r}:`,s.errors),new Error(`Erro ao adicionar card: ${s.errors[0].message}`);return console.log("Card adicionado:",s.data?.addCard),s.data.addCard}),he(this.handleError("addCard")))}updateCard(t,r,i,o){console.log(`Atualizando card ${i} na coluna ${r} no board ${t}:`,o);let s=this.serializeCard(o);return this.apollo.mutate({mutation:X7,variables:{boardId:t,columnId:r,cardId:i,input:s},errorPolicy:"all"}).pipe(ne(a=>{if(a.errors)throw console.error(`Erro ao atualizar card ${i}:`,a.errors),new Error(`Erro ao atualizar card: ${a.errors[0].message}`);return console.log("Card atualizado:",a.data?.updateCard),a.data.updateCard}),he(this.handleError("updateCard")))}deleteCard(t,r,i){return console.log(`GraphQL: Enviando requisi\xE7\xE3o para excluir card ${i} da coluna ${r} no board ${t}`),this.apollo.mutate({mutation:eY,variables:{boardId:t,columnId:r,cardId:i},errorPolicy:"all"}).pipe(ne(o=>{if(o.errors){let a=o.errors.map(c=>c.message).join("; ");throw console.error(`Erro ao excluir card ${i}:`,o.errors),new Error(`Erro ao excluir card: ${a}`)}if(!o.data?.deleteCard)throw console.error("Resposta vazia ao excluir card"),new Error("Resposta vazia do servidor ao excluir card");return console.log(`Card ${i} exclu\xEDdo com sucesso. Board retornado:`,o.data.deleteCard),this.processDatesInBoard(o.data.deleteCard)}),he(o=>{throw console.error(`Erro ao excluir card ${i}:`,o),o}))}moveCard(t,r,i,o,s){return console.log("Enviando requisi\xE7\xE3o moveCard para o GraphQL"),this.apollo.mutate({mutation:tY,variables:{boardId:t,sourceColumnId:r,targetColumnId:i,cardId:o,newOrder:s},errorPolicy:"all"}).pipe(ne(a=>{if(a.errors)throw console.error(`Erro ao mover card ${o}:`,a.errors),new Error(`Erro ao mover card: ${a.errors[0].message}`);let c=this.processDatesInBoard(a.data.moveCard);return console.log("Card movido com sucesso no GraphQL"),c}),he(this.handleError("moveCard")))}resetBoard(t,r){return console.log("RESETBOARD: Iniciando reset do board",t,"com t\xEDtulo",r),this.apollo.mutate({mutation:nY,variables:{id:t},errorPolicy:"all",fetchPolicy:"no-cache"}).pipe(Se(i=>{i.errors?console.error(`RESETBOARD: Erro ao resetar board ${t}:`,i.errors):console.log("RESETBOARD: Resposta recebida com sucesso:",i.data?.resetBoard)}),ne(i=>{if(i.errors)throw console.error(`RESETBOARD: Erro ao resetar board ${t}:`,i.errors),new Error(`Erro ao resetar board: ${i.errors[0].message}`);if(!i.data||!i.data.resetBoard)throw console.error("RESETBOARD: Resposta inv\xE1lida do servidor"),new Error("Resposta inv\xE1lida do servidor ao resetar o board");console.log("RESETBOARD: Board resetado com sucesso no GraphQL");let o=this.processDatesInBoard(i.data.resetBoard);return o.columns&&o.columns.length>0&&(console.warn("RESETBOARD: Board ainda cont\xE9m colunas ap\xF3s reset, for\xE7ando limpeza"),o.columns=[]),o}),he(i=>(console.error("RESETBOARD: Erro durante reset do board:",i),i.networkError||!i.graphQLErrors?(console.warn("RESETBOARD: Erro detectado, tentando abordagem alternativa com updateBoard"),this.apollo.mutate({mutation:pF,variables:{id:t,input:{title:r,columns:[]}}}).pipe(ne(o=>{if(o.data?.updateBoard)return console.log("RESETBOARD: Resetado com sucesso usando m\xE9todo alternativo"),ae(B({},o.data.updateBoard),{columns:[]});throw new Error("Falha na abordagem alternativa de reset")}),he(()=>(console.error("RESETBOARD: Todas as tentativas falharam, retornando board vazio"),W({id:t,title:r,columns:[]}))))):this.handleError("resetBoard",{id:t,title:r,columns:[]})(i))))}processDatesInBoard(t){let r=JSON.parse(JSON.stringify(t));return r.columns&&r.columns.forEach(i=>{i.cards&&i.cards.forEach(o=>{if(o.dueDate&&typeof o.dueDate=="object"&&"_seconds"in o.dueDate&&"_nanoseconds"in o.dueDate){let s=o.dueDate._seconds;o.dueDate=new Date(s*1e3).toISOString()}})}),r}static{this.\u0275fac=function(r){return new(r||n)(J(dg),J(Lt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gF=(()=>{class n{constructor(t,r,i){this.boardGraphqlService=t,this.toastService=r,this.authService=i,this.mockBoard={id:"mock_local_board",title:"Meu Kanban",columns:[{id:"col1",title:"A Fazer",color:"#2D8CFF",cards:[{id:"card1",title:"Implementar drag and drop",description:"Adicionar funcionalidade de arrastar e soltar para os cards entre colunas",tags:[{id:"tag1",name:"Feature",color:"#00C781"},{id:"tag2",name:"UI/UX",color:"#7D4CDB"}],dueDate:new Date("2023-12-15"),order:0},{id:"card2",title:"Criar componente de modal",description:"Desenvolver um componente reutiliz\xE1vel para modais",tags:[{id:"tag1",name:"Feature",color:"#00C781"}],order:1}]},{id:"col2",title:"Em Progresso",color:"#FFAA15",cards:[{id:"card3",title:"Estilizar componentes com SCSS",description:"Aplicar estilos usando SCSS para todos os componentes do board",tags:[{id:"tag2",name:"UI/UX",color:"#7D4CDB"}],order:0}]},{id:"col3",title:"Conclu\xEDdo",color:"#00C781",cards:[{id:"card4",title:"Configurar projeto Angular",description:"Inicializar o projeto e configurar as depend\xEAncias necess\xE1rias",tags:[{id:"tag3",name:"Setup",color:"#2D8CFF"}],order:0},{id:"card5",title:"Criar estrutura de componentes",description:"Definir a arquitetura e criar os componentes base",tags:[{id:"tag3",name:"Setup",color:"#2D8CFF"}],order:1}]}]},this.boardSubject=new et({id:"1",title:"Kanban Board",columns:[]}),this.board$=this.boardSubject.asObservable(),this.currentUserId="",this.previousUserId="",this.authSubscription=this.authService.currentUser$.subscribe(o=>{if(o){let s=o.uid||o.email||"anonymous";this.currentUserId&&this.currentUserId!==s&&(console.log("Usu\xE1rio mudou de",this.currentUserId,"para",s),this.previousUserId=this.currentUserId,this.resetLocalBoard()),this.currentUserId=s,console.log("ID do usu\xE1rio para persist\xEAncia de dados:",this.currentUserId),this.loadBoardsFromApi()}else this.currentUserId&&this.currentUserId!=="anonymous"&&(this.previousUserId=this.currentUserId,this.resetLocalBoard()),this.currentUserId="anonymous",console.log("Usu\xE1rio n\xE3o autenticado. Usando ID an\xF4nimo para persist\xEAncia."),this.loadBoardsFromApi()})}resetLocalBoard(){console.log("Limpando board local antes de carregar dados do novo usu\xE1rio");let t={id:"",title:"Carregando...",columns:[]};this.boardSubject.next(t)}deepClone(t){return JSON.parse(JSON.stringify(t))}loadBoardsFromApi(){if(this.previousUserId){console.log(`Troca de usu\xE1rio detectada: ${this.previousUserId} -> ${this.currentUserId}`),console.log("Limpando completamente o board anterior antes de carregar o novo");let t={id:"",title:"Carregando dados do usu\xE1rio...",columns:[]};this.boardSubject.next(t),setTimeout(()=>{this.fetchBoardsFromAPI()},100)}else console.log("Inicializando com mockBoard para feedback visual"),this.updateBoardState(this.deepClone(this.mockBoard)),this.fetchBoardsFromAPI()}fetchBoardsFromAPI(){console.log(`Buscando boards da API para usu\xE1rio: ${this.currentUserId}`),this.authService.getToken()?console.log("Token de autentica\xE7\xE3o dispon\xEDvel para a chamada \xE0 API"):console.warn("N\xE3o h\xE1 token de autentica\xE7\xE3o dispon\xEDvel. Tentando carregar os boards mesmo assim..."),this.boardGraphqlService.getBoards().pipe(Se(r=>{Array.isArray(r)?(console.log(`Obteve ${r.length} boards da API`),r.forEach((i,o)=>{console.log(`Board ${o+1}: ID=${i.id}, T\xEDtulo=${i.title}, UserId=${i.userId||"n\xE3o definido"}, Colunas=${i.columns?.length||0}`)})):console.warn("Resposta da API n\xE3o \xE9 um array:",r)}),he(r=>(console.error("Erro ao carregar boards:",r),r.message?.includes("unauthorized")||r.message?.includes("Unauthorized")||r.networkError?.status===401?(console.warn("Erro de autentica\xE7\xE3o. Verifique se o usu\xE1rio est\xE1 logado corretamente."),this.toastService.show("Erro de autentica\xE7\xE3o. Fa\xE7a login novamente.","error")):this.toastService.show("Erro ao carregar dados do servidor. Criando um novo board.","warning"),this.boardGraphqlService.createBoard(this.mockBoard.title).pipe(he(i=>(console.error("Erro ao criar board:",i),this.toastService.show("Erro ao criar quadro no servidor.","error"),W(this.deepClone(this.mockBoard))))))),ot(r=>{if(Array.isArray(r)&&r.length>0){let i=r.filter(o=>o.userId===this.currentUserId);return i.length>0?(console.log(`Encontrado ${i.length} boards pertencentes ao usu\xE1rio ${this.currentUserId}`),W(i[0])):(console.log("Board encontrado na API mas n\xE3o pertence ao usu\xE1rio atual. Usando primeiro board:",r[0]),W(r[0]))}else return!Array.isArray(r)&&r.id?(console.log("Board \xFAnico recebido (provavelmente novo):",r),W(r)):(console.log("Nenhum quadro encontrado na API. Criando um novo..."),this.boardGraphqlService.createBoard(this.mockBoard.title).pipe(Se(i=>{console.log("Novo board criado na API com ID:",i.id)}),he(i=>(console.error("Erro ao criar board:",i),this.toastService.show("Erro ao criar quadro no servidor.","error"),W(this.deepClone(this.mockBoard))))))})).subscribe({next:r=>{if(console.log("Board carregado/criado da API:",r),!r||!r.columns){console.error("Board recebido da API \xE9 inv\xE1lido:",r),this.toastService.show("Board recebido da API \xE9 inv\xE1lido, usando board local.","warning"),this.updateBoardState(this.deepClone(this.mockBoard));return}console.log(`Atualizando board: ID=${r.id}, UserId=${r.userId||"n\xE3o definido"}, CurrentUserId=${this.currentUserId}`),this.updateBoardState(r),this.toastService.show("Dados carregados com sucesso!","success"),(!r.userId||r.userId!==this.currentUserId)&&(console.log(`Board com userId ${r.userId||"n\xE3o definido"}. Atualizando para o usu\xE1rio atual: ${this.currentUserId}`),this.boardGraphqlService.updateBoard(r.id,{title:r.title}).pipe(he(i=>(console.error("Erro ao atualizar userId do board:",i),W(null)))).subscribe()),r.columns.length===0?(console.log("Board est\xE1 vazio. Criando colunas iniciais..."),this.initializeBoardWithMockColumns(r.id)):console.log("Board j\xE1 tem colunas:",r.columns.length)},error:r=>{console.error("Erro ao processar board:",r),this.toastService.show("Erro ao processar dados do servidor. Usando board local.","error"),this.updateBoardState(this.deepClone(this.mockBoard))}})}initializeBoardWithMockColumns(t){this.mockBoard.columns.forEach((r,i)=>{setTimeout(()=>{let o={title:r.title,color:r.color,cardLimit:r.cardLimit||0};this.addColumn(o),i===this.mockBoard.columns.length-1&&setTimeout(()=>{this.initializeBoardWithMockCards()},1e3)},i*500)})}initializeBoardWithMockCards(){let t=this.getBoard();!t||!t.columns||t.columns.length===0||this.mockBoard.columns.forEach((r,i)=>{let o=t.columns[i];o&&r.cards.forEach((s,a)=>{setTimeout(()=>{let c;s.dueDate&&(c=this.formatDateForGraphQL(s.dueDate));let u={title:s.title,description:s.description,tags:s.tags,dueDate:c,order:a,attachments:s.attachments};this.addCard(o.id,u)},a*300)})})}createMockBoard(){return{id:"local_"+Date.now(),title:"Meu Quadro Kanban (Offline)",columns:[{id:"col_1",title:"A Fazer",color:"#5BC2E7",cards:[],cardLimit:10},{id:"col_2",title:"Em Progresso",color:"#9966FF",cards:[],cardLimit:5},{id:"col_3",title:"Conclu\xEDdo",color:"#47B04B",cards:[],cardLimit:0}]}}getBoard(){return this.boardSubject.value}getBoardObservable(){return this.boardSubject.asObservable()}updateBoard(t){this.updateBoardState(this.deepClone(t))}addColumn(t){let r=this.getBoard();if(!r||!r.id){console.error("N\xE3o \xE9 poss\xEDvel adicionar coluna: board inv\xE1lido"),this.toastService.show("Erro ao adicionar coluna: board inv\xE1lido.","error");return}this.boardGraphqlService.addColumn(r.id,t).pipe(he(i=>(console.error("Erro ao adicionar coluna:",i),this.toastService.show("Erro ao adicionar coluna.","error"),W(null)))).subscribe(i=>{i&&(this.updateBoardState(i),this.toastService.show("Coluna adicionada com sucesso!","success"))})}updateBoardState(t){console.log("Atualizando estado do board:",t),console.log("N\xFAmero de colunas:",t.columns?.length||0);let r=this.deepClone(t);if(r.createdAt)try{r.createdAt=this.formatDateForGraphQL(r.createdAt)}catch(i){console.error("Erro ao processar data de cria\xE7\xE3o do board:",i),r.createdAt=new Date().toISOString()}r.columns&&r.columns.forEach(i=>{if(i.cards&&Array.isArray(i.cards)){i.cards=i.cards.filter(s=>s&&typeof s=="object"),i.cards.forEach((s,a)=>{(s.order===void 0||s.order===null)&&(console.log(`Card ${s.id} sem ordem definida, configurando para ${a}`),s.order=a)});let o=new Set;i.cards=i.cards.filter(s=>s.id?o.has(s.id)?(console.warn(`Card duplicado encontrado: ${s.id}, removendo duplicata.`),!1):(o.add(s.id),!0):(console.warn("Card sem ID encontrado, ignorando"),!1)),i.cards.sort((s,a)=>{let c=typeof s.order=="number"?s.order:0,u=typeof a.order=="number"?a.order:0;return c-u}),i.cards.forEach((s,a)=>{s.order!==a&&(console.log(`Ajustando ordem do card ${s.id} de ${s.order} para ${a}`),s.order=a),(!s.title||s.title.trim()==="")&&(console.warn(`Card ${s.id} sem t\xEDtulo detectado, definindo t\xEDtulo padr\xE3o`),s.title="Sem t\xEDtulo"),s.description||(s.description=""),(!s.tags||!Array.isArray(s.tags))&&(s.tags=[]),(!s.attachments||!Array.isArray(s.attachments))&&(s.attachments=[])}),i.cards.forEach(s=>{if(s.dueDate)try{s.dueDate=this.formatDateForGraphQL(s.dueDate),s.dueDate||(s.dueDate=void 0)}catch(a){console.error(`Erro ao processar data em card ${s.id}:`,a),s.dueDate=void 0}})}else i.cards=[]}),console.log("Estado do board ap\xF3s processamento:",r),this.boardSubject.next(r)}updateColumn(t){let r=this.getBoard();if(!r||!r.id){console.error("N\xE3o \xE9 poss\xEDvel atualizar coluna: board inv\xE1lido"),this.toastService.show("Erro ao atualizar coluna: board inv\xE1lido.","error");return}console.log("Atualizando coluna:",t);let i=r.columns.findIndex(s=>s.id===t.id);if(i!==-1){let s=this.deepClone(t);s.cards&&Array.isArray(s.cards)&&(s.cards.forEach((a,c)=>{(a.order===void 0||a.order===null)&&(a.order=c)}),s.cards.sort((a,c)=>{let u=typeof a.order=="number"?a.order:0,d=typeof c.order=="number"?c.order:0;return u-d}),s.cards.forEach((a,c)=>{a.order=c})),r.columns[i]=s,this.updateBoardState(r)}let o=[...t.cards].sort((s,a)=>{let c=typeof s.order=="number"?s.order:0,u=typeof a.order=="number"?a.order:0;return c-u});o.forEach((s,a)=>{s.order=a}),this.boardGraphqlService.updateColumn(r.id,t.id,{title:t.title,color:t.color,cardLimit:t.cardLimit}).pipe(he(s=>(console.error("Erro ao atualizar coluna:",s),this.toastService.show("Erro ao atualizar coluna.","error"),W(null)))).subscribe(s=>{s&&console.log("Coluna b\xE1sica atualizada com sucesso:",s)}),o&&Array.isArray(o)&&o.length>0?(o.forEach((s,a)=>{setTimeout(()=>{let c=this.getBoard(),u=c.columns.find(d=>d.id===t.id);if(u&&u.cards.some(d=>d.id===s.id)){console.log(`Atualizando card ${s.id} na coluna ${t.id} com ordem ${a}`);let d={title:s.title,description:s.description||"",order:a,tags:s.tags||[],dueDate:s.dueDate?this.formatDateForGraphQL(s.dueDate):void 0,attachments:s.attachments||[]};this.boardGraphqlService.updateCard(c.id,t.id,s.id,d).pipe(he(f=>(console.error(`Erro ao atualizar ordem do card ${s.id}:`,f),W(null)))).subscribe(f=>{f&&console.log(`Card ${s.id} atualizado para ordem ${a}`)})}},a*200)}),setTimeout(()=>{this.boardGraphqlService.getBoard(r.id).pipe(he(s=>(console.error("Erro ao recarregar board ap\xF3s atualiza\xE7\xF5es:",s),W(null)))).subscribe(s=>{s&&(console.log("Board recarregado ap\xF3s atualiza\xE7\xF5es:",s),this.updateBoardState(s),this.toastService.show("Coluna atualizada com sucesso!","success"))})},(o.length+1)*200)):this.toastService.show("Coluna atualizada com sucesso!","success")}updateCardWithoutNotification(t,r){let i=this.getBoard();if(!i||!i.id){console.error("N\xE3o \xE9 poss\xEDvel atualizar card: board inv\xE1lido");return}if(!r||!r.id){console.error("Card inv\xE1lido para atualiza\xE7\xE3o");return}let o={title:r.title,order:r.order,description:r.description||""};console.log(`Atualizando card ${r.id} na coluna ${t} com:`,o),this.boardGraphqlService.updateCard(i.id,t,r.id,o).pipe(he(s=>(console.error("Erro ao atualizar ordem do card:",s),W(null)))).subscribe()}deleteColumn(t){let r=this.getBoard();if(!r||!r.id){console.error("N\xE3o \xE9 poss\xEDvel excluir coluna: board inv\xE1lido"),this.toastService.show("Erro ao excluir coluna: board inv\xE1lido.","error");return}if(!confirm("Tem certeza que deseja arquivar esta coluna?"))return;let i=r.columns.findIndex(c=>c.id===t);if(i===-1){this.toastService.show("Coluna n\xE3o encontrada.","error");return}let o=[...r.columns],s=o.splice(i,1)[0],a=ae(B({},r),{columns:o});this.updateBoardState(a),this.toastService.show("Arquivando coluna...","info"),this.boardGraphqlService.deleteColumn(r.id,t).pipe(he(c=>(console.error("Erro ao excluir coluna:",c),this.toastService.show("Erro ao excluir coluna.","error"),a.columns.splice(i,0,s),this.updateBoardState(a),W(null)))).subscribe(c=>{c&&this.toastService.show("Coluna arquivada com sucesso!","success")})}formatDateForGraphQL(t){if(!t)return"";try{if(typeof t=="string"){let r=new Date(t);return isNaN(r.getTime())?"":r.toISOString()}if(t instanceof Date)return t.toISOString();if(typeof t=="object"){if("_seconds"in t&&"_nanoseconds"in t){let r=t._seconds;return new Date(r*1e3).toISOString()}if("seconds"in t)return new Date(t.seconds*1e3).toISOString();if("toDate"in t&&typeof t.toDate=="function")return t.toDate().toISOString()}return console.error("Formato de data n\xE3o reconhecido:",t),""}catch(r){return console.error("Erro ao formatar data para GraphQL:",r,t),""}}addCard(t,r){let i=this.getBoard();if(!i||!i.id){console.error("N\xE3o \xE9 poss\xEDvel adicionar card: board inv\xE1lido"),this.toastService.show("Erro ao adicionar card: board inv\xE1lido.","error");return}let o=i.columns.find(a=>a.id===t);if(!o){console.error(`Coluna com ID ${t} n\xE3o encontrada`),this.toastService.show("Erro ao adicionar card: coluna n\xE3o encontrada.","error");return}let s=B({},r);if(o.cards&&o.cards.length>0){let a=Math.max(...o.cards.map(c=>c.order||0));s.order=a+1}else s.order=0;s.dueDate&&(s.dueDate=this.formatDateForGraphQL(s.dueDate)),this.boardGraphqlService.addCard(i.id,t,s).pipe(he(a=>(console.error("Erro ao adicionar card:",a),this.toastService.show("Erro ao adicionar card.","error"),W(null)))).subscribe(a=>{a&&(this.updateBoardState(a),this.toastService.show("Card adicionado com sucesso!","success"))})}updateCard(t,r){let i=this.getBoard();if(!i||!i.id){console.error("N\xE3o \xE9 poss\xEDvel atualizar card: board inv\xE1lido"),this.toastService.show("Erro ao atualizar card: board inv\xE1lido.","error");return}let o=i.columns.find(c=>c.id===t);if(!o){console.error(`Coluna com ID ${t} n\xE3o encontrada`),this.toastService.show("Erro ao atualizar card: coluna n\xE3o encontrada.","error");return}let s=o.cards.findIndex(c=>c.id===r.id);if(s===-1){console.error(`Card com ID ${r.id} n\xE3o encontrado na coluna ${t}`),this.toastService.show("Erro ao atualizar card: card n\xE3o encontrado.","error");return}(r.order===void 0||r.order===null)&&(r.order=s),r.tags||(r.tags=[]),r.attachments||(r.attachments=[]);let a=ae(B({},r),{dueDate:r.dueDate?this.formatDateForGraphQL(r.dueDate):void 0});console.log("Atualizando card:",a),this.boardGraphqlService.updateCard(i.id,t,r.id,a).pipe(he(c=>(console.error("Erro ao atualizar card:",c),this.toastService.show("Erro ao atualizar card.","error"),W(null)))).subscribe(c=>{c&&(this.updateBoardState(c),this.toastService.show("Card atualizado com sucesso!","success"))})}deleteCard(t,r){let i=this.getBoard();if(!i||!i.id){console.error("N\xE3o \xE9 poss\xEDvel excluir card: board inv\xE1lido"),this.toastService.show("Erro ao excluir card: board inv\xE1lido.","error");return}let o=i.columns.find(f=>f.id===t);if(!o){console.error(`Coluna com ID ${t} n\xE3o encontrada`),this.toastService.show("Erro ao excluir card: coluna n\xE3o encontrada.","error");return}if(o.cards.findIndex(f=>f.id===r)===-1){console.error(`Card com ID ${r} n\xE3o encontrado na coluna ${t}`),this.toastService.show("Erro ao excluir card: card n\xE3o encontrado.","error");return}let a=this.deepClone(i),c=this.deepClone(i),u=c.columns.find(f=>f.id===t);if(!u){console.error("Coluna n\xE3o encontrada na c\xF3pia do board"),this.toastService.show("Erro ao excluir card: erro interno.","error");return}console.log(`Excluindo card ${r} da coluna ${t}. Estado antes da exclus\xE3o:`,u.cards.map(f=>({id:f.id,title:f.title,order:f.order})));let d=u.cards.filter(f=>f.id!==r);d.forEach((f,p)=>{f.order=p}),console.log("Cards ap\xF3s exclus\xE3o e reordena\xE7\xE3o:",d.map(f=>({id:f.id,title:f.title,order:f.order}))),u.cards=d,this.updateBoardState(c),this.boardGraphqlService.deleteCard(i.id,t,r).pipe(he(f=>(console.error("Erro ao excluir card:",f),this.toastService.show("Erro ao excluir card. Revertendo altera\xE7\xF5es.","error"),this.updateBoardState(a),W(null)))).subscribe(f=>{if(f){let p=this.deepClone(f);p.columns.forEach(m=>{m.cards&&Array.isArray(m.cards)&&m.cards.forEach(y=>{if(!y.title||y.title.trim()===""){console.warn(`Card ${y.id} sem t\xEDtulo retornado do servidor, preservando t\xEDtulo local`);let w=c.columns.find(b=>b.id===m.id)?.cards.find(b=>b.id===y.id);w&&w.title?y.title=w.title:y.title="Sem t\xEDtulo"}})}),this.updateBoardState(p),this.toastService.show("Card exclu\xEDdo com sucesso!","success")}else this.boardGraphqlService.getBoard(i.id).subscribe(p=>{if(p){let m=this.deepClone(p);m.columns.forEach(y=>{y.cards&&Array.isArray(y.cards)&&y.cards.forEach(_=>{if(!_.title||_.title.trim()===""){let b=c.columns.find(k=>k.id===y.id)?.cards.find(k=>k.id===_.id);b&&b.title?_.title=b.title:_.title="Sem t\xEDtulo"}})}),this.updateBoardState(m)}})})}moveCard(t,r,i,o){let s=this.getBoard();if(!s||!s.id){console.error("N\xE3o \xE9 poss\xEDvel mover card: board inv\xE1lido"),this.toastService.show("Erro ao mover card: board inv\xE1lido.","error");return}let a=this.deepClone(s);try{let c=s.columns.find(p=>p.id===t);if(!c)throw new Error(`Coluna de origem com ID ${t} n\xE3o encontrada`);let u=s.columns.find(p=>p.id===r);if(!u)throw new Error(`Coluna de destino com ID ${r} n\xE3o encontrada`);let d,f=c.cards.findIndex(p=>p.id===i);if(t===r){if(console.log(`Movendo card ${i} dentro da mesma coluna ${t} para posi\xE7\xE3o ${o}`),f===-1)throw new Error(`Card com ID ${i} n\xE3o encontrado na coluna ${t}`);d=this.deepClone(c.cards[f]),c.cards.splice(f,1);let p=Math.min(o,c.cards.length);c.cards.splice(p,0,d),c.cards.forEach((m,y)=>{m.order=y}),this.updateBoardState(s),this.updateColumn(c);return}if(f===-1&&t!==r&&(f=u.cards.findIndex(p=>p.id===i),f!==-1)){console.log(`Card ${i} j\xE1 est\xE1 na coluna de destino ${r}, apenas reordenando`),d=this.deepClone(u.cards[f]),d.dueDate&&(d.dueDate=this.formatDateForGraphQL(d.dueDate)),u.cards.splice(f,1);let p=Math.min(o,u.cards.length);u.cards.splice(p,0,d),u.cards.forEach((m,y)=>{m.order=y}),this.updateColumn(u);return}if(f===-1){console.error(`Card com ID ${i} n\xE3o encontrado na coluna ${t} nem na coluna ${r}`);let p=s.columns.find(m=>m.cards.some(y=>y.id===i));throw p?(console.log(`O card ${i} foi encontrado na coluna ${p.id}. Parece que houve uma inconsist\xEAncia.`),new Error(`Card encontrado na coluna ${p.id}, mas esperado na coluna ${t}`)):new Error(`Card com ID ${i} n\xE3o encontrado em nenhuma coluna do board`)}d=this.deepClone(c.cards[f]),d.dueDate&&(d.dueDate=this.formatDateForGraphQL(d.dueDate)),console.log(`Movendo card ${i} da coluna ${t} para ${r} na posi\xE7\xE3o ${o}`),this.boardGraphqlService.moveCard(s.id,t,r,i,o).pipe(he(p=>{console.error("Erro ao mover card:",p);let m="Erro ao mover card.";if(p&&typeof p=="object"&&"message"in p){let y=String(p.message);y.includes("n\xE3o encontrado")?m="Erro: Card ou coluna n\xE3o encontrados no servidor.":y.includes("acesso")?m="Erro: Sem permiss\xE3o para mover este card.":y.includes("network")?m="Erro de conex\xE3o. Verifique sua internet.":(y.includes("serialize")||y.includes("date"))&&(m="Erro com formato de data. Tente novamente.")}return this.toastService.show(`${m} Revertendo altera\xE7\xF5es.`,"error"),this.updateBoardState(a),W(null)})).subscribe(p=>{p&&(console.log("Card movido com sucesso no servidor."),this.updateBoardState(p),this.toastService.show("Card movido com sucesso!","success"))})}catch(c){console.error("Erro ao processar movimento de card:",c);let u="Falha ao mover card";c instanceof Error&&(u=c.message),this.toastService.show(`Erro: ${u}`,"error"),this.updateBoardState(a)}}createBoard(t){this.boardGraphqlService.createBoard(t).pipe(he(r=>{console.error("Erro ao criar board via API:",r);let i=this.createMockBoard();return i.title=t,this.updateBoardState(i),this.toastService.show("Quadro criado localmente","warning"),W(i)})).subscribe(r=>{this.updateBoardState(r),this.toastService.show("Quadro criado com sucesso","success")})}clearBoardData(){console.log("CLEARDBOARDDATA: Iniciando limpeza do quadro");let t=this.getBoard();if(!t||!t.id){console.error("CLEARDBOARDDATA: N\xE3o \xE9 poss\xEDvel limpar o board: board inv\xE1lido"),this.toastService.show("Erro ao limpar quadro: board inv\xE1lido.","error");return}console.log("CLEARDBOARDDATA: Board encontrado, ID:",t.id,"T\xEDtulo:",t.title);let r=t.id,i=t.title,o=this.deepClone(t),s={id:r,title:i,columns:[],userId:t.userId,createdAt:t.createdAt};console.log("CLEARDBOARDDATA: Atualizando estado local com board vazio"),this.updateBoardState(s),console.log("CLEARDBOARDDATA: Chamando resetBoard do GraphQL service"),this.boardGraphqlService.resetBoard(r,i).pipe(Se(a=>{console.log("CLEARDBOARDDATA: Resposta recebida do resetBoard:",a)}),he(a=>(console.error("CLEARDBOARDDATA: Erro ao limpar quadro no servidor:",a),this.toastService.show("Erro ao limpar quadro no servidor. Restaurando estado anterior.","error"),this.updateBoardState(o),setTimeout(()=>{console.log("CLEARDBOARDDATA: Tentando abordagem alternativa..."),this.boardGraphqlService.updateBoard(r,{title:i}).subscribe({next:c=>{console.log("CLEARDBOARDDATA: Atualiza\xE7\xE3o alternativa bem-sucedida:",c),c&&c.columns&&c.columns.length>0&&(c.columns=[]),this.updateBoardState(c||s),this.toastService.show("Quadro limpo com sucesso!","success")},error:c=>{console.error("CLEARDBOARDDATA: Erro na atualiza\xE7\xE3o alternativa:",c),this.toastService.show("N\xE3o foi poss\xEDvel limpar o quadro. Tente novamente mais tarde.","error")}})},1e3),W(null)))).subscribe(a=>{a?(console.log("CLEARDBOARDDATA: Board resetado com sucesso, atualizando estado local"),a.columns&&a.columns.length>0&&(console.warn("CLEARDBOARDDATA: Board ainda cont\xE9m colunas ap\xF3s reset, for\xE7ando remo\xE7\xE3o local"),a.columns=[]),this.updateBoardState(a),this.toastService.show("Quadro limpo com sucesso!","success")):console.log("CLEARDBOARDDATA: Nenhum board retornado do servidor")})}loadBoardData(){console.log("For\xE7ando o carregamento do board..."),this.loadBoardsFromApi()}updateCardOrder(t,r,i){let o=this.getBoard();if(!o||!o.id){console.error("N\xE3o \xE9 poss\xEDvel atualizar ordem do card: board inv\xE1lido"),this.toastService.show("Erro ao atualizar ordem do card: board inv\xE1lido.","error");return}let s=o.columns.find(f=>f.id===t);if(!s){console.error(`Coluna com ID ${t} n\xE3o encontrada`),this.toastService.show("Erro ao atualizar ordem do card: coluna n\xE3o encontrada.","error");return}let a=s.cards.findIndex(f=>f.id===r);if(a===-1){console.error(`Card com ID ${r} n\xE3o encontrado na coluna ${t}`),this.toastService.show("Erro ao atualizar ordem do card: card n\xE3o encontrado.","error");return}let c=[...s.cards],u=this.deepClone(c[a]);c.splice(a,1);let d=Math.min(Math.max(0,i),c.length);c.splice(d,0,u),c.forEach((f,p)=>{f.order=p}),s.cards=c,this.updateBoardState(o),this.boardGraphqlService.moveCard(o.id,t,t,r,d).pipe(he(f=>(console.error(`Erro ao atualizar ordem do card ${r}:`,f),this.toastService.show("Erro ao atualizar ordem do card. Tentando novamente...","error"),setTimeout(()=>{this.updateColumn(s)},500),W(null)))).subscribe(f=>{f?(console.log("Ordem do card atualizada com sucesso no backend:",f),this.updateBoardState(f),this.toastService.show("Ordem do card atualizada com sucesso!","success")):console.log("N\xE3o foi recebido um board atualizado do backend ap\xF3s moveCard")})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)(J(mF),J(nr),J(Lt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var oY=()=>[1,2,3],sY=()=>[1,2,3,4];function aY(n,e){if(n&1&&(N(0,"span",12)(1,"span",13),z(2,"Quadro de:"),L(),N(3,"span",14),z(4),L()()),n&2){let t=oe();H(4),_t(t.currentUser.displayName||t.currentUser.email||"Usu\xE1rio")}}function cY(n,e){n&1&&st(0,"div",20)}function lY(n,e){n&1&&(N(0,"div",17),st(1,"div",18),pe(2,cY,1,0,"div",19),L()),n&2&&(H(2),X("ngForOf",tE(1,sY)))}function uY(n,e){n&1&&(N(0,"div",15),pe(1,lY,3,2,"div",16),L()),n&2&&(H(),X("ngForOf",tE(1,oY)))}function dY(n,e){if(n&1){let t=St();N(0,"app-column",26),de("addCard",function(i){Le(t);let o=oe(2);return Ve(o.onAddCard(i))})("editCard",function(i){Le(t);let o=oe(2);return Ve(o.onEditCard(i))})("deleteCard",function(i){Le(t);let o=oe(2);return Ve(o.onCardDeleted(i))})("updateColumn",function(i){Le(t);let o=oe(2);return Ve(o.onColumnUpdated(i))})("deleteColumn",function(i){Le(t);let o=oe(2);return Ve(o.onColumnDeleted(i))})("cardDropped",function(i){Le(t);let o=oe(2);return Ve(o.onDrop(i))}),L()}if(n&2){let t=e.$implicit,r=oe(2);X("column",t)("connectedLists",r.getConnectedLists(t.id))}}function hY(n,e){if(n&1){let t=St();N(0,"div",21)(1,"div",22),pe(2,dY,1,2,"app-column",23),N(3,"div",24)(4,"button",25),de("click",function(){Le(t);let i=oe();return Ve(i.onAddColumn())}),N(5,"span",7),z(6,"+"),L(),N(7,"span"),z(8,"Adicionar Coluna"),L()()()()()}if(n&2){let t=oe();H(2),X("ngForOf",t.board.columns)}}function fY(n,e){if(n&1){let t=St();N(0,"app-card-modal",27),de("save",function(i){Le(t);let o=oe();return Ve(o.onCardSaved(i))})("close",function(){Le(t);let i=oe();return Ve(i.closeCardModal())}),L()}if(n&2){let t=oe();X("card",t.activeCard)("isEdit",t.isEditMode)}}function pY(n,e){if(n&1){let t=St();N(0,"div",28)(1,"div",29)(2,"h2")(3,"span",30),z(4,"\u26A0\uFE0F"),L(),z(5," Confirmar Limpeza do Quadro "),L(),N(6,"p"),z(7,"Esta a\xE7\xE3o remover\xE1 "),N(8,"strong"),z(9,"todas as colunas e cards"),L(),z(10," do seu quadro Kanban. Voc\xEA ter\xE1 que come\xE7ar do zero ap\xF3s esta opera\xE7\xE3o."),L(),N(11,"p",31),z(12,"Esta a\xE7\xE3o n\xE3o pode ser desfeita!"),L(),N(13,"div",32)(14,"button",33),de("click",function(){Le(t);let i=oe();return Ve(i.cancelReset())}),z(15,"Cancelar"),L(),N(16,"button",34),de("click",function(){Le(t);let i=oe();return Ve(i.confirmReset())}),z(17,"Sim, Limpar Quadro"),L()()()()}}var yF=(()=>{class n{constructor(t,r,i,o){this.boardService=t,this.toastService=r,this.authService=i,this.cdr=o,this.board={id:"",title:"",columns:[]},this.activeColumn=null,this.activeCard=null,this.showCardModal=!1,this.isEditMode=!1,this.isLoading=!0,this.connectedDropLists=[],this.showResetConfirmation=!1,this.boardSubscription=null,this.authSubscription=null,this.currentUser=null}ngOnInit(){this.authSubscription=this.authService.currentUser$.subscribe(t=>{this.currentUser?.uid!==t?.uid&&(console.log("Usu\xE1rio mudou, recarregando quadro..."),this.currentUser=t,this.loadBoard())})}ngOnDestroy(){this.boardSubscription&&this.boardSubscription.unsubscribe(),this.authSubscription&&this.authSubscription.unsubscribe()}loadBoard(){this.isLoading=!0,console.log("BoardComponent: Iniciando carregamento do quadro"),this.board={id:"",title:"Carregando...",columns:[]},this.boardSubscription&&(this.boardSubscription.unsubscribe(),this.boardSubscription=null);let t=this.authService.getToken(),r=this.authService.userEmail;console.log(`BoardComponent: Estado da autentica\xE7\xE3o: Token=${t?"Presente":"Ausente"}, Email=${r||"N/A"}`),console.log("BoardComponent: For\xE7ando recarga de dados do servidor"),this.boardService.loadBoardData(),this.boardSubscription=this.boardService.getBoardObservable().subscribe({next:i=>{if(console.log("BoardComponent: Dados recebidos do BoardService"),console.log(`BoardComponent: ID=${i.id}, T\xEDtulo=${i.title}, Colunas=${i.columns?.length||0}`),!i.id||i.id===""){console.log("BoardComponent: Board sem ID, aguardando dados completos...");return}this.board=i,this.updateConnectedLists(),i.columns.length===0&&!this.isLoading&&(console.log("BoardComponent: Board est\xE1 vazio, sugerindo adicionar colunas"),this.toastService.show('Seu quadro est\xE1 vazio. Adicione colunas usando o bot\xE3o "Adicionar Coluna".',"info")),this.isLoading=!1,this.cdr.detectChanges()},error:i=>{console.error("BoardComponent: Erro ao carregar o quadro:",i),this.toastService.show("Erro ao carregar o quadro. Tente recarregar a p\xE1gina.","error"),this.isLoading=!1,this.cdr.detectChanges()}})}updateConnectedLists(){this.connectedDropLists=this.board.columns.map(t=>`list-${t.id}`),console.log("Listas conectadas:",this.connectedDropLists)}getConnectedLists(t){return this.connectedDropLists.filter(r=>r!==`list-${t}`)}onAddColumn(){console.log("Adicionando coluna");let t={title:"Nova Coluna",color:"#5BC2E7",cardLimit:0};this.boardService.addColumn(t)}onColumnUpdated(t){console.log("Atualizando coluna:",t),this.boardService.updateColumn(t)}onColumnDeleted(t){console.log("Excluindo coluna:",t),this.boardService.deleteColumn(t),this.updateConnectedLists()}onCardDeleted(t){console.log("Excluindo card:",t);let r=JSON.parse(JSON.stringify(this.board));this.boardService.deleteCard(t.columnId,t.cardId),setTimeout(()=>{let i=this.boardService.getBoard(),o=!1;i.columns.forEach(s=>{s.cards.forEach(a=>{if(!a.title||a.title.trim()===""){console.warn(`Card ${a.id} na coluna ${s.id} ficou sem t\xEDtulo ap\xF3s exclus\xE3o`),o=!0;let c=r.columns.find(u=>u.id===s.id);if(c){let u=c.cards.find(d=>d.id===a.id);u&&u.title?(console.log(`Recuperando t\xEDtulo do card ${a.id} do estado anterior`),a.title=u.title):a.title="Sem t\xEDtulo"}else a.title="Sem t\xEDtulo"}})}),o&&(console.log("Problemas com t\xEDtulos encontrados, atualizando estado do board"),this.boardService.updateBoard(i))},500)}onAddCard(t){console.log("Adicionando card \xE0 coluna:",t),this.activeColumn=t,this.activeCard=null,this.isEditMode=!1,this.showCardModal=!0}onEditCard(t){console.log("Editando card:",t),this.activeCard=t.card,this.activeColumn=t.column,this.isEditMode=!0,this.showCardModal=!0}onCardSaved(t){if(console.log("Salvando card:",t),!this.activeColumn){console.error("Nenhuma coluna ativa ao tentar salvar o card");return}let r=ae(B({},t),{order:typeof t.order=="number"?t.order:0});this.isEditMode&&this.activeCard?(console.log("Atualizando card existente"),this.boardService.updateCard(this.activeColumn.id,r)):(console.log("Adicionando novo card"),r.order||(r.order=this.activeColumn.cards.length),this.boardService.addCard(this.activeColumn.id,r)),this.closeCardModal()}closeCardModal(){this.showCardModal=!1,this.activeCard=null,this.activeColumn=null}onDrop(t){console.log("Evento de drag-and-drop:",t);try{let r=t.previousContainer.id.replace("list-",""),i=t.container.id.replace("list-",""),o=this.board.columns.find(_=>_.id===r),s=this.board.columns.find(_=>_.id===i);if(!o||!s){console.error("Colunas n\xE3o encontradas:",r,i),this.toastService.show("Erro ao mover card: coluna n\xE3o encontrada.","error");return}if(Array.isArray(o.cards)||(o.cards=[]),Array.isArray(s.cards)||(s.cards=[]),o.cards.length===0){console.warn("Coluna de origem est\xE1 vazia, nada para mover");return}if(!t.item.data||!t.item.data.id)if(console.error("Dados do card n\xE3o encontrados no evento de drag",t.item),t.previousIndex>=0&&t.previousIndex<o.cards.length)t.item.data=o.cards[t.previousIndex];else{this.toastService.show("Erro ao mover card: dados do card n\xE3o encontrados.","error");return}let a=t.item.data.id;console.log("Card ID obtido dos dados do item:",a);let c=!1,u="";for(let _ of this.board.columns)if(_.cards.some(w=>w.id===a)){c=!0,u=_.id;break}if(!c){console.error(`Card com ID ${a} n\xE3o encontrado em nenhuma coluna do board`),this.toastService.show("Erro ao mover card: card n\xE3o encontrado. Tente recarregar a p\xE1gina.","error");return}console.log(`Card encontrado na coluna: ${u}`);let d=this.deepClone(this.board),f=d.columns.find(_=>_.id===r),p=d.columns.find(_=>_.id===i);if(!f||!p){console.error("Erro ao criar c\xF3pias das colunas para opera\xE7\xE3o segura");return}let m=[...f.cards].sort((_,w)=>(typeof _.order=="number"?_.order:0)-(typeof w.order=="number"?w.order:0)),y=[...p.cards].sort((_,w)=>(typeof _.order=="number"?_.order:0)-(typeof w.order=="number"?w.order:0));if(r===i){console.log("Reordenando cards na mesma coluna");let _=m.findIndex(w=>w.id===a);if(_===-1){console.error(`Card ${a} n\xE3o encontrado na coluna ${r}`),this.toastService.show("Erro ao reordenar card. Tente recarregar a p\xE1gina.","error");return}(t.currentIndex<0||t.currentIndex>m.length)&&(t.currentIndex=0),jg(m,_,t.currentIndex),m.forEach((w,b)=>{w.order=b}),f.cards=m,this.board=d,setTimeout(()=>{this.boardService.updateCardOrder(r,a,t.currentIndex)},0)}else{console.log("Movendo card entre colunas");let _,w=m.findIndex(k=>k.id===a);if(w===-1){let k=y.findIndex(x=>x.id===a);if(k!==-1)_=y[k],y.splice(k,1);else{console.error(`Card ${a} n\xE3o encontrado em nenhuma das colunas`),this.toastService.show("Erro ao mover card. Tente recarregar a p\xE1gina.","error");return}}else _=m[w],m.splice(w,1);_=this.deepClone(_);let b=t.currentIndex;(t.currentIndex<0||t.currentIndex>y.length)&&(b=y.length),y.splice(b,0,_),m.forEach((k,x)=>{k.order=x}),y.forEach((k,x)=>{k.order=x}),f.cards=m,p.cards=y,this.board=d,this.updateConnectedLists(),setTimeout(()=>{this.boardService.moveCard(r,i,a,b)},0)}this.cdr.detectChanges()}catch(r){console.error("Erro ao processar o movimento do card:",r),this.toastService.show("Erro ao mover card. Tente recarregar a p\xE1gina.","error")}}deepClone(t){return JSON.parse(JSON.stringify(t))}onResetBoard(){this.showResetConfirmation=!0,console.log("Modal de confirma\xE7\xE3o de reset exibido")}cancelReset(){this.showResetConfirmation=!1,console.log("Opera\xE7\xE3o de reset cancelada pelo usu\xE1rio"),this.toastService.show("Opera\xE7\xE3o cancelada","info")}confirmReset(){console.log("CONFIRMRESET: Iniciando processo de limpeza do quadro"),this.isLoading=!0,this.showResetConfirmation=!1,console.log("CONFIRMRESET: Modal fechado, isLoading =",this.isLoading),this.toastService.show("Limpando o quadro...","info"),console.log("CONFIRMRESET: Chamando clearBoardData()");let t=this.board.title;this.boardService.clearBoardData(),console.log("CONFIRMRESET: Ap\xF3s chamada a clearBoardData(), atualizando listas conectadas"),this.updateConnectedLists(),console.log("CONFIRMRESET: Processo de limpeza iniciado, aguardando atualiza\xE7\xE3o do subscriber"),setTimeout(()=>{this.boardService.getBoard().columns.length>0?(console.warn("CONFIRMRESET: Board ainda tem colunas ap\xF3s timeout. Tentando for\xE7ar atualiza\xE7\xE3o"),this.loadBoard()):(console.log("CONFIRMRESET: Limpeza conclu\xEDda com sucesso"),this.isLoading=!1,this.toastService.show("Quadro limpo com sucesso!","success"))},2e3)}static{this.\u0275fac=function(r){return new(r||n)(te(gF),te(nr),te(Lt),te(Cn))}}static{this.\u0275cmp=ct({type:n,selectors:[["app-board"]],decls:17,vars:6,consts:[[1,"board-container"],[1,"board-header"],[1,"board-title-container"],[1,"board-title"],["class","user-info",4,"ngIf"],[1,"board-actions"],[1,"reset-board-button",3,"click"],[1,"icon"],["class","loading-skeleton",4,"ngIf"],["class","board-content",4,"ngIf"],[3,"card","isEdit","save","close",4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"user-info"],[1,"user-label"],[1,"user-name"],[1,"loading-skeleton"],["class","skeleton-column",4,"ngFor","ngForOf"],[1,"skeleton-column"],[1,"skeleton-header"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"board-content"],[1,"columns-container"],[3,"column","connectedLists","addCard","editCard","deleteCard","updateColumn","deleteColumn","cardDropped",4,"ngFor","ngForOf"],[1,"add-column-container"],[1,"add-column-button",3,"click"],[3,"addCard","editCard","deleteCard","updateColumn","deleteColumn","cardDropped","column","connectedLists"],[3,"save","close","card","isEdit"],[1,"modal-overlay"],[1,"confirmation-modal"],[1,"warning-icon"],[1,"warning-text"],[1,"modal-actions"],[1,"cancel-button",3,"click"],[1,"confirm-button",3,"click"]],template:function(r,i){r&1&&(N(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),z(4),L(),pe(5,aY,5,1,"span",4),L(),N(6,"div",5)(7,"button",6),de("click",function(){return i.onResetBoard()}),N(8,"span",7),z(9,"\u{1F5D1}\uFE0F"),L(),N(10,"span"),z(11,"Limpar Quadro"),L()()()(),pe(12,uY,2,2,"div",8)(13,hY,9,1,"div",9)(14,fY,1,2,"app-card-modal",10)(15,pY,18,0,"div",11),st(16,"app-toast"),L()),r&2&&(H(4),_t(i.board.title),H(),X("ngIf",i.currentUser),H(7),X("ngIf",i.isLoading),H(),X("ngIf",!i.isLoading),H(),X("ngIf",i.showCardModal),H(),X("ngIf",i.showResetConfirmation))},dependencies:[At,zr,Sn,Bg,hF,fF,Pp],styles:['@charset "UTF-8";.board-container[_ngcontent-%COMP%]{height:100%;padding:16px;overflow:hidden}.board-content[_ngcontent-%COMP%]{height:100%;overflow:hidden}.columns-container[_ngcontent-%COMP%]{display:flex;height:100%;gap:16px;overflow-x:auto;padding-bottom:16px}.add-column-container[_ngcontent-%COMP%]{flex:0 0 300px;min-width:250px;max-width:350px;height:fit-content;background-color:#ffffff80;border-radius:8px;padding:8px}.add-column-button[_ngcontent-%COMP%]{width:100%;padding:12px;background-color:#fffc;border:2px dashed #ccc;border-radius:6px;display:flex;align-items:center;justify-content:center;gap:8px;cursor:pointer;transition:all .3s ease;font-family:Inter,sans-serif;font-weight:500;color:#666}.add-column-button[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#2d8cff;color:#2d8cff}.add-column-button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.loading-skeleton[_ngcontent-%COMP%]{display:flex;gap:16px;height:100%}.skeleton-column[_ngcontent-%COMP%]{flex:0 0 300px;min-width:250px;max-width:350px;background-color:#fff;border-radius:8px;padding:12px;display:flex;flex-direction:column;gap:8px;animation:_ngcontent-%COMP%_pulse 1.5s infinite ease-in-out}.skeleton-header[_ngcontent-%COMP%]{height:24px;background-color:#eee;border-radius:4px;margin-bottom:8px}.skeleton-card[_ngcontent-%COMP%]{height:80px;background-color:#eee;border-radius:6px}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:.6}50%{opacity:1}to{opacity:.6}}@media (max-width: 768px){.board-container[_ngcontent-%COMP%]{padding:12px 8px}.board-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.board-header[_ngcontent-%COMP%]   .board-actions[_ngcontent-%COMP%]{align-self:stretch}.board-header[_ngcontent-%COMP%]   .board-actions[_ngcontent-%COMP%]   .reset-board-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.columns-container[_ngcontent-%COMP%]{overflow-x:auto;scroll-snap-type:x mandatory;padding-bottom:8px}.columns-container[_ngcontent-%COMP%]   app-column[_ngcontent-%COMP%], .columns-container[_ngcontent-%COMP%]   .add-column-container[_ngcontent-%COMP%]{scroll-snap-align:start;flex:0 0 280px;min-width:280px}.confirmation-modal[_ngcontent-%COMP%]{width:95%;max-width:350px;padding:1rem}}@media (max-width: 480px){.board-container[_ngcontent-%COMP%]{padding:8px 4px;height:calc(100% - 16px)}.board-header[_ngcontent-%COMP%]{padding:.5rem;margin-bottom:.5rem}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]   .board-title[_ngcontent-%COMP%]{font-size:1.2rem}.columns-container[_ngcontent-%COMP%]{gap:10px}.columns-container[_ngcontent-%COMP%]   app-column[_ngcontent-%COMP%], .columns-container[_ngcontent-%COMP%]   .add-column-container[_ngcontent-%COMP%]{flex:0 0 260px;min-width:260px}.add-column-button[_ngcontent-%COMP%]{padding:8px}.confirmation-modal[_ngcontent-%COMP%]{width:95%;max-width:320px;padding:1rem}.confirmation-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.confirmation-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.confirmation-modal[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}}@media (max-height: 600px){.cards-container[_ngcontent-%COMP%]{max-height:calc(100vh - 180px)}}.board-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;margin-bottom:1rem;background-color:#fffc;border-radius:.5rem;box-shadow:0 2px 4px #0000001a}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]   .board-title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0;color:#333}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:.25rem}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-label[_ngcontent-%COMP%]{margin-right:.25rem}.board-header[_ngcontent-%COMP%]   .board-title-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:500;color:#2d8cff}.board-header[_ngcontent-%COMP%]   .board-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.board-header[_ngcontent-%COMP%]   .reset-board-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:.25rem;background-color:#f44336;color:#fff;font-weight:500;cursor:pointer;transition:background-color .2s}.board-header[_ngcontent-%COMP%]   .reset-board-button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.confirmation-modal[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:1.5rem;width:90%;max-width:450px;box-shadow:0 8px 24px #0003;animation:_ngcontent-%COMP%_slideUp .3s ease-out forwards}.confirmation-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#f44336;font-size:1.4rem;border-bottom:1px solid #eee;padding-bottom:.75rem;margin-bottom:1rem;display:flex;align-items:center}.confirmation-modal[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{margin-right:.5rem;font-size:1.2rem}.confirmation-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#555;line-height:1.5}.confirmation-modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.confirmation-modal[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{color:#f44336;font-weight:500;margin-top:-.5rem;margin-bottom:1.5rem;padding:.5rem;background-color:#f443361a;border-radius:4px;text-align:center}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(30px);opacity:.8}to{transform:translateY(0);opacity:1}}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.6rem 1.2rem;border-radius:4px;border:none;font-weight:500;cursor:pointer;transition:all .2s}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.modal-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666}.modal-actions[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.modal-actions[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.modal-actions[_ngcontent-%COMP%]   .confirm-button[_ngcontent-%COMP%]:hover{background-color:#d32f2f}']})}}return n})();var vF=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(){if(sessionStorage.getItem("auth_token"))return console.log("Token encontrado no sessionStorage, permitindo acesso"),W(!0);try{let i=`firebase:authUser:${this.authService.getFirebaseConfig()}:[DEFAULT]`,o=localStorage.getItem(i);if(o)try{let s=JSON.parse(o);if(s&&s.stsTokenManager&&s.stsTokenManager.accessToken){let a=s.stsTokenManager.expirationTime,c=Date.now();if(a>c)return console.log("Token v\xE1lido encontrado no localStorage, permitindo acesso"),sessionStorage.setItem("auth_token",s.stsTokenManager.accessToken),W(!0)}}catch{console.error("Erro ao analisar dados do localStorage")}}catch{console.error("Erro ao verificar localStorage")}return this.authService.isLoggedIn.pipe(_n(1),ne(r=>r?!0:(console.log("Usu\xE1rio n\xE3o autenticado, redirecionando para login"),this.router.createUrlTree(["/login"]))))}static{this.\u0275fac=function(r){return new(r||n)(J(Lt),J(Jt))}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _F=[{path:"",redirectTo:"/board",pathMatch:"full"},{path:"login",component:S1},{path:"register",component:A1},{path:"board",component:yF,canActivate:[vF]},{path:"**",redirectTo:"/board"}];var bF="@firebase/installations",sT="0.6.13";var IF=1e4,TF=`w:${sT}`,CF="FIS_v2",mY="https://firebaseinstallations.googleapis.com/v1",gY=60*60*1e3,yY="installations",vY="Installations";var _Y={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ra=new dn(yY,vY,_Y);function DF(n){return n instanceof xt&&n.code.includes("request-failed")}function SF({projectId:n}){return`${mY}/projects/${n}/installations`}function AF(n){return{token:n.token,requestStatus:2,expiresIn:wY(n.expiresIn),creationTime:Date.now()}}function xF(n,e){return S(this,null,function*(){let r=(yield e.json()).error;return ra.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function RF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function EY(n,{refreshToken:e}){let t=RF(n);return t.append("Authorization",bY(e)),t}function MF(n){return S(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function wY(n){return Number(n.replace("s","000"))}function bY(n){return`${CF} ${n}`}function IY(r,i){return S(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=SF(n),s=RF(n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={fid:t,authVersion:CF,appId:n.appId,sdkVersion:TF},u={method:"POST",headers:s,body:JSON.stringify(c)},d=yield MF(()=>fetch(o,u));if(d.ok){let f=yield d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:AF(f.authToken)}}else throw yield xF("Create Installation",d)})}function PF(n){return new Promise(e=>{setTimeout(e,n)})}function TY(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var CY=/^[cdef][\w-]{21}$/,oT="";function DY(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=SY(n);return CY.test(t)?t:oT}catch{return oT}}function SY(n){return TY(n).substr(0,22)}function $g(n){return`${n.appName}!${n.appId}`}var kF=new Map;function OF(n,e){let t=$g(n);NF(t,e),AY(t,e)}function NF(n,e){let t=kF.get(n);if(t)for(let r of t)r(e)}function AY(n,e){let t=xY();t&&t.postMessage({key:n,fid:e}),RY()}var na=null;function xY(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=n=>{NF(n.data.key,n.data.fid)}),na}function RY(){kF.size===0&&na&&(na.close(),na=null)}var MY="firebase-installations-database",PY=1,ia="firebase-installations-store",rT=null;function aT(){return rT||(rT=$p(MY,PY,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ia)}}})),rT}function Ug(n,e){return S(this,null,function*(){let t=$g(n),i=(yield aT()).transaction(ia,"readwrite"),o=i.objectStore(ia),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&OF(n,e.fid),e})}function FF(n){return S(this,null,function*(){let e=$g(n),r=(yield aT()).transaction(ia,"readwrite");yield r.objectStore(ia).delete(e),yield r.done})}function zg(n,e){return S(this,null,function*(){let t=$g(n),i=(yield aT()).transaction(ia,"readwrite"),o=i.objectStore(ia),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&OF(n,a.fid),a})}function cT(n){return S(this,null,function*(){let e,t=yield zg(n.appConfig,r=>{let i=kY(r),o=OY(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===oT?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function kY(n){let e=n||{fid:DY(),registrationStatus:0};return LF(e)}function OY(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ra.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NY(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FY(n)}:{installationEntry:e}}function NY(n,e){return S(this,null,function*(){try{let t=yield IY(n,e);return Ug(n.appConfig,t)}catch(t){throw DF(t)&&t.customData.serverCode===409?yield FF(n.appConfig):yield Ug(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function FY(n){return S(this,null,function*(){let e=yield EF(n.appConfig);for(;e.registrationStatus===1;)yield PF(100),e=yield EF(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield cT(n);return r||t}return e})}function EF(n){return zg(n,e=>{if(!e)throw ra.create("installation-not-found");return LF(e)})}function LF(n){return LY(n)?{fid:n.fid,registrationStatus:0}:n}function LY(n){return n.registrationStatus===1&&n.registrationTime+IF<Date.now()}function VY(r,i){return S(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=jY(n,t),s=EY(n,t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&s.append("x-firebase-client",f)}let c={installation:{sdkVersion:TF,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(c)},d=yield MF(()=>fetch(o,u));if(d.ok){let f=yield d.json();return AF(f)}else throw yield xF("Generate Auth Token",d)})}function jY(n,{fid:e}){return`${SF(n)}/${e}/authTokens:generate`}function lT(n,e=!1){return S(this,null,function*(){let t,r=yield zg(n.appConfig,o=>{if(!VF(o))throw ra.create("not-registered");let s=o.authToken;if(!e&&$Y(s))return o;if(s.requestStatus===1)return t=BY(n,e),o;{if(!navigator.onLine)throw ra.create("app-offline");let a=qY(o);return t=UY(n,a),a}});return t?yield t:r.authToken})}function BY(n,e){return S(this,null,function*(){let t=yield wF(n.appConfig);for(;t.authToken.requestStatus===1;)yield PF(100),t=yield wF(n.appConfig);let r=t.authToken;return r.requestStatus===0?lT(n,e):r})}function wF(n){return zg(n,e=>{if(!VF(e))throw ra.create("not-registered");let t=e.authToken;return HY(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function UY(n,e){return S(this,null,function*(){try{let t=yield VY(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ug(n.appConfig,r),t}catch(t){if(DF(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield FF(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ug(n.appConfig,r)}throw t}})}function VF(n){return n!==void 0&&n.registrationStatus===2}function $Y(n){return n.requestStatus===2&&!zY(n)}function zY(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+gY}function qY(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function HY(n){return n.requestStatus===1&&n.requestTime+IF<Date.now()}function GY(n){return S(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield cT(e);return r?r.catch(console.error):lT(e).catch(console.error),t.fid})}function WY(n,e=!1){return S(this,null,function*(){let t=n;return yield QY(t),(yield lT(t,e)).token})}function QY(n){return S(this,null,function*(){let{registrationPromise:e}=yield cT(n);e&&(yield e)})}function KY(n){if(!n||!n.options)throw iT("App Configuration");if(!n.name)throw iT("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw iT(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function iT(n){return ra.create("missing-app-config-values",{valueName:n})}var jF="installations",YY="installations-internal",ZY=n=>{let e=n.getProvider("app").getImmediate(),t=KY(e),r=An(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JY=n=>{let e=n.getProvider("app").getImmediate(),t=An(e,jF).getImmediate();return{getId:()=>GY(t),getToken:i=>WY(t,i)}};function XY(){Rt(new lt(jF,ZY,"PUBLIC")),Rt(new lt(YY,JY,"PRIVATE"))}XY();je(bF,sT);je(bF,sT,"esm2017");var qg="analytics",eZ="firebase_id",tZ="origin",nZ=60*1e3,rZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gT="https://www.googletagmanager.com/gtag/js";var Mn=new ir("@firebase/analytics");var iZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hn=new dn("analytics","Analytics",iZ);function oZ(n){if(!n.startsWith(gT)){let e=Hn.create("invalid-gtag-resource",{gtagURL:n});return Mn.warn(e.message),""}return n}function GF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function sZ(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function aZ(n,e){let t=sZ("firebase-js-sdk-policy",{createScriptURL:oZ}),r=document.createElement("script"),i=`${gT}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function cZ(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function lZ(n,e,t,r,i,o){return S(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let c=(yield GF(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Mn.error(a)}n("config",i,o)})}function uZ(n,e,t,r,i){return S(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield GF(t);for(let c of s){let u=a.find(f=>f.measurementId===c),d=u&&e[u.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Mn.error(o)}})}function dZ(n,e,t,r){function i(o,...s){return S(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield uZ(n,e,t,a,c)}else if(o==="config"){let[a,c]=s;yield lZ(n,e,t,r,a,c)}else if(o==="consent"){let[a,c]=s;n("consent",a,c)}else if(o==="get"){let[a,c,u]=s;n("get",a,c,u)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){Mn.error(a)}})}return i}function hZ(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=dZ(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function fZ(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(gT)&&t.src.includes(n))return t;return null}var pZ=30,mZ=1e3,dT=class{constructor(e={},t=mZ){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},WF=new dT;function gZ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function yZ(n){return S(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:gZ(r)},o=rZ.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Hn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function vZ(r){return S(this,arguments,function*(n,e=WF,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw Hn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw Hn.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new hT;return setTimeout(()=>S(this,null,function*(){c.abort()}),t!==void 0?t:nZ),QF({appId:i,apiKey:o,measurementId:s},a,c,e)})}function QF(o,s,a){return S(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=WF){var c;let{appId:u,measurementId:d}=n;try{yield _Z(r,e)}catch(f){if(d)return Mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:u,measurementId:d};throw f}try{let f=yield yZ(n);return i.deleteThrottleMetadata(u),f}catch(f){let p=f;if(!EZ(p)){if(i.deleteThrottleMetadata(u),d)return Mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw f}let m=Number((c=p?.customData)===null||c===void 0?void 0:c.httpStatus)===503?jp(t,i.intervalMillis,pZ):jp(t,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return i.setThrottleMetadata(u,y),Mn.debug(`Calling attemptFetch again in ${m} millis`),QF(n,y,r,i)}})}function _Z(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EZ(n){if(!(n instanceof xt)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var hT=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var fT;function wZ(n,e,t,r,i){return S(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}var pT;function bZ(n){pT=n}function IZ(n){fT=n}function TZ(){return S(this,null,function*(){if(Ps())try{yield Vp()}catch(n){return Mn.warn(Hn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Mn.warn(Hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function CZ(n,e,t,r,i,o,s){return S(this,null,function*(){var a;let c=vZ(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Mn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Mn.error(m)),e.push(c);let u=TZ().then(m=>{if(m)return r.getId()}),[d,f]=yield Promise.all([c,u]);fZ(o)||aZ(o,d.measurementId),pT&&(i("consent","default",pT),bZ(void 0)),i("js",new Date);let p=(a=s?.config)!==null&&a!==void 0?a:{};return p[tZ]="firebase",p.update=!0,f!=null&&(p[eZ]=f),i("config",d.measurementId,p),fT&&(i("set",fT),IZ(void 0)),d.measurementId})}var mT=class{constructor(e){this.app=e}_delete(){return delete Td[this.app.options.appId],Promise.resolve()}},Td={},BF=[],UF={},uT="dataLayer",DZ="gtag",$F,KF,zF=!1;function SZ(){let n=[];if(Lp()&&n.push("This is a browser extension environment."),JM()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Hn.create("invalid-analytics-context",{errorInfo:e});Mn.warn(t.message)}}function AZ(n,e,t){SZ();let r=n.options.appId;if(!r)throw Hn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hn.create("no-api-key");if(Td[r]!=null)throw Hn.create("already-exists",{id:r});if(!zF){cZ(uT);let{wrappedGtag:o,gtagCore:s}=hZ(Td,BF,UF,uT,DZ);KF=o,$F=s,zF=!0}return Td[r]=CZ(n,BF,UF,e,$F,uT,t),new mT(n)}function YF(n=or()){n=Et(n);let e=An(n,qg);return e.isInitialized()?e.getImmediate():xZ(n)}function xZ(n,e={}){let t=An(n,qg);if(t.isInitialized()){let i=t.getImmediate();if(rr(e,t.getOptions()))return i;throw Hn.create("already-initialized")}return t.initialize({options:e})}function RZ(n,e,t,r){n=Et(n),wZ(KF,Td[n.app.options.appId],e,t,r).catch(i=>Mn.error(i))}var qF="@firebase/analytics",HF="0.10.12";function MZ(){Rt(new lt(qg,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AZ(r,i,t)},"PUBLIC")),Rt(new lt("analytics-internal",n,"PRIVATE")),je(qF,HF),je(qF,HF,"esm2017");function n(e){try{let t=e.getProvider(qg).getImmediate();return{logEvent:(r,i,o)=>RZ(t,r,i,o)}}catch(t){throw Hn.create("interop-component-reg-failed",{reason:t})}}}MZ();var ZF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JF={};var Hg,XF;(function(){var n;function e(C,E){function I(){}I.prototype=E.prototype,C.D=E.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(D,R,M){for(var T=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)T[pt-2]=arguments[pt];return E.prototype[R].apply(D,T)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,I){I||(I=0);var D=Array(16);if(typeof E=="string")for(var R=0;16>R;++R)D[R]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(R=0;16>R;++R)D[R]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=C.g[0],I=C.g[1],R=C.g[2];var M=C.g[3],T=E+(M^I&(R^M))+D[0]+3614090360&4294967295;E=I+(T<<7&4294967295|T>>>25),T=M+(R^E&(I^R))+D[1]+3905402710&4294967295,M=E+(T<<12&4294967295|T>>>20),T=R+(I^M&(E^I))+D[2]+606105819&4294967295,R=M+(T<<17&4294967295|T>>>15),T=I+(E^R&(M^E))+D[3]+3250441966&4294967295,I=R+(T<<22&4294967295|T>>>10),T=E+(M^I&(R^M))+D[4]+4118548399&4294967295,E=I+(T<<7&4294967295|T>>>25),T=M+(R^E&(I^R))+D[5]+1200080426&4294967295,M=E+(T<<12&4294967295|T>>>20),T=R+(I^M&(E^I))+D[6]+2821735955&4294967295,R=M+(T<<17&4294967295|T>>>15),T=I+(E^R&(M^E))+D[7]+4249261313&4294967295,I=R+(T<<22&4294967295|T>>>10),T=E+(M^I&(R^M))+D[8]+1770035416&4294967295,E=I+(T<<7&4294967295|T>>>25),T=M+(R^E&(I^R))+D[9]+2336552879&4294967295,M=E+(T<<12&4294967295|T>>>20),T=R+(I^M&(E^I))+D[10]+4294925233&4294967295,R=M+(T<<17&4294967295|T>>>15),T=I+(E^R&(M^E))+D[11]+2304563134&4294967295,I=R+(T<<22&4294967295|T>>>10),T=E+(M^I&(R^M))+D[12]+1804603682&4294967295,E=I+(T<<7&4294967295|T>>>25),T=M+(R^E&(I^R))+D[13]+4254626195&4294967295,M=E+(T<<12&4294967295|T>>>20),T=R+(I^M&(E^I))+D[14]+2792965006&4294967295,R=M+(T<<17&4294967295|T>>>15),T=I+(E^R&(M^E))+D[15]+1236535329&4294967295,I=R+(T<<22&4294967295|T>>>10),T=E+(R^M&(I^R))+D[1]+4129170786&4294967295,E=I+(T<<5&4294967295|T>>>27),T=M+(I^R&(E^I))+D[6]+3225465664&4294967295,M=E+(T<<9&4294967295|T>>>23),T=R+(E^I&(M^E))+D[11]+643717713&4294967295,R=M+(T<<14&4294967295|T>>>18),T=I+(M^E&(R^M))+D[0]+3921069994&4294967295,I=R+(T<<20&4294967295|T>>>12),T=E+(R^M&(I^R))+D[5]+3593408605&4294967295,E=I+(T<<5&4294967295|T>>>27),T=M+(I^R&(E^I))+D[10]+38016083&4294967295,M=E+(T<<9&4294967295|T>>>23),T=R+(E^I&(M^E))+D[15]+3634488961&4294967295,R=M+(T<<14&4294967295|T>>>18),T=I+(M^E&(R^M))+D[4]+3889429448&4294967295,I=R+(T<<20&4294967295|T>>>12),T=E+(R^M&(I^R))+D[9]+568446438&4294967295,E=I+(T<<5&4294967295|T>>>27),T=M+(I^R&(E^I))+D[14]+3275163606&4294967295,M=E+(T<<9&4294967295|T>>>23),T=R+(E^I&(M^E))+D[3]+4107603335&4294967295,R=M+(T<<14&4294967295|T>>>18),T=I+(M^E&(R^M))+D[8]+1163531501&4294967295,I=R+(T<<20&4294967295|T>>>12),T=E+(R^M&(I^R))+D[13]+2850285829&4294967295,E=I+(T<<5&4294967295|T>>>27),T=M+(I^R&(E^I))+D[2]+4243563512&4294967295,M=E+(T<<9&4294967295|T>>>23),T=R+(E^I&(M^E))+D[7]+1735328473&4294967295,R=M+(T<<14&4294967295|T>>>18),T=I+(M^E&(R^M))+D[12]+2368359562&4294967295,I=R+(T<<20&4294967295|T>>>12),T=E+(I^R^M)+D[5]+4294588738&4294967295,E=I+(T<<4&4294967295|T>>>28),T=M+(E^I^R)+D[8]+2272392833&4294967295,M=E+(T<<11&4294967295|T>>>21),T=R+(M^E^I)+D[11]+1839030562&4294967295,R=M+(T<<16&4294967295|T>>>16),T=I+(R^M^E)+D[14]+4259657740&4294967295,I=R+(T<<23&4294967295|T>>>9),T=E+(I^R^M)+D[1]+2763975236&4294967295,E=I+(T<<4&4294967295|T>>>28),T=M+(E^I^R)+D[4]+1272893353&4294967295,M=E+(T<<11&4294967295|T>>>21),T=R+(M^E^I)+D[7]+4139469664&4294967295,R=M+(T<<16&4294967295|T>>>16),T=I+(R^M^E)+D[10]+3200236656&4294967295,I=R+(T<<23&4294967295|T>>>9),T=E+(I^R^M)+D[13]+681279174&4294967295,E=I+(T<<4&4294967295|T>>>28),T=M+(E^I^R)+D[0]+3936430074&4294967295,M=E+(T<<11&4294967295|T>>>21),T=R+(M^E^I)+D[3]+3572445317&4294967295,R=M+(T<<16&4294967295|T>>>16),T=I+(R^M^E)+D[6]+76029189&4294967295,I=R+(T<<23&4294967295|T>>>9),T=E+(I^R^M)+D[9]+3654602809&4294967295,E=I+(T<<4&4294967295|T>>>28),T=M+(E^I^R)+D[12]+3873151461&4294967295,M=E+(T<<11&4294967295|T>>>21),T=R+(M^E^I)+D[15]+530742520&4294967295,R=M+(T<<16&4294967295|T>>>16),T=I+(R^M^E)+D[2]+3299628645&4294967295,I=R+(T<<23&4294967295|T>>>9),T=E+(R^(I|~M))+D[0]+4096336452&4294967295,E=I+(T<<6&4294967295|T>>>26),T=M+(I^(E|~R))+D[7]+1126891415&4294967295,M=E+(T<<10&4294967295|T>>>22),T=R+(E^(M|~I))+D[14]+2878612391&4294967295,R=M+(T<<15&4294967295|T>>>17),T=I+(M^(R|~E))+D[5]+4237533241&4294967295,I=R+(T<<21&4294967295|T>>>11),T=E+(R^(I|~M))+D[12]+1700485571&4294967295,E=I+(T<<6&4294967295|T>>>26),T=M+(I^(E|~R))+D[3]+2399980690&4294967295,M=E+(T<<10&4294967295|T>>>22),T=R+(E^(M|~I))+D[10]+4293915773&4294967295,R=M+(T<<15&4294967295|T>>>17),T=I+(M^(R|~E))+D[1]+2240044497&4294967295,I=R+(T<<21&4294967295|T>>>11),T=E+(R^(I|~M))+D[8]+1873313359&4294967295,E=I+(T<<6&4294967295|T>>>26),T=M+(I^(E|~R))+D[15]+4264355552&4294967295,M=E+(T<<10&4294967295|T>>>22),T=R+(E^(M|~I))+D[6]+2734768916&4294967295,R=M+(T<<15&4294967295|T>>>17),T=I+(M^(R|~E))+D[13]+1309151649&4294967295,I=R+(T<<21&4294967295|T>>>11),T=E+(R^(I|~M))+D[4]+4149444226&4294967295,E=I+(T<<6&4294967295|T>>>26),T=M+(I^(E|~R))+D[11]+3174756917&4294967295,M=E+(T<<10&4294967295|T>>>22),T=R+(E^(M|~I))+D[2]+718787259&4294967295,R=M+(T<<15&4294967295|T>>>17),T=I+(M^(R|~E))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var I=E-this.blockSize,D=this.B,R=this.h,M=0;M<E;){if(R==0)for(;M<=I;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<E;)if(D[R++]=C.charCodeAt(M++),R==this.blockSize){i(this,D),R=0;break}}else for(;M<E;)if(D[R++]=C[M++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var I=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=I&255,I/=256;for(this.u(C),C=Array(16),E=I=0;4>E;++E)for(var D=0;32>D;D+=8)C[I++]=this.g[E]>>>D&255;return C};function o(C,E){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=E(C)}function s(C,E){this.h=E;for(var I=[],D=!0,R=C.length-1;0<=R;R--){var M=C[R]|0;D&&M==E||(I[R]=M,D=!1)}this.g=I}var a={};function c(C){return-128<=C&&128>C?o(C,function(E){return new s([E|0],0>E?-1:0)}):new s([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return w(u(-C));for(var E=[],I=1,D=0;C>=I;D++)E[D]=C/I|0,I*=4294967296;return new s(E,0)}function d(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return w(d(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),D=f,R=0;R<C.length;R+=8){var M=Math.min(8,C.length-R),T=parseInt(C.substring(R,R+M),E);8>M?(M=u(Math.pow(E,M)),D=D.j(M).add(u(T))):(D=D.j(I),D=D.add(u(T)))}return D}var f=c(0),p=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(_(this))return-w(this).m();for(var C=0,E=1,I=0;I<this.g.length;I++){var D=this.i(I);C+=(0<=D?D:4294967296+D)*E,E*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(_(this))return"-"+w(this).toString(C);for(var E=u(Math.pow(C,6)),I=this,D="";;){var R=V(I,E).g;I=b(I,R.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=R,y(I))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function _(C){return C.h==-1}n.l=function(C){return C=b(this,C),_(C)?-1:y(C)?0:1};function w(C){for(var E=C.g.length,I=[],D=0;D<E;D++)I[D]=~C.g[D];return new s(I,~C.h).add(p)}n.abs=function(){return _(this)?w(this):this},n.add=function(C){for(var E=Math.max(this.g.length,C.g.length),I=[],D=0,R=0;R<=E;R++){var M=D+(this.i(R)&65535)+(C.i(R)&65535),T=(M>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);D=T>>>16,M&=65535,T&=65535,I[R]=T<<16|M}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(C,E){return C.add(w(E))}n.j=function(C){if(y(this)||y(C))return f;if(_(this))return _(C)?w(this).j(w(C)):w(w(this).j(C));if(_(C))return w(this.j(w(C)));if(0>this.l(m)&&0>C.l(m))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,I=[],D=0;D<2*E;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<C.g.length;R++){var M=this.i(D)>>>16,T=this.i(D)&65535,pt=C.i(R)>>>16,Gn=C.i(R)&65535;I[2*D+2*R]+=T*Gn,k(I,2*D+2*R),I[2*D+2*R+1]+=M*Gn,k(I,2*D+2*R+1),I[2*D+2*R+1]+=T*pt,k(I,2*D+2*R+1),I[2*D+2*R+2]+=M*pt,k(I,2*D+2*R+2)}for(D=0;D<E;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=E;D<2*E;D++)I[D]=0;return new s(I,0)};function k(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function x(C,E){this.g=C,this.h=E}function V(C,E){if(y(E))throw Error("division by zero");if(y(C))return new x(f,f);if(_(C))return E=V(w(C),E),new x(w(E.g),w(E.h));if(_(E))return E=V(C,w(E)),new x(w(E.g),E.h);if(30<C.g.length){if(_(C)||_(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,D=E;0>=D.l(C);)I=U(I),D=U(D);var R=q(I,1),M=q(D,1);for(D=q(D,2),I=q(I,2);!y(D);){var T=M.add(D);0>=T.l(C)&&(R=R.add(I),M=T),D=q(D,1),I=q(I,1)}return E=b(C,R.j(E)),new x(R,E)}for(R=f;0<=C.l(E);){for(I=Math.max(1,Math.floor(C.m()/E.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=u(I),T=M.j(E);_(T)||0<T.l(C);)I-=D,M=u(I),T=M.j(E);y(M)&&(M=p),R=R.add(M),C=b(C,T)}return new x(R,C)}n.A=function(C){return V(this,C).h},n.and=function(C){for(var E=Math.max(this.g.length,C.g.length),I=[],D=0;D<E;D++)I[D]=this.i(D)&C.i(D);return new s(I,this.h&C.h)},n.or=function(C){for(var E=Math.max(this.g.length,C.g.length),I=[],D=0;D<E;D++)I[D]=this.i(D)|C.i(D);return new s(I,this.h|C.h)},n.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),I=[],D=0;D<E;D++)I[D]=this.i(D)^C.i(D);return new s(I,this.h^C.h)};function U(C){for(var E=C.g.length+1,I=[],D=0;D<E;D++)I[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(I,C.h)}function q(C,E){var I=E>>5;E%=32;for(var D=C.g.length-I,R=[],M=0;M<D;M++)R[M]=0<E?C.i(M+I)>>>E|C.i(M+I+1)<<32-E:C.i(M+I);return new s(R,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,XF=JF.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Hg=JF.Integer=s}).apply(typeof ZF<"u"?ZF:typeof self<"u"?self:typeof window<"u"?window:{});var Gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ji={};var eL,PZ,tL,nL,rL,iL,oL,sL,aL;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gg=="object"&&Gg];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var P=l[v];if(!(P in g))break e;g=g[P]}l=l[l.length-1],v=g[l],h=h(v),h!=v&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var g=0,v=!1,P={next:function(){if(!v&&g<l.length){var F=g++;return{value:h(F,l[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,g){return g})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function f(l,h,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,v),l.apply(h,P)}}return function(){return l.apply(h,arguments)}}function p(l,h,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function y(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,P,F){for(var Z=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Z[Je-2]=arguments[Je];return h.prototype[P].apply(v,Z)}}function _(l){let h=l.length;if(0<h){let g=Array(h);for(let v=0;v<h;v++)g[v]=l[v];return g}return[]}function w(l,h){for(let g=1;g<arguments.length;g++){let v=arguments[g];if(c(v)){let P=l.length||0,F=v.length||0;l.length=P+F;for(let Z=0;Z<F;Z++)l[P+Z]=v[Z]}else l.push(v)}}class b{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function k(l){return/^[\s\xa0]*$/.test(l)}function x(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function V(l){return V[" "](l),l}V[" "]=function(){};var U=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function q(l,h,g){for(let v in l)h.call(g,l[v],v,l)}function C(l,h){for(let g in l)h.call(void 0,l[g],g,l)}function E(l){let h={};for(let g in l)h[g]=l[g];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let g,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(g in v)l[g]=v[g];for(let F=0;F<I.length;F++)g=I[F],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function R(l){var h=1;l=l.split(":");let g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function M(l){a.setTimeout(()=>{throw l},0)}function T(){var l=ue;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class pt{constructor(){this.h=this.g=null}add(h,g){let v=Gn.get();v.set(h,g),this.h?this.h.next=v:this.g=v,this.h=v}}var Gn=new b(()=>new ee,l=>l.reset());class ee{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,se=!1,ue=new pt,at=()=>{let l=a.Promise.resolve(void 0);ie=()=>{l.then(rn)}};var rn=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){M(g)}var h=Gn;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}se=!1};function He(){this.s=this.s,this.C=this.C}He.prototype.s=!1,He.prototype.ma=function(){this.s||(this.s=!0,this.N())},He.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var Ke=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function to(l,h){if(Ge.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(U){e:{try{V(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ty[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&to.aa.h.call(this)}}y(to,Ge);var ty={2:"touch",3:"pen",4:"mouse"};to.prototype.h=function(){to.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),li=0;function yn(l,h,g,v,P){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!v,this.ha=P,this.key=++li,this.da=this.fa=!1}function ui(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function no(l){this.src=l,this.g={},this.h=0}no.prototype.add=function(l,h,g,v,P){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Z=ry(l,h,v,P);return-1<Z?(h=l[Z],g||(h.fa=!1)):(h=new yn(h,this.src,F,!!v,P),h.fa=g,l.push(h)),h};function ny(l,h){var g=h.type;if(g in l.g){var v=l.g[g],P=Array.prototype.indexOf.call(v,h,void 0),F;(F=0<=P)&&Array.prototype.splice.call(v,P,1),F&&(ui(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function ry(l,h,g,v){for(var P=0;P<l.length;++P){var F=l[P];if(!F.da&&F.listener==h&&F.capture==!!g&&F.ha==v)return P}return-1}var iy="closure_lm_"+(1e6*Math.random()|0),oy={};function HT(l,h,g,v,P){if(v&&v.once)return WT(l,h,g,v,P);if(Array.isArray(h)){for(var F=0;F<h.length;F++)HT(l,h[F],g,v,P);return null}return g=ly(g),l&&l[ut]?l.K(h,g,u(v)?!!v.capture:!!v,P):GT(l,h,g,!1,v,P)}function GT(l,h,g,v,P,F){if(!h)throw Error("Invalid event type");var Z=u(P)?!!P.capture:!!P,Je=ay(l);if(Je||(l[iy]=Je=new no(l)),g=Je.add(h,g,v,Z,F),g.proxy)return g;if(v=iV(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ke||(P=Z),P===void 0&&(P=!1),l.addEventListener(h.toString(),v,P);else if(l.attachEvent)l.attachEvent(KT(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return g}function iV(){function l(g){return h.call(l.src,l.listener,g)}let h=oV;return l}function WT(l,h,g,v,P){if(Array.isArray(h)){for(var F=0;F<h.length;F++)WT(l,h[F],g,v,P);return null}return g=ly(g),l&&l[ut]?l.L(h,g,u(v)?!!v.capture:!!v,P):GT(l,h,g,!0,v,P)}function QT(l,h,g,v,P){if(Array.isArray(h))for(var F=0;F<h.length;F++)QT(l,h[F],g,v,P);else v=u(v)?!!v.capture:!!v,g=ly(g),l&&l[ut]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],g=ry(F,g,v,P),-1<g&&(ui(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=ay(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ry(h,g,v,P)),(g=-1<l?h[l]:null)&&sy(g))}function sy(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ut])ny(h.i,l);else{var g=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(g,v,l.capture):h.detachEvent?h.detachEvent(KT(g),v):h.addListener&&h.removeListener&&h.removeListener(v),(g=ay(h))?(ny(g,l),g.h==0&&(g.src=null,h[iy]=null)):ui(l)}}}function KT(l){return l in oy?oy[l]:oy[l]="on"+l}function oV(l,h){if(l.da)l=!0;else{h=new to(h,this);var g=l.listener,v=l.ha||l.src;l.fa&&sy(l),l=g.call(v,h)}return l}function ay(l){return l=l[iy],l instanceof no?l:null}var cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function ly(l){return typeof l=="function"?l:(l[cy]||(l[cy]=function(h){return l.handleEvent(h)}),l[cy])}function Gt(){He.call(this),this.i=new no(this),this.M=this,this.F=null}y(Gt,He),Gt.prototype[ut]=!0,Gt.prototype.removeEventListener=function(l,h,g,v){QT(this,l,h,g,v)};function on(l,h){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new Ge(h,l);else if(h instanceof Ge)h.target=h.target||l;else{var P=h;h=new Ge(v,l),D(h,P)}if(P=!0,g)for(var F=g.length-1;0<=F;F--){var Z=h.g=g[F];P=Rd(Z,v,!0,h)&&P}if(Z=h.g=l,P=Rd(Z,v,!0,h)&&P,P=Rd(Z,v,!1,h)&&P,g)for(F=0;F<g.length;F++)Z=h.g=g[F],P=Rd(Z,v,!1,h)&&P}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],v=0;v<g.length;v++)ui(g[v]);delete l.g[h],l.h--}}this.F=null},Gt.prototype.K=function(l,h,g,v){return this.i.add(String(l),h,!1,g,v)},Gt.prototype.L=function(l,h,g,v){return this.i.add(String(l),h,!0,g,v)};function Rd(l,h,g,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,F=0;F<h.length;++F){var Z=h[F];if(Z&&!Z.da&&Z.capture==g){var Je=Z.listener,Vt=Z.ha||Z.src;Z.fa&&ny(l.i,Z),P=Je.call(Vt,v)!==!1&&P}}return P&&!v.defaultPrevented}function YT(l,h,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ZT(l){l.g=YT(()=>{l.g=null,l.i&&(l.i=!1,ZT(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class sV extends He{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ZT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function el(l){He.call(this),this.h=l,this.g={}}y(el,He);var JT=[];function XT(l){q(l.g,function(h,g){this.g.hasOwnProperty(g)&&sy(h)},l),l.g={}}el.prototype.N=function(){el.aa.N.call(this),XT(this)},el.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uy=a.JSON.stringify,aV=a.JSON.parse,cV=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function dy(){}dy.prototype.h=null;function eC(l){return l.h||(l.h=l.i())}function tC(){}var tl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hy(){Ge.call(this,"d")}y(hy,Ge);function fy(){Ge.call(this,"c")}y(fy,Ge);var Zo={},nC=null;function Md(){return nC=nC||new Gt}Zo.La="serverreachability";function rC(l){Ge.call(this,Zo.La,l)}y(rC,Ge);function nl(l){let h=Md();on(h,new rC(h))}Zo.STAT_EVENT="statevent";function iC(l,h){Ge.call(this,Zo.STAT_EVENT,l),this.stat=h}y(iC,Ge);function sn(l){let h=Md();on(h,new iC(h,l))}Zo.Ma="timingevent";function oC(l,h){Ge.call(this,Zo.Ma,l),this.size=h}y(oC,Ge);function rl(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function il(){this.g=!0}il.prototype.xa=function(){this.g=!1};function lV(l,h,g,v,P,F){l.info(function(){if(l.g)if(F)for(var Z="",Je=F.split("&"),Vt=0;Vt<Je.length;Vt++){var Be=Je[Vt].split("=");if(1<Be.length){var Wt=Be[0];Be=Be[1];var Qt=Wt.split("_");Z=2<=Qt.length&&Qt[1]=="type"?Z+(Wt+"="+Be+"&"):Z+(Wt+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+h+`
`+g+`
`+Z})}function uV(l,h,g,v,P,F,Z){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+h+`
`+g+`
`+F+" "+Z})}function ca(l,h,g,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+hV(l,g)+(v?" "+v:"")})}function dV(l,h){l.info(function(){return"TIMEOUT: "+h})}il.prototype.info=function(){};function hV(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var P=v[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<P.length;Z++)P[Z]=""}}}}return uy(g)}catch{return h}}var Pd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},py;function kd(){}y(kd,dy),kd.prototype.g=function(){return new XMLHttpRequest},kd.prototype.i=function(){return{}},py=new kd;function ro(l,h,g,v){this.j=l,this.i=h,this.l=g,this.R=v||1,this.U=new el(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aC}function aC(){this.i=null,this.g="",this.h=!1}var cC={},my={};function gy(l,h,g){l.L=1,l.v=Ld(di(h)),l.m=g,l.P=!0,lC(l,null)}function lC(l,h){l.F=Date.now(),Od(l),l.A=di(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),IC(g.i,"t",v),l.C=0,g=l.j.J,l.h=new aC,l.g=UC(l.j,g?h:null,!l.m),0<l.O&&(l.M=new sV(p(l.Y,l,l.g),l.O)),h=l.U,g=l.g,v=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(JT[0]=P.toString()),P=JT);for(var F=0;F<P.length;F++){var Z=HT(g,P[F],v||h.handleEvent,!1,h.h||h);if(!Z)break;h.g[Z.key]=Z}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),nl(),lV(l.i,l.u,l.A,l.l,l.R,l.m)}ro.prototype.ca=function(l){l=l.target;let h=this.M;h&&hi(l)==3?h.j():this.Y(l)},ro.prototype.Y=function(l){try{if(l==this.g)e:{let Qt=hi(this.g);var h=this.g.Ba();let da=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||RC(this.g)))){this.J||Qt!=4||h==7||(h==8||0>=da?nl(3):nl(2)),yy(this);var g=this.g.Z();this.X=g;t:if(uC(this)){var v=RC(this.g);l="";var P=v.length,F=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jo(this),ol(this);var Z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(F&&h==P-1)});v.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,uV(this.i,this.u,this.A,this.l,this.R,Qt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,Vt=this.g;if((Je=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Je)){var Be=Je;break t}}Be=null}if(g=Be)ca(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vy(this,g);else{this.o=!1,this.s=3,sn(12),Jo(this),ol(this);break e}}if(this.P){g=!0;let cr;for(;!this.J&&this.C<Z.length;)if(cr=fV(this,Z),cr==my){Qt==4&&(this.s=4,sn(14),g=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==cC){this.s=4,sn(15),ca(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else ca(this.i,this.l,cr,null),vy(this,cr);if(uC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||Z.length!=0||this.h.h||(this.s=1,sn(16),g=!1),this.o=this.o&&g,!g)ca(this.i,this.l,Z,"[Invalid Chunked Response]"),Jo(this),ol(this);else if(0<Z.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ty(Wt),Wt.M=!0,sn(11))}}else ca(this.i,this.l,Z,null),vy(this,Z);Qt==4&&Jo(this),this.o&&!this.J&&(Qt==4?LC(this.j,this):(this.o=!1,Od(this)))}else RV(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Jo(this),ol(this)}}}catch{}finally{}};function uC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fV(l,h){var g=l.C,v=h.indexOf(`
`,g);return v==-1?my:(g=Number(h.substring(g,v)),isNaN(g)?cC:(v+=1,v+g>h.length?my:(h=h.slice(v,v+g),l.C=v+g,h)))}ro.prototype.cancel=function(){this.J=!0,Jo(this)};function Od(l){l.S=Date.now()+l.I,dC(l,l.I)}function dC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=rl(p(l.ba,l),h)}function yy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ro.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(dV(this.i,this.A),this.L!=2&&(nl(),sn(17)),Jo(this),this.s=2,ol(this)):dC(this,this.S-l)};function ol(l){l.j.G==0||l.J||LC(l.j,l)}function Jo(l){yy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,XT(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function vy(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||_y(g.h,l))){if(!l.K&&_y(g.h,l)&&g.G==3){try{var v=g.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)$d(g),Bd(g);else break e;Iy(g),sn(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=rl(p(g.Za,g),6e3));if(1>=pC(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else es(g,11)}else if((l.K||g.g==l)&&$d(g),!k(h))for(P=g.Da.g.parse(h),h=0;h<P.length;h++){let Be=P[h];if(g.T=Be[0],Be=Be[1],g.G==2)if(Be[0]=="c"){g.K=Be[1],g.ia=Be[2];let Wt=Be[3];Wt!=null&&(g.la=Wt,g.j.info("VER="+g.la));let Qt=Be[4];Qt!=null&&(g.Aa=Qt,g.j.info("SVER="+g.Aa));let da=Be[5];da!=null&&typeof da=="number"&&0<da&&(v=1.5*da,g.L=v,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;let cr=l.g;if(cr){let qd=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qd){var F=v.h;F.g||qd.indexOf("spdy")==-1&&qd.indexOf("quic")==-1&&qd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ey(F,F.h),F.h=null))}if(v.D){let Cy=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cy&&(v.ya=Cy,nt(v.I,v.D,Cy))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),v=g;var Z=l;if(v.qa=BC(v,v.J?v.ia:null,v.W),Z.K){mC(v.h,Z);var Je=Z,Vt=v.L;Vt&&(Je.I=Vt),Je.B&&(yy(Je),Od(Je)),v.g=Z}else NC(v);0<g.i.length&&Ud(g)}else Be[0]!="stop"&&Be[0]!="close"||es(g,7);else g.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?es(g,7):by(g):Be[0]!="noop"&&g.l&&g.l.ta(Be),g.v=0)}}nl(4)}catch{}}var pV=class{constructor(l,h){this.g=l,this.map=h}};function hC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function pC(l){return l.h?1:l.g?l.g.size:0}function _y(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ey(l,h){l.g?l.g.add(h):l.h=h}function mC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}hC.prototype.cancel=function(){if(this.i=gC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function gC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let g of l.g.values())h=h.concat(g.D);return h}return _(l.i)}function mV(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,v=0;v<g;v++)h.push(l[v]);return h}h=[],g=0;for(v in l)h[g++]=l[v];return h}function gV(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(let v in l)h[g++]=v;return h}}}function yC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=gV(l),v=mV(l),P=v.length,F=0;F<P;F++)h.call(void 0,v[F],g&&g[F],l)}var vC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yV(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),P=null;if(0<=v){var F=l[g].substring(0,v);P=l[g].substring(v+1)}else F=l[g];h(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Xo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Xo){this.h=l.h,Nd(this,l.j),this.o=l.o,this.g=l.g,Fd(this,l.s),this.l=l.l;var h=l.i,g=new cl;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),_C(this,g),this.m=l.m}else l&&(h=String(l).match(vC))?(this.h=!1,Nd(this,h[1]||"",!0),this.o=sl(h[2]||""),this.g=sl(h[3]||"",!0),Fd(this,h[4]),this.l=sl(h[5]||"",!0),_C(this,h[6]||"",!0),this.m=sl(h[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}Xo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(al(h,EC,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(al(h,EC,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(al(g,g.charAt(0)=="/"?EV:_V,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",al(g,bV)),l.join("")};function di(l){return new Xo(l)}function Nd(l,h,g){l.j=g?sl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Fd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function _C(l,h,g){h instanceof cl?(l.i=h,IV(l.i,l.h)):(g||(h=al(h,wV)),l.i=new cl(h,l.h))}function nt(l,h,g){l.i.set(h,g)}function Ld(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function sl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function al(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,vV),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function vV(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var EC=/[#\/\?@]/g,_V=/[#\?:]/g,EV=/[#\?]/g,wV=/[#\?@]/g,bV=/#/g;function cl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function io(l){l.g||(l.g=new Map,l.h=0,l.i&&yV(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}n=cl.prototype,n.add=function(l,h){io(this),this.i=null,l=la(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function wC(l,h){io(l),h=la(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function bC(l,h){return io(l),h=la(l,h),l.g.has(h)}n.forEach=function(l,h){io(this),this.g.forEach(function(g,v){g.forEach(function(P){l.call(h,P,v,this)},this)},this)},n.na=function(){io(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let v=0;v<h.length;v++){let P=l[v];for(let F=0;F<P.length;F++)g.push(h[v])}return g},n.V=function(l){io(this);let h=[];if(typeof l=="string")bC(this,l)&&(h=h.concat(this.g.get(la(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},n.set=function(l,h){return io(this),this.i=null,l=la(this,l),bC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function IC(l,h,g){wC(l,h),0<g.length&&(l.i=null,l.g.set(la(l,h),_(g)),l.h+=g.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var v=h[g];let F=encodeURIComponent(String(v)),Z=this.V(v);for(v=0;v<Z.length;v++){var P=F;Z[v]!==""&&(P+="="+encodeURIComponent(String(Z[v]))),l.push(P)}}return this.i=l.join("&")};function la(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function IV(l,h){h&&!l.j&&(io(l),l.i=null,l.g.forEach(function(g,v){var P=v.toLowerCase();v!=P&&(wC(this,v),IC(this,P,g))},l)),l.j=h}function TV(l,h){let g=new il;if(a.Image){let v=new Image;v.onload=m(oo,g,"TestLoadImage: loaded",!0,h,v),v.onerror=m(oo,g,"TestLoadImage: error",!1,h,v),v.onabort=m(oo,g,"TestLoadImage: abort",!1,h,v),v.ontimeout=m(oo,g,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function CV(l,h){let g=new il,v=new AbortController,P=setTimeout(()=>{v.abort(),oo(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(F=>{clearTimeout(P),F.ok?oo(g,"TestPingServer: ok",!0,h):oo(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),oo(g,"TestPingServer: error",!1,h)})}function oo(l,h,g,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(g)}catch{}}function DV(){this.g=new cV}function SV(l,h,g){let v=g||"";try{yC(l,function(P,F){let Z=P;u(P)&&(Z=uy(P)),h.push(v+F+"="+encodeURIComponent(Z))})}catch(P){throw h.push(v+"type="+encodeURIComponent("_badmap")),P}}function ll(l){this.l=l.Ub||null,this.j=l.eb||!1}y(ll,dy),ll.prototype.g=function(){return new Vd(this.l,this.j)},ll.prototype.i=function(l){return function(){return l}}({});function Vd(l,h){Gt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vd,Gt),n=Vd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,dl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;TC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function TC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ul(this):dl(this),this.readyState==3&&TC(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ul(this))},n.Qa=function(l){this.g&&(this.response=l,ul(this))},n.ga=function(){this.g&&ul(this)};function ul(l){l.readyState=4,l.l=null,l.j=null,l.v=null,dl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function dl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function CC(l){let h="";return q(l,function(g,v){h+=v,h+=":",h+=g,h+=`\r
`}),h}function wy(l,h,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=CC(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):nt(l,h,g))}function dt(l){Gt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(dt,Gt);var AV=/^https?$/i,xV=["POST","PUT"];n=dt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():py.g(),this.v=this.o?eC(this.o):eC(py),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){DC(this,F);return}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)g.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let F of v.keys())g.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),P=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xV,h,void 0))||v||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,Z]of g)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xC(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){DC(this,F)}};function DC(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,SC(l),jd(l)}function SC(l){l.A||(l.A=!0,on(l,"complete"),on(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,on(this,"complete"),on(this,"abort"),jd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jd(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?AC(this):this.bb())},n.bb=function(){AC(this)};function AC(l){if(l.h&&typeof s<"u"&&(!l.v[1]||hi(l)!=4||l.Z()!=2)){if(l.u&&hi(l)==4)YT(l.Ea,0,l);else if(on(l,"readystatechange"),hi(l)==4){l.h=!1;try{let Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var v;if(v=Z===0){var P=String(l.D).match(vC)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),v=!AV.test(P?P.toLowerCase():"")}g=v}if(g)on(l,"complete"),on(l,"success");else{l.m=6;try{var F=2<hi(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",SC(l)}}finally{jd(l)}}}}function jd(l,h){if(l.g){xC(l);let g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||on(l,"ready");try{g.onreadystatechange=v}catch{}}}function xC(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function hi(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),aV(h)}};function RC(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function RV(l){let h={};l=(l.g&&2<=hi(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(k(l[v]))continue;var g=R(l[v]);let P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let F=h[P]||[];h[P]=F,F.push(g)}C(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function MC(l){this.Aa=0,this.i=[],this.j=new il,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,l),this.cb=hl("retryDelaySeedMs",1e4,l),this.Wa=hl("forwardChannelMaxRetries",2,l),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hC(l&&l.concurrentRequestLimit),this.Da=new DV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=MC.prototype,n.la=8,n.G=1,n.connect=function(l,h,g,v){sn(0),this.W=l,this.H=h||{},g&&v!==void 0&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=BC(this,null,this.W),Ud(this)};function by(l){if(PC(l),l.G==3){var h=l.U++,g=di(l.I);if(nt(g,"SID",l.K),nt(g,"RID",h),nt(g,"TYPE","terminate"),fl(l,g),h=new ro(l,l.j,h),h.L=2,h.v=Ld(di(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=UC(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Od(h)}jC(l)}function Bd(l){l.g&&(Ty(l),l.g.cancel(),l.g=null)}function PC(l){Bd(l),l.u&&(a.clearTimeout(l.u),l.u=null),$d(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ud(l){if(!fC(l.h)&&!l.s){l.s=!0;var h=l.Ga;ie||at(),se||(ie(),se=!0),ue.add(h,l),l.B=0}}function MV(l,h){return pC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=rl(p(l.Ga,l,h),VC(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let P=new ro(this,this.j,l),F=this.o;if(this.S&&(F?(F=E(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var v=this.i[g];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=OC(this,P,h),g=di(this.I),nt(g,"RID",l),nt(g,"CVER",22),this.D&&nt(g,"X-HTTP-Session-Id",this.D),fl(this,g),F&&(this.O?h="headers="+encodeURIComponent(String(CC(F)))+"&"+h:this.m&&wy(g,this.m,F)),Ey(this.h,P),this.Ua&&nt(g,"TYPE","init"),this.P?(nt(g,"$req",h),nt(g,"SID","null"),P.T=!0,gy(P,g,null)):gy(P,g,h),this.G=2}}else this.G==3&&(l?kC(this,l):this.i.length==0||fC(this.h)||kC(this))};function kC(l,h){var g;h?g=h.l:g=l.U++;let v=di(l.I);nt(v,"SID",l.K),nt(v,"RID",g),nt(v,"AID",l.T),fl(l,v),l.m&&l.o&&wy(v,l.m,l.o),g=new ro(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=OC(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ey(l.h,g),gy(g,v,h)}function fl(l,h){l.H&&q(l.H,function(g,v){nt(h,v,g)}),l.l&&yC({},function(g,v){nt(h,v,g)})}function OC(l,h,g){g=Math.min(l.i.length,g);var v=l.l?p(l.l.Na,l.l,l):null;e:{var P=l.i;let F=-1;for(;;){let Z=["count="+g];F==-1?0<g?(F=P[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let Je=!0;for(let Vt=0;Vt<g;Vt++){let Be=P[Vt].g,Wt=P[Vt].map;if(Be-=F,0>Be)F=Math.max(0,P[Vt].g-100),Je=!1;else try{SV(Wt,Z,"req"+Be+"_")}catch{v&&v(Wt)}}if(Je){v=Z.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,v}function NC(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ie||at(),se||(ie(),se=!0),ue.add(h,l),l.v=0}}function Iy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=rl(p(l.Fa,l),VC(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,FC(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=rl(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Bd(this),FC(this))};function Ty(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function FC(l){l.g=new ro(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=di(l.qa);nt(h,"RID","rpc"),nt(h,"SID",l.K),nt(h,"AID",l.T),nt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(h,"TO",l.ja),nt(h,"TYPE","xmlhttp"),fl(l,h),l.m&&l.o&&wy(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ld(di(h)),g.m=null,g.P=!0,lC(g,l)}n.Za=function(){this.C!=null&&(this.C=null,Bd(this),Iy(this),sn(19))};function $d(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function LC(l,h){var g=null;if(l.g==h){$d(l),Ty(l),l.g=null;var v=2}else if(_y(l.h,h))g=h.D,mC(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var P=l.B;v=Md(),on(v,new oC(v,g)),Ud(l)}else NC(l);else if(P=h.s,P==3||P==0&&0<h.X||!(v==1&&MV(l,h)||v==2&&Iy(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),P){case 1:es(l,5);break;case 4:es(l,10);break;case 3:es(l,6);break;default:es(l,2)}}}function VC(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function es(l,h){if(l.j.info("Error code "+h),h==2){var g=p(l.fb,l),v=l.Xa;let P=!v;v=new Xo(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nd(v,"https"),Ld(v),P?TV(v.toString(),g):CV(v.toString(),g)}else sn(2);l.G=0,l.l&&l.l.sa(h),jC(l),PC(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function jC(l){if(l.G=0,l.ka=[],l.l){let h=gC(l.h);(h.length!=0||l.i.length!=0)&&(w(l.ka,h),w(l.ka,l.i),l.h.i.length=0,_(l.i),l.i.length=0),l.l.ra()}}function BC(l,h,g){var v=g instanceof Xo?di(g):new Xo(g);if(v.g!="")h&&(v.g=h+"."+v.g),Fd(v,v.s);else{var P=a.location;v=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var F=new Xo(null);v&&Nd(F,v),h&&(F.g=h),P&&Fd(F,P),g&&(F.l=g),v=F}return g=l.D,h=l.ya,g&&h&&nt(v,g,h),nt(v,"VER",l.la),fl(l,v),v}function UC(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new dt(new ll({eb:g})):new dt(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $C(){}n=$C.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zd(){}zd.prototype.g=function(l,h){return new kn(l,h)};function kn(l,h){Gt.call(this),this.g=new MC(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!k(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!k(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ua(this)}y(kn,Gt),kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){by(this.g)},kn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=uy(l),l=g);h.i.push(new pV(h.Ya++,l)),h.G==3&&Ud(h)},kn.prototype.N=function(){this.g.l=null,delete this.j,by(this.g),delete this.g,kn.aa.N.call(this)};function zC(l){hy.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}y(zC,hy);function qC(){fy.call(this),this.status=1}y(qC,fy);function ua(l){this.g=l}y(ua,$C),ua.prototype.ua=function(){on(this.g,"a")},ua.prototype.ta=function(l){on(this.g,new zC(l))},ua.prototype.sa=function(l){on(this.g,new qC)},ua.prototype.ra=function(){on(this.g,"b")},zd.prototype.createWebChannel=zd.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,aL=Ji.createWebChannelTransport=function(){return new zd},sL=Ji.getStatEventTarget=function(){return Md()},oL=Ji.Event=Zo,iL=Ji.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pd.NO_ERROR=0,Pd.TIMEOUT=8,Pd.HTTP_ERROR=6,rL=Ji.ErrorCode=Pd,sC.COMPLETE="complete",nL=Ji.EventType=sC,tC.EventType=tl,tl.OPEN="a",tl.CLOSE="b",tl.ERROR="c",tl.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,tL=Ji.WebChannel=tC,PZ=Ji.FetchXmlHttpFactory=ll,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,eL=Ji.XhrIo=dt}).apply(typeof Gg<"u"?Gg:typeof self<"u"?self:typeof window<"u"?window:{});var cL="@firebase/firestore",lL="4.7.10";var qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");var Dd="11.5.0";var Kc=new ir("@firebase/firestore");function Ar(n,...e){if(Kc.logLevel<=$e.DEBUG){let t=e.map(PT);Kc.debug(`Firestore (${Dd}): ${n}`,...t)}}function yL(n,...e){if(Kc.logLevel<=$e.ERROR){let t=e.map(PT);Kc.error(`Firestore (${Dd}): ${n}`,...t)}}function kZ(n,...e){if(Kc.logLevel<=$e.WARN){let t=e.map(PT);Kc.warn(`Firestore (${Dd}): ${n}`,...t)}}function PT(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Pn(n="Unexpected state"){let e=`FIRESTORE (${Dd}) INTERNAL ASSERTION FAILED: `+n;throw yL(e),new Error(e)}function oa(n,e){n||Pn()}var gn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ht=class extends xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var sa=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Wg=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vT=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qt.UNAUTHENTICATED))}shutdown(){}},_T=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},ET=class{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){oa(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sa,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>S(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Ar("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Ar("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sa)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ar("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(oa(typeof r.accessToken=="string"),new Wg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return oa(e===null||typeof e=="string"),new qt(e)}},wT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},bT=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new wT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},IT=class{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Xt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){oa(this.o===void 0);let r=o=>{o.error!=null&&Ar("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,Ar("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Ar("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):Ar("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qg(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(oa(typeof t.token=="string"),this.R=t.token,new Qg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function OZ(){return new TextEncoder}function Yo(n,e){return n<e?-1:n>e?1:0}function NZ(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Yo(r,i);{let o=OZ(),s=FZ(o.encode(uL(n,t)),o.encode(uL(e,t)));return s!==0?s:Yo(r,i)}}t+=r>65535?2:1}return Yo(n.length,e.length)}function uL(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function FZ(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Yo(n[t],e[t]);return Yo(n.length,e.length)}var TT=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pn(),r===void 0?r=e.length-t:r>e.length-t&&Pn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Yo(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):NZ(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hg.fromString(e.substring(4,e.length-2))}},Ko=class n extends TT{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Ht(gn.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}};var aa=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ko.fromString(e))}static fromName(e){return new n(Ko.fromString(e).popFirst(5))}static empty(){return new n(Ko.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ko.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ko.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ko(e.slice()))}};var CT=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};CT.UNKNOWN_ID=-1;function LZ(n){return n.name==="IndexedDbTransactionError"}function VZ(n){return n===0&&1/n==-1/0}var jZ="remoteDocuments",vL="owner";var _L="mutationQueues";var EL="mutations";var wL="documentMutations",BZ="remoteDocumentsV14";var bL="remoteDocumentGlobal";var IL="targets";var TL="targetDocuments";var CL="targetGlobal",DL="collectionParents";var SL="clientMetadata";var AL="bundles";var xL="namedQueries";var UZ="indexConfiguration";var $Z="indexState";var zZ="indexEntries";var RL="documentOverlays";var qZ="globals";var HZ=[_L,EL,wL,jZ,IL,vL,CL,TL,SL,bL,DL,AL,xL],l0e=[...HZ,RL],GZ=[_L,EL,wL,BZ,IL,vL,CL,TL,SL,bL,DL,AL,xL,RL],WZ=GZ,QZ=[...WZ,UZ,$Z,zZ];var u0e=[...QZ,qZ];var Yc=class n{constructor(e,t){this.comparator=e,this.root=t||ai.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ai.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}},Qc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ai=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pn();let e=this.left.check();if(e!==this.right.check())throw Pn();return e+(this.isRed()?0:1)}};ai.EMPTY=null,ai.RED=!0,ai.BLACK=!1;ai.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn()}get value(){throw Pn()}get color(){throw Pn()}get left(){throw Pn()}get right(){throw Pn()}copy(e,t,r,i,o){return this}insert(e,t,r){return new ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Kg=class n{constructor(e){this.comparator=e,this.data=new Yc(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yg(this.data.getIterator())}getIteratorFrom(e){return new Yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Yg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var DT=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zc=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DT("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Yo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zc.EMPTY_BYTE_STRING=new Zc("");var KZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function YZ(n){if(oa(!!n),typeof n=="string"){let e=0,t=KZ.exec(n);if(oa(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cd(n.seconds),nanos:Cd(n.nanos)}}function Cd(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ZZ(n){return typeof n=="string"?Zc.fromBase64String(n):Zc.fromUint8Array(n)}var ST="(default)",AT=class n{constructor(e,t){this.projectId=e,this.database=t||ST}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ST}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ML="__type__",JZ="__max__";var PL="__vector__",kL="value";function XZ(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ML])===null||t===void 0?void 0:t.stringValue)===PL}function eJ(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JZ}var h0e={mapValue:{fields:{[ML]:{stringValue:PL},[kL]:{arrayValue:{}}}}};var f0e=new Yc(aa.comparator);var p0e=new Yc(aa.comparator);var m0e=new Yc(aa.comparator),g0e=new Kg(aa.comparator);var y0e=new Kg(Yo);var dL,Oe;(Oe=dL||(dL={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var v0e=new Hg([4294967295,4294967295],0);var Zg=class{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Cd(e.integerValue));else if("doubleValue"in e){let r=Cd(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),VZ(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=YZ(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.St(t);else if("bytesValue"in e)this.ft(t,30),t.bt(ZZ(e.bytesValue)),this.St(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?eJ(e)?this.ft(t,Number.MAX_SAFE_INTEGER):XZ(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.St(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.St(t)):Pn()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){let r=e.fields||{};this.ft(t,55);for(let i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;let o=e.fields||{};this.ft(t,53);let s=kL,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Cd(a)),this.wt(s,t),this.Rt(o[s],t)}Ft(e,t){let r=e.values||[];this.ft(t,50);for(let i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),aa.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}St(e){e.gt(2)}};Zg.xt=new Zg;var _0e=new Uint8Array(0);var OL=41943040,si=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(OL,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);var tJ=1048576;function yT(){return typeof document<"u"?document:null}var xT=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&Ar("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var RT=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(gn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var hL,fL;(fL=hL||(hL={}))._a="default",fL.Cache="cache";function nJ(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var pL=new Map;function rJ(n,e,t,r){if(e===!0&&r===!0)throw new Ht(gn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function iJ(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pn()}function oJ(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ht(gn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=iJ(n);throw new Ht(gn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var NL="firestore.googleapis.com",mL=!0,Jg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ht(gn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NL,this.ssl=mL}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:mL;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tJ)throw new Ht(gn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nJ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ht(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ht(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ht(gn.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xg=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(gn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ht(gn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vT;switch(r.type){case"firstParty":return new bT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ht(gn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=pL.get(t);r&&(Ar("ComponentProvider","Removing Datastore"),pL.delete(t),r.terminate())}(this),Promise.resolve()}};function FL(n,e,t,r={}){var i;let o=(n=oJ(n,Xg))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;o.host!==NL&&o.host!==a&&kZ("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!rr(c,s)&&(n._setSettings(c),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=qt.MOCK_USER;else{u=Fp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Ht(gn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new qt(f)}n._authCredentials=new _T(new Wg(u,d))}}var gL="AsyncQueue",ey=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new xT(this,"async_queue_retry"),this.Su=()=>{let r=yT();r&&Ar(gL,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let t=yT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let t=yT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let t=new sa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return S(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!LZ(e))throw e;Ar(gL,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw yL("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);let i=RT.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Pn()}verifyOperationInProgress(){}Mu(){return S(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let t=this.fu.indexOf(e);this.fu.splice(t,1)}};var MT=class extends Xg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ey,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ey(e),this._firestoreClient=void 0,yield e}})}};function LL(n,e){let t=typeof n=="object"?n:or(),r=typeof n=="string"?n:e||ST,i=An(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=Np("firestore");o&&FL(i,...o)}return i}var E0e=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(i){Dd=i})(Zr),Rt(new lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new MT(new ET(r.getProvider("auth-internal")),new IT(s,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ht(gn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new AT(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),je(cL,lL,e),je(cL,lL,"esm2017")})();var Sd=class{constructor(e){return e}},VL="firestore",kT=class{constructor(){return Ao(VL)}};var OT=new Q("angularfire2.firestore-instances");function sJ(n,e){let t=Ns(VL,n,e);return t&&new Sd(t)}function aJ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Sd(r)}}var cJ={provide:kT,deps:[[new mt,OT]]},lJ={provide:Sd,useFactory:sJ,deps:[[new mt,OT],Er]};function jL(n,...e){return je("angularfire",Jr.full,"fst"),Fn([lJ,cJ,{provide:OT,useFactory:aJ(n),multi:!0,deps:[_e,We,Xr,Li,[new mt,Us],[new mt,Ro],...e]}])}var BL=en(LL,!0);var GL="firebasestorage.googleapis.com",uJ="storageBucket",dJ=2*60*1e3,hJ=10*60*1e3;var ci=class n extends xt{constructor(e,t,r=0){super(NT(e),`Firebase Storage: ${t} (${NT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return NT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},eo=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(eo||{});function NT(n){return"storage/"+n}function fJ(){let n="An unknown error occurred, please check the error payload for server response.";return new ci(eo.UNKNOWN,n)}function pJ(){return new ci(eo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mJ(){return new ci(eo.CANCELED,"User canceled the upload/download.")}function gJ(n){return new ci(eo.INVALID_URL,"Invalid URL '"+n+"'.")}function yJ(n){return new ci(eo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function UL(n){return new ci(eo.INVALID_ARGUMENT,n)}function WL(){return new ci(eo.APP_DELETED,"The Firebase app was deleted.")}function vJ(n){return new ci(eo.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Xi=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw yJ(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function u(V){V.path_=decodeURIComponent(V.path)}let d="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},_=t===GL?"(?:storage.googleapis.com|storage.cloud.google.com)":t,w="([^?#]*)",b=new RegExp(`^https?://${_}/${i}/${w}`,"i"),x=[{regex:a,indices:c,postModify:o},{regex:m,indices:y,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let V=0;V<x.length;V++){let U=x[V],q=U.regex.exec(e);if(q){let C=q[U.indices.bucket],E=q[U.indices.path];E||(E=""),r=new n(C,E),U.postModify(r);break}}if(r==null)throw gJ(e);return r}},FT=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function _J(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function c(){return a===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,n(m,c())},w)}function p(){o&&clearTimeout(o)}function m(w,...b){if(u){p();return}if(w){p(),d.call(null,w,...b);return}if(c()||s){p(),d.call(null,w,...b);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let y=!1;function _(w){y||(y=!0,p(),!u&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,_(!0)},t),_}function EJ(n){n(!1)}function wJ(n){return n!==void 0}function $L(n,e,t,r){if(r<e)throw UL(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw UL(`Invalid value for '${n}'. Expected ${t} or less.`)}function bJ(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var LT=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(LT||{});function IJ(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var VT=class{constructor(e,t,r,i,o,s,a,c,u,d,f,p=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Jc(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===LT.NO_ERROR,c=o.getStatus();if(!a||IJ(c,this.additionalRetryCodes_)&&this.retry){let d=o.getErrorCode()===LT.ABORT;r(!1,new Jc(!1,null,d));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Jc(u,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());wJ(c)?o(c):o()}catch(c){s(c)}else if(a!==null){let c=fJ();c.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,c)):s(c)}else if(i.canceled){let c=this.appDelete_?WL():mJ();s(c)}else{let c=pJ();s(c)}};this.canceled_?t(!1,new Jc(!1,null,!0)):this.backoffId_=_J(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Jc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function TJ(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function CJ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DJ(n,e){e&&(n["X-Firebase-GMPID"]=e)}function SJ(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function AJ(n,e,t,r,i,o,s=!0){let a=bJ(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return DJ(u,e),TJ(u,t),CJ(u,o),SJ(u,r),new VT(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function xJ(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function RJ(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var BIe=256*1024;var jT=class n{constructor(e,t){this._service=e,t instanceof Xi?this._location=t:this._location=Xi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new Xi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RJ(this._location.path)}get storage(){return this._service}get parent(){let e=xJ(this._location.path);if(e===null)return null;let t=new Xi(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw vJ(e)}};function zL(n,e){let t=e?.[uJ];return t==null?null:Xi.makeFromBucketSpec(t,n)}function MJ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Fp(i,n.app.options.projectId))}var BT=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=GL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dJ,this._maxUploadRetryTime=hJ,this._requests=new Set,i!=null?this._bucket=Xi.makeFromBucketSpec(i,this._host):this._bucket=zL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xi.makeFromBucketSpec(this._url,e):this._bucket=zL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$L("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$L("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){if(Xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jT(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new FT(WL());{let s=AJ(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return S(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},qL="@firebase/storage",HL="0.13.7";var QL="storage";function KL(n=or(),e){n=Et(n);let r=An(n,QL).getImmediate({identifier:e}),i=Np("storage");return i&&YL(r,...i),r}function YL(n,e,t,r={}){MJ(n,e,t,r)}function PJ(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new BT(t,r,i,e,Zr)}function kJ(){Rt(new lt(QL,PJ,"PUBLIC").setMultipleInstances(!0)),je(qL,HL,""),je(qL,HL,"esm2017")}kJ();var Ad=class{constructor(e){return e}},ZL="storage",UT=class{constructor(){return Ao(ZL)}};var $T=new Q("angularfire2.storage-instances");function OJ(n,e){let t=Ns(ZL,n,e);return t&&new Ad(t)}function NJ(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ad(r)}}var FJ={provide:UT,deps:[[new mt,$T]]},LJ={provide:Ad,useFactory:OJ,deps:[[new mt,$T],Er]};function JL(n,...e){return je("angularfire",Jr.full,"gcs"),Fn([LJ,FJ,{provide:$T,useFactory:NJ(n),multi:!0,deps:[_e,We,Xr,Li,[new mt,Us],[new mt,Ro],...e]}])}var XL=en(KL,!0);var eV=(n,e)=>{let t=O(Lt);if(n.headers.has("Authorization"))return e(n);let r=t.getToken();if(r){console.log("Adicionando token \xE0 requisi\xE7\xE3o de forma s\xEDncrona");let i=n.clone({headers:n.headers.set("Authorization",`Bearer ${r}`)});return e(i)}return t.getTokenAsync().pipe(ot(i=>{if(i){console.log("Adicionando token \xE0 requisi\xE7\xE3o de forma ass\xEDncrona");let o=n.clone({headers:n.headers.set("Authorization",`Bearer ${i}`)});return e(o)}return console.log("Requisi\xE7\xE3o enviada sem token de autoriza\xE7\xE3o"),e(n)}),he(i=>(console.error("Erro ao obter token para requisi\xE7\xE3o:",i),e(n))))};var VJ=(n,e,t)=>{let r=["POST","PUT","PATCH"].indexOf(n.method.toUpperCase())!==-1,i=u=>["variables","extensions"].indexOf(u.toLowerCase())!==-1,o=n.body.length,s=n.options&&n.options.useMultipart,a;if(s){if(o)return new ce(u=>u.error(new Error("File upload is not available when combined with Batching")));if(!r)return new ce(u=>u.error(new Error("File upload is not available when GET is used")));if(!t)return new ce(u=>u.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));a=t(n.body),s=!!a.files.size}let c={};if(o){if(!r)return new ce(u=>u.error(new Error("Batching is not available for GET requests")));c={body:n.body}}else{let u=s?a.clone:n.body;r?c={body:u}:c={params:Object.keys(n.body).reduce((f,p)=>{let m=n.body[p];return f[p]=i(p)?JSON.stringify(m):m,f},{})}}if(s&&r){let u=new FormData;u.append("operations",JSON.stringify(c.body));let d={},f=a.files,p=0;f.forEach(m=>{d[++p]=m}),u.append("map",JSON.stringify(d)),p=0,f.forEach((m,y)=>{u.append(++p+"",y,y.name)}),c.body=u}return e.request(n.method,n.url,B(B({observe:"response",responseType:"json",reportProgress:!1},c),n.options))},jJ=(n,e)=>n&&e?e.keys().reduce((r,i)=>r.set(i,e.getAll(i)),n):e||n;function BJ(...n){return n.find(e=>typeof e<"u")}function UJ(n){let e=n.headers&&n.headers instanceof Hr?n.headers:new Hr(n.headers);if(n.clientAwareness){let{name:t,version:r}=n.clientAwareness;t&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",t)),r&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",r))}return e}var $J={batchInterval:10,batchMax:10,uri:"graphql",method:"POST",withCredentials:!1,includeQuery:!0,includeExtensions:!1,useMultipart:!1};function Xc(n,e,t){return BJ(n[t],e[t],$J[t])}var zT=class extends kt{httpClient;options;requester;print=Ac;constructor(e,t){super(),this.httpClient=e,this.options=t,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=r=>new ge(i=>{let o=r.getContext(),s=Xc(o,this.options,"method"),a=Xc(o,this.options,"includeQuery"),c=Xc(o,this.options,"includeExtensions"),u=Xc(o,this.options,"uri"),d=Xc(o,this.options,"withCredentials"),f=Xc(o,this.options,"useMultipart"),p=this.options.useGETForQueries===!0,m=r.query.definitions.some(b=>b.kind==="OperationDefinition"&&b.operation==="query");p&&m&&(s="GET");let y={method:s,url:typeof u=="function"?u(r):u,body:{operationName:r.operationName,variables:r.variables},options:{withCredentials:d,useMultipart:f,headers:this.options.headers}};c&&(y.body.extensions=r.extensions),a&&(y.body.query=this.print(r.query));let _=UJ(o);y.options.headers=jJ(y.options.headers,_);let w=VJ(y,this.httpClient,this.options.extractFiles).subscribe({next:b=>{r.setContext({response:b}),i.next(b.body)},error:b=>i.error(b),complete:()=>i.complete()});return()=>{w.closed||w.unsubscribe()}})}request(e){return this.requester(e)}},tV=(()=>{class n{httpClient;constructor(t){this.httpClient=t}create(t){return new zT(this.httpClient,t)}static \u0275fac=function(r){return new(r||n)(J(IE))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qT(n){return new kt(function(e,t){return new ge(function(r){var i,o,s;try{i=t(e).subscribe({next:function(a){if(a.errors?s=n({graphQLErrors:a.errors,response:a,operation:e,forward:t}):$m(a)&&(s=n({protocolErrors:a.extensions[Js],response:a,operation:e,forward:t})),s){o=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.next(a)},error:function(a){if(s=n({operation:e,networkError:a,graphQLErrors:a&&a.result&&a.result.errors||void 0,forward:t}),s){o=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.error(a)},complete:function(){s||r.complete.bind(r)()}})}catch(a){n({networkError:a,operation:e,forward:t}),r.error(a)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}})})}var ATe=function(n){gt(e,n);function e(t){var r=n.call(this)||this;return r.link=qT(t),r}return e.prototype.request=function(t,r){return this.link.request(t,r)},e}(kt);function nV(n){return new kt(function(e,t){var r=Ct(e,[]);return new ge(function(i){var o,s=!1;return Promise.resolve(r).then(function(a){return n(a,e.getContext())}).then(e.setContext).then(function(){s||(o=t(e).subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)}))}).catch(i.error.bind(i)),function(){s=!0,o&&o.unsubscribe()}})})}function zJ(n,e){console.log("Inicializando Apollo GraphQL...");let t=n.create({uri:$i.graphqlUrl}),r=qT(({graphQLErrors:s,networkError:a})=>{s&&s.forEach(({message:c,locations:u,path:d})=>{console.error(`[GraphQL error]: ${c}`,d?`Path: ${d}`:"")}),a&&console.error("[Network error]")}),i=nV((s,{headers:a})=>{let c=e.getToken();return console.log("Status do token:",c?"Dispon\xEDvel":"Indispon\xEDvel"),{headers:ae(B({},a),{authorization:c?`Bearer ${c}`:""})}}),o=new cd({typePolicies:{Board:{fields:{columns:{merge(s=[],a){return a}},createdAt:{read(s){if(typeof s=="object"&&s!==null)try{if("toDate"in s&&typeof s.toDate=="function")return s.toDate().toISOString();if("seconds"in s&&typeof s.seconds=="number")return new Date(s.seconds*1e3).toISOString()}catch(a){console.error("Erro ao converter createdAt no cache:",a)}return s}}}},Column:{fields:{cards:{merge(s=[],a){return a}}}},Card:{fields:{dueDate:{read(s){if(typeof s=="object"&&s!==null)try{if("toDate"in s&&typeof s.toDate=="function")return s.toDate().toISOString();if("seconds"in s&&typeof s.seconds=="number")return new Date(s.seconds*1e3).toISOString()}catch(a){console.error("Erro ao converter dueDate no cache:",a)}return s}}}}}});return{link:kt.from([r,i,t]),cache:o,defaultOptions:{query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"},watchQuery:{fetchPolicy:"network-only",errorPolicy:"all"}}}}var rV=(()=>{class n{constructor(){console.debug("GraphQL Module inicializado")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Bt({type:n})}static{this.\u0275inj=jt({providers:[{provide:AI,useFactory:zJ,deps:[tV,Lt]}]})}}return n})();window.firebase=ae(B({},window.firebase),{FIREBASE_APPCHECK_DEBUG_TOKEN:!0,USE_EMULATOR:$i.useEmulators||!1,logLevel:"silent"});console.log("Inicializando Firebase com config:",$i.firebase);var xd=zp($i.firebase);if($i.production){let n=YF(xd)}vR(Fk,{providers:[YR(),cR(lR([eV])),jM(_F),gP(()=>xd),Dk(()=>xk(xd)),jL(()=>BL(xd)),JL(()=>XL(xd)),m_(rV),dg]}).catch(n=>console.error(n));
